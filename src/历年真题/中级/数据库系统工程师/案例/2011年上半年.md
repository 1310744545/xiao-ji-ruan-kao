---  
title: 2011年上半年  
# icon: gears  
order: 998  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

试题一（15分）  
阅读下列说明，回答问题1至问题4，将解答填入答题纸的对应栏内。  
【说明】  
某医院欲开发病人监控系统。该系统通过各种设备监控病人的生命特征，并在生命特征异常时向医生和护理人员报警。该系统的主要功能如下：  
(1)本地监控：定期获取病人的生命特征，如体温、血压、心率等数据。  
(2)格式化生命特征：对病人的各项重要生命特征数据进行格式化，然后存入日志文件并检查生命特征。  
(3)检查生命特征：将格式化后的生命特征与生命特征范围文件中预设的正常范围进行比较。如果超出了预设范围，系统就发送一条警告信息给医生和护理人员。  
(4)维护生命特征范围：医生在必要时（如，新的研究结果出现时）添加或更新生命特征值的正常范围。  
(5)提取报告：在医生或护理人员请求病人生命特征报告时，从日志文件中获取病人生命特征生成特征报告，并返回给请求者。  
(6)生成病历：根据日志文件中的生命特征，医生对病人的病情进行描述，形成病历存入病历文件。  
(7)查询病历：根据医生的病历查询请求，查询病历文件，给医生返回病历报告。  
(8)生成治疗意见：根据日志文件中的生命特征和病历，医生给出治疗意见，如处方等，并存入治疗意见文件。  
(9)查询治疗意见：医生和护理人员查询治疗意见，据此对病人进行治疗。  
现采用结构化方法对病人监控系统进行分析与设计，获得如图1-1所示的顶层数据流图和图1-2所示的0层数据流图。  
![f8d39edffebe455fa5484052bb24748d.jpg][]  
![ef5c68563b1f49a798143a2be2bf67ee.jpg][]  
  
【问题1】（3分）  
使用说明中的词语，给出图1-1中的实体E1~E3的名称。  
  
【问题2】（4分）  
使用说明中的词语，给出图1-2中的数据存储D1~D4的名称。  
  
【问题3】（6分）  
图1-2中缺失了4条数据流，使用说明、图1-1和图1-2中的术语，给出数据流的名称及其起点和终点。  
  
【问题4】（2分）  
说明实体E1和E2之前可否有数据流，并解释其原因。  


## 第2题 ##

试题二（15分）  
阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
某法院要开发一个诉讼案件信息处理系统，该信息系统的部分关系模式如下：  
职工（职工编号，姓名，岗位）  
律师（律师编号，姓名）  
被告（被告编号，姓名，地址）  
案件（案件编号，案件类型，案件描述，被告，律师，主审法官，立案日期，状态，结案日期，结案摘要）  
审理（审理编号，案件编号，审理日期，摘要）  
有关关系模式的属性及相关说明如下：  
(1)职工关系模式的岗位有“法官”、“书记员”和“其他”。  
(2)诉讼立案后，即在案件关系中插入一条相应记录。案件关系模式的状态有“待处理”、“审理中”、“结案”和“撤销”，一个案件开始立案时其案件状态为“待处理”。  
(3)案件关系模式的案件类型有“偷窃”、“纵火”等。  
(4)一个案件自立案到结案的整个过程由一位法官和一位律师负责，一个案件通常经过一次到多次审理。  
  
【问题1】（4分）  
假设案件编号唯一标识一个案件，且立案日期小于等于结案日期。请将如下创建案件关系的SQL语句的空缺部分补充完整。  
![28dfce0a5c184c97ae86dcdd695dc3ec.jpg][]  
![78c81c9e7dad4c4a87fc31fc27fca058.jpg][]  
  
【问题2】（8分）  
请完成下列查询的SQL语句。  
(1)查询当前待处理的诉讼案件，显示案件的案件编号、立案日期、被告姓名、被告地址、案件描述、律师姓名和主审法官姓名。  
![590a0d4caee442d8ba0fa88582e9f1ba.jpg][]  
(2)査询2009年立案的各类案件数，并按案件数降序排序。（日期格式举例：2009年1月1日表示为01-JAN-2009,2009年12月31日表示为31-DEC-2009）  
![685b0f61975c4b21b0342ffb8276d2fe.jpg][]  
(3)查询立案次数超过5次的被告姓名和地址。  
![ec881e65bdbe45a6adbd95f725c88731.jpg][]  
  
【问题3】（3分）  
当插入一个审理记录时，检查案件的状态，若状态为“未处理”，则将其修改为“审理中”。下面是用触发器实现该需求的SQL语句，请将空缺部分补充完整.  
![f147625ff56e4409b6c4976bb4279d20.jpg][]  


## 第3题 ##

试题三（15分）  
阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
某服装销售公司拟开发一套服装采购管理系统，以方便对服装采购和库存进行管理。  
【需求分析】  
(1)采购系统需要维护服装信息及服装在仓库中的存放情况。系统按服装的销售种类记录服装信息。服装信息主要包括：服装编码、服装描述、服装类型、销售价格、尺码和面料，其中，服装类型为销售分类，服装按销售分类编码。仓库信息主要包括：仓库编码、仓库位置、仓库容量和库管员。系统记录库管员的库管员编码、姓名和级别。一个库管员可以管理多个仓库，每个仓库有一名库管员。一个仓库中可以存放多类服装，一类服装可能存放在多个仓库中。  
(2)当库管员发现有一类或者多类服装缺货时，需要生成采购订单。一个采购订单可以包含多类服装。每类服装可由多个不同的供应商供应，但具有相同的服装编码。采购订单主要记录订单编码、订货日期和应到货日期，并需详细记录所采购的每类服装的数量、采购价格和对应的多个供应商。  
(3)系统需记录每类服装的各个供应商信息和供应情况。供应商信息包括：供应商编码、供应商名称、地址、企业法人和联系电话。供应情况记录供应商所供应服装的服装类型和服装质量等级。一个供应商可以供应多类服装，一类服装可由多个供应商供应。库管员根据入库时的服装质量情况，设定或修改每个供应商所供应的每类服装的服装质量等级，用以作为后续采购服装时，选择供应商的参考标准。  
【概念模型设计】  
根据需求阶段收集的信息，设计的实体联系图（不完整）如图3-1所示。  
![4ea5d004677346f49e0036935c3346b9.jpg][]  
【逻辑结构设计】  
根据概念模型设计阶段完成的实体联系图，得出如下关系模式（不完整）：  
![9f645780be634a739435e5dd000be8fc.jpg][]  
  
【问题1】（6分）  
补充图3-1中的联系和联系的类型。  
  
【问题2】（6分）  
根据图3-1，将逻辑结构设计阶段生成的关系模式中的空（1）~（6）补充完整。对所有关系模式，用下划线指出各关系模式的主键。  
  
【问题3】（3分）  
如果库管员定期需要轮流对所有仓库中的服装质量进行抽查，对每个仓库中的每一类被抽查服装需要记录一条抽查结果，并且需要记录抽查的时间和负责抽查的库管员。请根据该要求，对图3-1进行修改，画出修改后的实体间联系和联系的类型。  


## 第4题 ##

试题四（15分）  
阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
某学校拟开发一套校友捐赠管理系统，以便对校友的捐赠资金进行管理。  
【需求分析】  
校友可以向学校提出捐赠申请，说明捐赠的金额、捐赠类型和使用方式。捐赠类型包括一次性捐赠和周期性捐赠。捐赠的使用方式分为两种：一种用于资助个人，即受益人为多名学生或老师，主要用于奖学金、奖教金和助学金等；另一种用于资助捐赠项目，即资助已有的捐赠项目和设立新的捐赠项目，主要用于改善教学设施、实验室建设和设备购买等。捐赠项目由捐赠理事建立，一个捐赠项目可以涉及多个受益单位，每个单位在该项目中有确定的受益比例。由捐赠理事为项目中的每个单位指定一个项目负责人，并指定每个单位受益比例。每个单位的受益比例是指在一个捐赠项目中的每个单位所应得的金额占该捐赠项目总受益金额的比例。一个捐赠项目可以由多个捐赠来资助，一个捐赠也可以资助多个捐赠项目。由捐赠理事将一个捐赠的捐赠金额分配给所资助的多个捐赠项目，并指定给每个捐赠项目的具体的捐赠金额。  
初步设计了校友捐赠信息数据库，其关系模式如图4-1所示。  
![24d261477cc64366a1e9d9405229928e.jpg][]  
关系模式的主要属性、含义及约束如表4-1所示。  
![57ff101df14a404c96baffc7f7ef6e0d.jpg][]  
  
【问题1】（5分）  
对关系“校友信息”，请回答以下问题：  
(1)列举出所有候选键的属性。  
(2)关系“校友信息”可达到第几范式，用60字以内文字简要叙述理由。  
  
【问题2】（6分）  
对关系“捐赠信息”，请回答以下问题：  
(1)针对“捐赠信息”关系，用100字以内文字简要说明会产生什么问题。  
(2)把“捐赠信息”分解为第三范式，分解后的关系名依次为：捐赠信息1，捐赠信息2，……  
(3)列出“捐赠信息”关系修正后的各关系模式的主键。  
  
【问题3】（3分）  
对关系“项目受益情况”，请回答以下问题：  
(1)关系“项目受益情况”是不是第四范式，用100字以内文字叙述理由。  
(2)把“项目受益情况”分解为第四范式，分解后的关系名依次为：项目受益情况1，项目受益情况2，……  


## 第5题 ##

试题五（15分）  
阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
某网上商品销售系统的业务流程如下：  
(1)将客户的订单记录（订单号，客户ID，商品ID，购买数量）写入订单表；  
(2)将库存表（商品ID，库存量）中订购商品的库存量减去该商品的购买数量。  
针对上述业务流程，完成下列问题：  
  
【问题1】（3分）  
假设库存量有大于等于0的约束，可能出现如下情况：当订单记录写入订单表后，修改库存表时因违法约束而无法执行，应如何处理？（100字以内）  
  
【问题2】（6分）  
引入如下伪指令：将商品A的订单记录插入订单表记为I(A);读取商品A的库存量到变量x，记为x = I(A);变量x值写入商品A中的库存量，记为W(A,x)。则客户i的销售业务伪指令序列为：Ii(A)，xi= Ri(A)，xi = xi\-ai， Wi(A, xi).其中ai为商品的购买数量。  
假设当前库存量足够，不考虑发生修改后库存量小于0的情况。若客户1、客户2同时购买同一种商品时，可能出现的执行序列为：I1(A)，I2(A)，x1=R1(A), x2=R2(A), x1=x1\-a1, W1(A, x1)，x2 = x2\-a2, W2(A, x2)。  
(1)此时会出现什么问题？ （100字以内）  
(2)为了解决上述问题，引入共享锁指令SLock(A)和独占锁指令XLock(A)对数据A进行加锁，解锁指令Unlock(A)对数据A进行解锁，客户i的加锁指令用SLock,(A)表示，其他类同。插入订单表的操作不需要引入锁指令。请补充上述执行序列，使其满足2PL协议，并使持有锁的时间最短。  
  
【问题3】（6分）  
下面是用E-SQL实现的销售业务程序的一部分，请补全空缺处的代码。  
![9fc620ee861b4fa0976fd3c96360c248.jpg][]  



[f8d39edffebe455fa5484052bb24748d.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第1题/f8d39edffebe455fa5484052bb24748d.jpg
[ef5c68563b1f49a798143a2be2bf67ee.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第1题/ef5c68563b1f49a798143a2be2bf67ee.jpg
[28dfce0a5c184c97ae86dcdd695dc3ec.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第2题/28dfce0a5c184c97ae86dcdd695dc3ec.jpg
[78c81c9e7dad4c4a87fc31fc27fca058.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第2题/78c81c9e7dad4c4a87fc31fc27fca058.jpg
[590a0d4caee442d8ba0fa88582e9f1ba.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第2题/590a0d4caee442d8ba0fa88582e9f1ba.jpg
[685b0f61975c4b21b0342ffb8276d2fe.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第2题/685b0f61975c4b21b0342ffb8276d2fe.jpg
[ec881e65bdbe45a6adbd95f725c88731.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第2题/ec881e65bdbe45a6adbd95f725c88731.jpg
[f147625ff56e4409b6c4976bb4279d20.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第2题/f147625ff56e4409b6c4976bb4279d20.jpg
[4ea5d004677346f49e0036935c3346b9.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第3题/4ea5d004677346f49e0036935c3346b9.jpg
[9f645780be634a739435e5dd000be8fc.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第3题/9f645780be634a739435e5dd000be8fc.jpg
[24d261477cc64366a1e9d9405229928e.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第4题/24d261477cc64366a1e9d9405229928e.jpg
[57ff101df14a404c96baffc7f7ef6e0d.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第4题/57ff101df14a404c96baffc7f7ef6e0d.jpg
[9fc620ee861b4fa0976fd3c96360c248.jpg]: https://www.xkxxkx.cn/file/exam/software/数据库系统工程师/案例/第5题/9fc620ee861b4fa0976fd3c96360c248.jpg
