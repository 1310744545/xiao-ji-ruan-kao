---  
title: 2010年下半年  
# icon: gears  
order: 997  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

试题一（15分）  
阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
某时装邮购提供商拟开发订单处理系统，用于处理客户通过电话、传真、邮件或Web站点所下订单。其主要功能如下：  
（1）增加客户记录。将新客户信息添加到客户文件，并分配一个客户号以备后续使用。  
（2）查询商品信息。接收客户提交的商品信息请求，从商品文件中查询商品的价格和可订购数量等商品信息，返回给客户。  
（3）增加订单记录。根据客户的订购请求及该客户记录的相关信息，产生订单并添加到订单文件中。  
（4）产生配货单。根据订单记录产生配货单，并将配货单发送给仓库进行备货；备好货后，发送备货就绪通知。如果现货不足，则需向供应商订货。  
（5）准备发货单。从订单文件中获取订单记录，从客户文件中获取客户记录，并产生发货单。  
（6）发货。当收到仓库发送的备货就绪通知后，根据发货单给客户发货；产生装运单并发送给客户。  
（7）创建客户账单。根据订单文件中的订单记录和客户文件中的客户记录，产生并发送客户账单，同时更新商品文件中的商品数量和订单文件中的订单状态。  
（8）产生应收账户。根据客户记录和订单文件中的订单信息，产生并发送给财务部门应收账户报表。  
现采用结构化方法对订单处理系统进行分析与设计，获得如图1-1所示的顶层数据流图和图1-2所示的0层数据流图。  
![edc4bc1fcac943e385595b5a89b68ac5.jpg][]  
![3f4e702feee64ef494a0e64df8333ed2.jpg][]  
  
【问题1】（3分）  
使用说明中的词语，给出图1-1中的实体E1~E3的名称。  
  
【问题2】（3分）  
使用说明中的词语，给出图1-2中的数据存储D1~D3的名称。  
  
【问题3】（9分）  
（1）给出图1-2中处理（加工）P1和P2的名称及其相应的输入输出流。  
（2）除加工P1和P2的输入输出流外，图1-2还缺失了1条数据流，请给出其起点和终点。  
![e5fcbad6702e49d8a67513f99ed1e6ce.jpg][]  


## 第2题 ##

试题二（15分）  
阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
某公司拟开发一套小区物业收费管理系统。初步的需求分析结果如下：  
（1）业主信息主要包括：业主编号、姓名、房号、房屋面积、工作单位、联系电话等。房号可唯一标识一条业主信息，且一个房号仅对应一套房屋；一个业主可以有一套或多套的房屋。  
（2）部门信息主要包括：部门号、部门名称、部门负责人、部门电话等。一个员工只能属于一个部门，一个部门只有一位负责人。  
（3）员工信息主要包括：员工号、姓名、出生年月、性别、住址、联系电话、所在部门号、职务和密码等。根据职务不同，员工可以有不同的权限：职务为“经理”的员工具有更改（添加、删除和修改）员工表中本部门员工信息的操作权限；职务为“收费”的员工只具有收费的操作权限。  
（4）收费信息包括：房号、业主编号、收费日期、收费类型、数量、收费金额、员工号等。收费类型包括物业费、卫生费、水费和电费，并按月收取，收费标准如表2-1 所示。其中：物业费=房屋面积（平方米）X每平方米单价，卫生费=套房数量（套）X 每套房单价，水费=用水数量（吨）X每吨水单价，电费=用电数量（度）X每度电单价。  
（5）收费完毕应为业主生成收费单，收费单示例如表2-2所示。  
![0cd1f1a9f8714cd9a2b4fc09bfce2aed.jpg][]  
  
【概念模型设计】  
根据需求阶段收集的信息，设计的实体联系图（不完整）如图2-1所示。图2-1中收费员和经理是员工的子实体。  
![1a9ab8b92bdc479588f65f48570b2dca.jpg][]  
【逻辑结构设计】  
根据概念模型设计阶段完成的实体联系图，得出如下关系模式（不完整)：  
![35c00f2006f941e58adec1f8f3043d78.jpg][]  
  
【问题1】（8分）  
根据图2-1,将逻辑结构设计阶段生成的关系模式中的空（1）)~（5）补充完整，然后给出各关系模式的主键和外键。  
  
【问题2】（5分）  
填写图2-1中（a）)~（f）处联系的类型（注：一方用1表示，多方用m或n或\* 表示)，并补充完整图2-1中的实体、联系和联系的类型。  
  
【问题3】（2分）  
业主关系属于第几范式？请说明存在的问题。  


## 第3题 ##

试题三（15分）  
阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
某网上药店允许顾客凭借医生开具的处方，通过网络在该药店购买处方上的药品。 该网上药店的基本功能描述如下：  
（1）注册。顾客在买药之前，必须先在网上药店注册。注册过程中需填写顾客资料以及付款方式（信用卡或者支付宝账户）。此外顾客必须与药店签订一份授权协议书，授 权药店可以向其医生确认处方的真伪。  
（2）登录。已经注册的顾客可以登录到网上药房购买药品。如果是没有注册的顾客， 系统将拒绝其登录。  
（3）录入及提交处方。登录成功后，顾客按照“处方录入界面”显示的信息，填写开具处方的医生的信息以及处方上的药品信息。填写完成后，提交该处方。  
（4）验证处方。对于已经提交的处方（系统将其状态设置为“处方已提交”)，其验证过程为：  
①核实医生信息。如果医生信息不正确，该处方的状态被设置为“医生信息无效”， 并取消这个处方的购买请求；如果医生信息是正确的，系统给该医生发送处方确认请求， 并将处方状态修改为“审核中”。  
②如果医生回复处方无效，系统取消处方，并将处方状态设置为“无效处方”。如果医生没有在7天内给出确认答复，系统也会取消处方，并将处方状态设置为“无法 审核”。  
③如果医生在7天内给出了确认答复，该处方的状态被修改为“准许付款”。系统取消所有未通过验证的处方，并自动发送一封电子邮件给顾客，通知顾客处方 被取消以及取消的原因。  
（5）对于通过验证的处方，系统自动计算药品的价格并邮寄药品给已经付款的顾客。该网上药店采用面向对象方法开发，使用UML进行建模。系统的类图如图3-1 所示。  
![fb24799c28174db58117f0d2a55b66cb.jpg][]  
  
【问题1】（8分）  
根据说明中的描述，给出图3-1中缺少的C1~C5所对应的类名以及（1）~（6） 处所对应的多重度。  
  
【问题2】（4分）  
图3-2给出了“处方”的部分状态图。根据说明中的描述，给出图3-2中缺少的S1~S4所对应的状态名以及（7）~（10）处所对应的迁移（transition)名。  
  
【问题3】（3分）  
![5949ddf6fe754607afb421d152da8323.jpg][]  


## 第4题 ##

试题四（15分）  
阅读下列说明和C代码，回答问题1至问题2，将解答填入答题纸的对应栏内。  
【说明】  
堆数据结构定义如下：  
对于n个元素的关键字序列a1，a2，…，an\}，当且仅当满足下列关系时称其为堆。![4bf0d1b92a66484e8cf8c500ee479605.jpg][]  
  
在一个堆中，若堆顶元素为最大元素，则称为大顶堆；若堆顶元素为最小元素，则 称为小顶堆。堆常用完全二叉树表示，图4-1是一个大顶堆的例子。  
![7ee5e880ffa5428fa635744413e25123.jpg][]  
堆数据结构常用于优先队列中，以维护由一组元素构成的集合。对应于两类堆结构， 优先队列也有最大优先队列和最小优先队列，其中最大优先队列采用大顶堆，最小优先队列采用小顶堆。以下考虑最大优先队列。  
假设现已建好大顶堆A，且已经实现了调整堆的函数heapify(A，n，index)。  
下面将C代码中需要完善的三个函数说明如下：  
(1)heapMaximum(A)：返回大顶堆A中的最大元素。  
(2)heapExtractMax(A)：去掉并返回大顶堆A的最大元素，将最后一个元素“提前” 到堆顶位置，并将剩余元素调整成大顶堆。  
(3)maxHeapInsert(A, key)：把元素key插入到大顶堆A的最后位置，再将A调整成大顶堆。  
优先队列采用顺序存储方式，其存储结构定义如下:  
![ab06c41e9a524880aee92d3462049ec2.jpg][]  
![944c640b38434213a80a39a2ee070ce0.jpg][]  
![c7cf3bfb71554d1e9d1abe4d0fe11e2d.jpg][]  
  
【问题1】（10分）  
根据以上说明和C代码，填充C代码中的空（1）~（5）。  
  
【问题2】（3分）  
根据以上 C 代码，函数heapMaximum、heapExtractMax 和maxHeapInsert 的时间复杂度的紧致上界分别为（6）、（7）和（8）(用O符号表示)。  
  
【问题3】（2分）  
若将元素10 插入到堆 A =&lt;15, 13, 9, 5, 12, 8, 7,4, 0, 6,2, 1&gt;中，调用 maxHeapInsert 函数进行操作，则新插入的元素在堆A中第（9）个位置(从1开始）。  


## 第5题 ##

试题五（15分）  
阅读下列说明和C++代码，将应填入(n)处的字句写在答题纸的对应栏内。  
【说明】  
某公司的组织结构图如图5-1所示，现采用组合（Composition)设计模式来构造该公司的组织结构，得到如图5-2所示的类图。  
其中Company为抽象类，定义了在组织结构图上添加（Add)和删除（Delete)分公司/办事处或者部门的方法接口。类ConcreteCompany表示具体的分公司或者办事处，分公司或办事处下可以设置不同的部门。类HRDepartment和FinanceDepartment分别表示人力资源部和财务部。  
![0a8757badb634172bcaca70bab508de9.jpg][]  
![b6494d14279d433b923a33f3460522bd.jpg][]  
![86e4d826221b414c86d6e11fc3d8d402.jpg][]  
![5c300ab2e60b4f729e2d9b55d1326d35.jpg][]  
![b388ba7242954bce8c8fa9f1c1f013b0.jpg][]  
  
【问题1】（15分）  
(1):  
(2):  
(3):  
(4):  
(5):  
(6):  
(7):  
(8):  


## 第6题 ##

试题六（15分）  
阅读下列说明和Java代码，将应填入(n)处的字句写在答题纸的对应栏内。  
【说明】  
某公司的组织结构图如图6-1所示，现采用组合（Composition)设计模式来设计，得到如图6-2所示的类图。  
其中Company为抽象类，定义了在组织结构图上添加（Add)和删除（Delete)分公司/办事处或者部门的方法接口。类ConcreteCompany表示具体的分公司或者办事处，分公司或办事处下可以设置不同的部门。类HRDepartment和FinanceDepartment分别表示人力资源部和财务部。![d9de754e00f24820871b42b481887c00.jpg][]  
![887b9a62e2a34f28bc98f06a32289202.jpg][]  
![b6e6aaab0a274108a250538df46fd02b.jpg][]  
![3080aa05eefa401fa12abc133a325dd3.jpg][]  
![a2ce04baa93543f4866fe4ec7715941f.jpg][]  
  
【问题1】（15分）  
(1):  
(2):  
(3):  
(4):  
(5):  
(6):  
(7):  
(8):  
  


## 答案及解析 ##

  



[edc4bc1fcac943e385595b5a89b68ac5.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第1题/edc4bc1fcac943e385595b5a89b68ac5.jpg
[3f4e702feee64ef494a0e64df8333ed2.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第1题/3f4e702feee64ef494a0e64df8333ed2.jpg
[e5fcbad6702e49d8a67513f99ed1e6ce.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第1题/e5fcbad6702e49d8a67513f99ed1e6ce.jpg
[0cd1f1a9f8714cd9a2b4fc09bfce2aed.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第2题/0cd1f1a9f8714cd9a2b4fc09bfce2aed.jpg
[1a9ab8b92bdc479588f65f48570b2dca.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第2题/1a9ab8b92bdc479588f65f48570b2dca.jpg
[35c00f2006f941e58adec1f8f3043d78.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第2题/35c00f2006f941e58adec1f8f3043d78.jpg
[fb24799c28174db58117f0d2a55b66cb.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第3题/fb24799c28174db58117f0d2a55b66cb.jpg
[5949ddf6fe754607afb421d152da8323.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第3题/5949ddf6fe754607afb421d152da8323.jpg
[4bf0d1b92a66484e8cf8c500ee479605.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第4题/4bf0d1b92a66484e8cf8c500ee479605.jpg
[7ee5e880ffa5428fa635744413e25123.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第4题/7ee5e880ffa5428fa635744413e25123.jpg
[ab06c41e9a524880aee92d3462049ec2.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第4题/ab06c41e9a524880aee92d3462049ec2.jpg
[944c640b38434213a80a39a2ee070ce0.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第4题/944c640b38434213a80a39a2ee070ce0.jpg
[c7cf3bfb71554d1e9d1abe4d0fe11e2d.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第4题/c7cf3bfb71554d1e9d1abe4d0fe11e2d.jpg
[0a8757badb634172bcaca70bab508de9.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第5题/0a8757badb634172bcaca70bab508de9.jpg
[b6494d14279d433b923a33f3460522bd.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第5题/b6494d14279d433b923a33f3460522bd.jpg
[86e4d826221b414c86d6e11fc3d8d402.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第5题/86e4d826221b414c86d6e11fc3d8d402.jpg
[5c300ab2e60b4f729e2d9b55d1326d35.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第5题/5c300ab2e60b4f729e2d9b55d1326d35.jpg
[b388ba7242954bce8c8fa9f1c1f013b0.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第5题/b388ba7242954bce8c8fa9f1c1f013b0.jpg
[d9de754e00f24820871b42b481887c00.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第6题/d9de754e00f24820871b42b481887c00.jpg
[887b9a62e2a34f28bc98f06a32289202.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第6题/887b9a62e2a34f28bc98f06a32289202.jpg
[b6e6aaab0a274108a250538df46fd02b.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第6题/b6e6aaab0a274108a250538df46fd02b.jpg
[3080aa05eefa401fa12abc133a325dd3.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第6题/3080aa05eefa401fa12abc133a325dd3.jpg
[a2ce04baa93543f4866fe4ec7715941f.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第6题/a2ce04baa93543f4866fe4ec7715941f.jpg
## 第1题 ##

【问题1】  
E1：客户  
E2: 财务部门  
E3: 仓库  
  
本问题考査顶层DFD。顶层DFD —般用来确定系统边界，将待开发系统看作一个加工，因此图中只有唯一的一个处理和一些外部实体，以及这两者之间的输入输出数据流。题目要求根据描述确定图中的外部实体。根据题目中的描述，并结合已经在顶层数据流图中给出的数据流进行分析。从题目的说明中可以看出：客户提交商品信息请求、订购请求等；将配货单发送给仓库、仓库向系统发送备货就绪通知；发送给财务部门应收账户报表。由此可知该订单系统有客户、仓库和财务部门三个外部实体。对应图1-1中数据流和实体的对应关系，可知E1为客户，E2为财务部门，E3为仓库。本题中需注意说明（4）中向供应商订货是系统外部的行为，因此，供应商并非本系统的外部实体。  
  
【问题2】  
D1：客户文件  
D2: 商品文件  
D3：订单文件  
  
本问题考查0层DFD中数据存储的确定。根据说明中的以下描述：将新客户信息添加到客户文件；从商品文件中查询商品的价格和可订购数量等商品信息；产生订单并添加到订单文件中，得出数据存储为客户文件、商品文件以及订单文件，再根据图1-2 中D1的输入和输出数据流均为客户记录，D2的输入数据流为从处理“创建客户账单”来的新商品数量，输出数据流为到处理“查询商品信息”的商品数量和价格，D3的输入数据流为从处理“增加客户订单”来的订单，可知，D1为客户文件，D2为商品文件，D3为订单文件。  
  
【问题3】  
(1)处理（加工）名称，数据流。  
![c0c73eeda337488fa0dd84e23acae7f2.jpg][]  
上表中各行次序无关，但每条数据流的名称、起点、终点必须相对应。  
P1和P2可互换，即P1为“准备发货单”、P2为“产生配货单”。  
  
![fc5839278d284729a786e9554d7bd692.jpg][]　　  
  
本问题考査0层DFD中缺失的处理和数据流。从说明中的描述功能和图1-2,可知 产生配货单和准备发货单没有在图1-2中，即缺少两个处理：产生配货单和准备发货单。 根据说明（4）中的描述：根据订单记录产生配货单，并将配货单发送给仓库进行备货； 备好货后，发送备货就绪通知。可知，产生配货单的输入流为订单记录，该输入流的起 点为订单文件（D3)，输出流为配货单，其终点为仓库（E3)。根据说明（5）中的描述: 从订单文件中获取订单记录，从客户文件中获取客户记录，并产生发货单。可知，准备发货单的输入流为订单记录和客户记录，订单记录的起点为订单文件，客户记录的起点为客户文件；输出流为发货单。再根据说明（6）中处理发货的描述：根据发货单给客户发货，发货单的终点为处理发货。产生配货单和准备发货单分别对应P1和P2 (或P2 和P1)。  
P1和P2及其输入输出流均识别出来之后，再对照说明和图1-2,以找出缺少的另外一条数据流。对照说明（7）中的描述：根据订单文件中的订单记录和客户文件中的客户记录，产生并发送客户账单。因此，创建客户账单缺少一条输入流：客户记录，其起点为客户文件（D1)。  


## 第2题 ##

【问题1】  
![2a3051c322b04d869518da781fa5253a.jpg][]　　  
  
根据题意，业主关系中信息主要包括：业主编号、姓名、房号、房屋面积、工作单位、联系电话等，因此，空（1）应填写“业主编号，房号”。又因为房号可唯一标识一 条业主信息，所以以“房号”为主键。完整的关系模式如下：  
业主（业主编号，房号，姓名，房屋面积，工作单位，联系电话）  
根据题意，员工信息主要包括：员工号、姓名、出生年月、性别、住址、联系电话、 所在部门号、职务和密码等，因此，空（2）应填写“员工号，所在部门号”。又因为员工号可唯一标识一条员工信息，所以“员工号”为主键。根据题意，一个员工只能属于—个部门，“所在部门号”应参照部门关系的“部门号”，因此，“所在部门号”为外键。 完整的关系模式如下：  
员工（员工号，所在部门号，姓名，出生年月，性别，住址，联系电话，职务，密码）  
部门信息主要包括：部门号、部门名称、部门负责人、部门电话等，因此，部门关 系的空（3）应填写“部门号，部门负责人”，显然该关系的主键为“部门号”。又因为部门关系的“部门负责人”应参照员工关系的“员工号”，因此，“部门负责人”为外键。  
根据题意分析收费标准关系的空（4）应填写“收费类型，单位，单价”，这样收费 信息关系可以根据收费类型（如水费、电费或物业费）去收费标准关系中查出单价来计算收费金额。显然收费标准关系的主键为“收费类型”。  
收费信息的空（5）应填写“房号，业主编号，收费日期”，由于“房号，业主编号， 收费日期”能唯一确定该关系的每一个元组，故“房号，业主编号，收费日期”为关系的主键。又由于房号、员工号分别为业主和员工关系的主键，故“房号，员工号”为收费信息关系的外键。完整的关系模式如下：  
收费信息（房号，业主编号，收费日期，收费类型，收费金额，员工号）  
  
【问题2】  
![8dd66e4f95914ce099c7b2754f7b8e19.jpg][]  
![10a57029b92b48f890e8de8414298629.jpg][]  
  
根据题意，一个员工可以为多个业主收费，同样一个业主也可以有多个员工为其收费，因此业主和收费员之间的收费联系为多对多。故空（a）应填写\*，空（b）应填写\*。  
因为一个员工只能属于一个部门，所以部门与员工之间的隶属联系是一对多的。故空（c）应填写1，空（d）应填写\*。  
根据题意，职务不同员工可以有不同的权限，所以权限和员工之间的合法联系是一对多。  
又由于收费员收费时必需根据收费类型（如水费、电费或物业费）到收费标准关系中查出单价来计算收费金额，所以需要增加一个收费标准关系，以及收费标准到收费联系的连线。  
  
【问题3】  
业主关系属于第2范式。  
问题是当某业主有多套住房时，属性“业主编号，姓名，房屋面积，工作单位，联系电话”等信息在业主关系表中重复存储，存在数据冗余。  
  
由业主关系可知：房号一业主编号，业主编号一姓名，房号一姓名，所以存在传递依赖房号一姓名。故业主关系属于第2范式。业主关系存在的问题是当某业主有多套住房时，属性“业主编号，姓名，房屋面积，工作单位，联系电话”等信息在业主关系表中重复存储，存在数据冗余。  


## 第3题 ##

【问题1】  
![9f3ec2acc73f47d0bd481eb0f991f9c7.jpg][]  
  
本问题考查UML的类图。类图展现了一组对象、接口、协作和它们之间的关系。在面向对象系统的建模中，最常用的模型之一就是类图。  
类图用于对系统的静态设计视图建模。这种视图主要支持系统的功能需求，即系统要提供给用户的服务。但对系统的静态设计视图建模时，通常有三种使用方式:  
![7b17f82d5a3642ee9727f9e8f7791f8e.jpg][]  
（1）对系统的词汇建模  
对系统的词汇建模涉及做出这样的决定：哪些抽象是考虑中的系统的一部分，哪些抽象处于系统边界之外。用类图详细描述这些抽象和它们的职责。  
（2）对简单的协作建模  
协作是一些共同工作的类、接口和其他元素的群体，该群体提供的一些合作行为强于所有这些元素的行为之和。例如当对分布式系统的事务语义建模时，不能仅仅盯着一 个单独的类来推断要发生什么，而要有相互协作的一组类来实现这些语义。用类图对这组类以及它们之间的关系进行可视化和详述。  
（3）对逻辑数据库模式建模  
将模式看作数据库的概念设计的蓝图。在很多领域中，要在关系数据库或面向对象数据库中存储永久信息。可以用类图对这些数据库的模式建模。  
本题主要使用类图对系统词汇进行建模。题目中已经给出了类图的基本框架及部分的类，要求考生将类图中其余的类补充完整。在解答这类题目时，需要细心阅读说明中 的文字，并记录和整理其中出现的名词。这些名词将来有可能成为类。其次应特别关注类图中出现的特殊关联关系，如继承关系、聚集/组装关系等。  
在本题中，首先考查类图中的Customer、C2和Doctor这三个类。由说明可知，在网上购药时，顾客与医生之间不会直接发生交互，而是通过顾客持有的“处方”而发生关联。由此可以确定C2对应的类应该是“处方”。  
C2与C5之间是聚集关系，其中C2表示整体类，C5表示部分类。由于已经确定了C2表示的是“处方”类，那么C5表示就应该是处方所包含的内容。处方中包含的是药品，所以C5对应的类应该是“处方上的药品，’。  
下面来分析类图中的继承关系。继承关系表示类之间的“一般/特殊”关系。C1表 示一般类，C3和C4是C1的两个具体类；并且这三个类与Customer之间具有组装关系。 那么在说明中出现的所有名词词汇中，具有明显的一般/特殊关系的就是“付款方式”、“信用卡”和“支付宝账户”。“信用卡”和“支付宝账户”是具体的付款形式，当顾客付款的时候选择二者中的一个。而且每一次付款都与一个特定的顾客（即类Customer的一个实例）相关，没有顾客就不会发生付款行为。所以C1对应的类应该是“付款方式”、C3和C4分别对应的是类“信用卡”、“支付宝账户”。  
多重度表示一个类的实例与多少个另一个类的实例发生关联。因此，在确定多重度时需要关注说明中关于类之间关系的描述。  
首先来看C2和C5,这两个类之间是聚集关系。前面已经确定了 C2和C5分别对应类“处方”和“处方上的药品”。一张处方上应包含1种或多种药品。这样很容易确定出  
(3)和（4）的多重度应分别为1以及1..\*。  
“处方”和“医生”之间的关系如下：一名医生可以开多张处方，也可以不开处方， 所以（5）处的多重度应该为0..\*;而一张处方必定是由一名医生开具的，所以（6）处的多重度应该为1。  
“顾客”与“处方”之间的关系如下：一个顾客可以持有多张处方来买药，也可以没有处方，这样就不会发生购买行为。所以（2）处的多重度应该为0..\*。而每张处方一定属于一名顾客，所以（1）处的多重度应该为1。  
  
【问题2】  
![e0a3c02b1c0b40f0bbfbf0df39c2ab9e.jpg][]  
状态图关注系统的动态视图，它注重描述可能的状态序列，以及在特定状态下对象对外部离散事件的响应动作。  
本题考查的是类“处方”的对象的状态变化。关于网上药店对“处方”的处理流程，在说明的（4）验证处方中，给出了详细的描述。对该描述进行分析之后，可以用下面的表来说明“处方”在整个验证流程中所经历的状态。  
![4aa8a2acab284a8aa3289cca1c0c5b59.jpg][]  
下一步工作就是把上表中的信息与题中的状态图对应起来。  
由说明可知，处方提交后的第一步操作就是核实医生信息，而这个操作会产生两种结果：医生信息正确，或者不正确。医生信息不正确会使处方的状态变更为“医生信息无效”，并导致购买行为被取消，即表中的第一行。对于这种情况，“处方”的状态变更 轨迹为：处方已提交→医生信息无效→结束。而在状态图中与这条轨迹匹配的状态序列 就是：处方已提交→S3→结束。由此可以确定，S3对应的就是状态“医生信息无效”， 而（7）对应的迁移就是“医生信息不正确”。  
相应地，就可以判断出（8）应该代表的是核实医生信息的另一种结果，因此（8） 对应的迁移应该是“医生信息正确”。由上表可知，医生信息正确时，处方状态会变更为“审核中”，这样S1对应的状态就是“审核中”。  
但处方在状态“审核中”时，实际上会有三个后续状态：一个是图中已经给出的“准许付款”，另外两个是“无效处方”和“无法审核”。而产生这两个状态的原因分别是“医 生回复处方无效”和“医生没有在7天内给出答复”。由此得出，（9）对应“医生回复处方无效”，S4对应状态“无效处方”；(10)对应“医生没有在7天内给出答复”，S2对应“无法审核”。  
如果S2为状态“无效处方”，那么（10）就对应着“医生回复处方无效”；S4对应状态“无法审核”，那么（9）就对应着“医生没有在7天内给出答复”。  
  
【问题3】  
![a2545fb341ce4ac798e09068fc121159.jpg][]  


## 第4题 ##

【问题1】  
(1)A-&gt;int\_array\[0\]  
(2)A-&gt;int\_array\[0\] = A-&gt;int\_array\[A-&gt;array\_size-1 \]  
(3)A-&gt;array\_size-1  
(4)A-&gt;int\_array\[PARENT(i)\] &lt;key  
(5)A-&gt;int\_array\[i\] = key  
  
据题干说明，函数heapMaximum返回大顶堆A的最大元素，即堆顶元素，因此空（1）处应填A-&gt;int\_array\[0\]。  
函数heapExtractMax(A)取出大顶堆A的最大元素，将最后一个元素“提前”到堆顶位置，并将剩余元素调整成大顶堆。因此在将堆顶元素赋给max后，应该将堆的最后 一个元素移到堆顶位置，即空（2）处应填 A-&gt;int\_array\[0\] = A-&gt;int\_array\[A-&gt;array\_size-1\]。  
函数maxHeapInsert(A，key)把元素key.插入到大顶堆A的最后位置，再将A调整成 大顶堆。该函数前面的代码行考虑的是当存储空间不够时扩展存储空间。而后面是根据 该函数的定义实现的问题求解的算法表示，A-&gt;array\_size ++;表示为堆的规模增加1，i 表示堆的最后一个元素的下标，即新插入的元素的下标，应该为A-&gt;array\_size-1。while 循环是自下而上调整堆，当还没有到堆顶位置，且新插入的元素大于其父亲元素，即 A-&gt;int\_array\[PARENT(i)\] &lt;key时，i变为其父亲元素的下标。直到i 到达堆顶位置，说明新插入的元素为最大值，或者i 的父亲元素大于新插入的元素，说明新插入的元素在i 处，因此空（5）处填 A-&gt;int\_array\[i\] = key。  
  
【问题2】  
(6)O(1)  
(7)O(lgn)  
(8)O(lgn)  
  
本问题考查算法的时间复杂度。  
根据上述C代码，函数heapMaximum返回数组A的第1个元素，因此为常数时间即*O* (1)。  
函数heapExtractMax首先将数组A的第1个元素的值放到变量max中，然后将最后一个元素提到堆顶，最后再进行堆的调整，因此该时间复杂度实际上是调整堆的时间复杂度，即*O*(lgn)。  
函数maxHeapInsert将一个元素key插入到堆A中，具体的过程为先将堆的规模增加1，然后将元素插入到堆的最后一个位置，最后自下而上调整该元素，其时间复杂度 为堆（二叉树）的高度，即*O*(lgn)。  
  
【问题3】  
(9) 3  
  
将元素10 插入到堆 A = &lt;15, 13,9,5, 12,8,7,4,0,6,2, 1〉中，根据 maxHeapInsert 函数进行操作，则过程如下图（a）~（c）所示。  
![34dc5b4a4bc6470cbad2bb01002539df.jpg][]  
新插入的元素10在堆A中处于第3个位置，15和13分别处于第1和第2个位置。  


## 第5题 ##

【问题1】  
![ce58365f934e4081b484462c7be10531.jpg][]  
  
Composite模式将对象组合成树形结构以表示“整体-部分”的层次结构，其中的组合对象使得用户可以组合基元对象以及其他的组合对象，从而形成任意复杂的结构。  
Composite模式使得用户对单个对象和组合对象的使用具有一致性。  
Composite模式的结构如下图所示。  
![fd1d0409f75b42989183031624a8921d.jpg][]  
其中：  
•类Component为组合中的对象声明接口，在适当的情况下，实现所有类共有接口的缺省行为，声明一个接口用于访问和管理Component的子部件；  
•类Leaf在组合中表示叶节点对象，叶节点没有子节点；并在组合中定义图元对象的行为；  
•类Composite定义有子部件的那些部件的行为，存储子部件，并在Component接口中实现与子部件有关的操作；  
•类Client通过Component接口操纵组合部件的对象。  
下列情况可以使用Composite模式：  
(1)表示对象的整体-部分层次结构；  
(2)希望用户忽略组合对象与单个对象的不同，用户将统一地使用组合结构中的所有对象。  
图5-2中的Company对应的就是上图中的类Component, ConcreteCompany对应的是类Composite;而上图中的FinanceDepartment和HRDepartment扮演的就是类Leaf的角色。  
由于类Company的作用是为其子类提供统一的操作接口，所以将其定义为抽象类。 在C\#中，抽象类的定义是：至少包含一个纯虚拟函数的类。而纯虚拟函数是没有函数体的虚拟函数，其作用是为子类提供统一接口。若要使用纯虚拟函数，必须在子类中对其进行重置。定义纯虚拟函数的语法为：  
　　virtual &lt;返回值&gt; &lt;函数名&gt; (&lt;参数列表&gt;)=0;  
空（1）~（3）考查的是如何定义抽象类Company。Company提供了两个方法接口Add和Delete,即该类中应包含两个纯虚拟函数。如何确定Add.和Delete的函数原型呢？ 这要借助于Company的子类。因为子类重置父类定义的虚拟函数时，不能改变其接口定  
义。所以从ConcreteCompany中的Add和Delete方法就能够确定出空（2）和（3）处应 分别填入 “virtual void Add(Company\* c) = 0” 和 “virtual void Delete(Company\* c) = 0”。 空（1）考察的是在构造函数中如何给数据成员赋初值。当构造函数的参数与类的数据成员同名时，可以借助this指针来进行区别，因此空（1）处应填入this-&gt;name。  
空（4）~（6）考査对模式中Composite节点的定义。由图5-2可知，ConcreteCompany 与Company之间是聚集关系，即ConcreteCompany的实例中包含多个Company的子类 的实例。为了表示这种聚集关系，使用了C++标准类库中的类模板list。C++的类模板必须在实例化之后才能使用。实例化类模板时，要给出类型实参。由于children表示的是 类Company的子类的实例集合，所以空（4）处应填入Company\*。空（5）和（6）处 分别使用了 list中提供的方法来实现添加和删除子公司、办事处或部门。children是list 的实例，所以空（5）和（6）处都应填入children。  
空（7）和（8）考査的是组合模式的使用。由图5-1可知，组织结构图的根目录是 “北京总公司”，“上海分公司”应该插入在根目录之下。所以空（7）处应填入root-&gt;Add(Comp)。而“南京办事处”是以“上海分公司”为根的子树中的节点，应插入 在“上海分公司”这个节点的下面。对象comp表示的是以“上海分公司”为根的子树的根节点，所以空（8）处应该填入comp-&gt;Add(comp1)。  


## 第6题 ##

【问题1】  
![7ea3b5b0c3184b2dab285c6ab3681b30.jpg][]  
Composite模式将对象组合成树形结构以表示“整体-部分”的层次结构，其中的组合对象使得你可以组合基元对象以及其他的组合对象，从而形成任意复杂的结构。 Composite模式使得用户对单个对象和组合对象的使用具有一致性。  
Composite模式的结构如下图所示。  
![871f4e4879864c51be46ed1230e4b7d3.jpg][]  
其中：  
•类Component为组合中的对象声明接口，在适当的情况下，实现所有类共有接口的缺省行为，声明一个接口用于访问和管理Component的子部件；  
•类Leaf在组合中表示叶节点对象，叶节点没有子节点；并在组合中定义图元对象的行为;  
•类Composite定义有子部件的那些部件的行为，存储子部件，并在Component 接口中实现与子部件有关的操作；  
•类Client通过Component接口操纵组合部件的对象。  
下列情况可以使用Composite模式：  
(1)表示对象的整体-部分层次结构；  
(2)希望用户忽略组合对象与单个对象的不同，用户将统一地使用组合结构中的所有对象。  
图6-2中的Company对应的就是上图中的类Component, ConcreteCompany对应的是类Composite;而上图中的FinanceDepartment和HRDepartment扮演的就是类Leaf的角色。  
由于类Company的作用是为其子类提供统一的操作接口，所以将其定义为抽象类。空（1）~（2）考査的是如何定义抽象类Company。在Java中，可以通过在类名之前加 abstract关键字来定义抽象类，因此空（1）处应填入abstract class。空（2）考查的是在构造函数中如何给数据成员赋初值。当构造函数的参数与类的数据成员同名时，可以借助this指针来进行区别，因此空（2）处应填入this.name。  
空（3）~（6）考查对模式中Composite节点的定义。由图5-2可知，ConcreteCompany 与Company之间是聚集关系，即ConcreteCompany的实例中包含多个Company的子类 的实例。为了表示这种聚集关系，使用了Java包中的类模板List。类模板必须在实例化之后才能使用。实例化类模板时，要给出类型实参。由于children表示的是类Company 的子类的实例集合，所以空（3）和（4）处都应填入Company。空（5）和（6）处分别 使用了List中提供的方法来实现添加和删除子公司、办事处或部门。children是list的实例，所以空（5）和（6）处都应填入children。  
空（7）和（8）考査的是组合模式的实用。由图6-1可知，组织结构图的根目录是 “北京总公司”，“上海分公司”应该插入在根目录之下。所以空（7）处应填入root.Add(comp)0而“南京办事处”是以“上海分公司”为根的子树中的节点，应插入在“上海分公司”这个节点的下面。对象comp表示的是以“上海分公司”为根的子树的根节点，所以空（8）处应该填入comp.Add(comp1)。  



[c0c73eeda337488fa0dd84e23acae7f2.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第1题/c0c73eeda337488fa0dd84e23acae7f2.jpg
[fc5839278d284729a786e9554d7bd692.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第1题/fc5839278d284729a786e9554d7bd692.jpg
[2a3051c322b04d869518da781fa5253a.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第2题/2a3051c322b04d869518da781fa5253a.jpg
[8dd66e4f95914ce099c7b2754f7b8e19.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第2题/8dd66e4f95914ce099c7b2754f7b8e19.jpg
[10a57029b92b48f890e8de8414298629.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第2题/10a57029b92b48f890e8de8414298629.jpg
[9f3ec2acc73f47d0bd481eb0f991f9c7.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第3题/9f3ec2acc73f47d0bd481eb0f991f9c7.jpg
[7b17f82d5a3642ee9727f9e8f7791f8e.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第3题/7b17f82d5a3642ee9727f9e8f7791f8e.jpg
[e0a3c02b1c0b40f0bbfbf0df39c2ab9e.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第3题/e0a3c02b1c0b40f0bbfbf0df39c2ab9e.jpg
[4aa8a2acab284a8aa3289cca1c0c5b59.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第3题/4aa8a2acab284a8aa3289cca1c0c5b59.jpg
[a2545fb341ce4ac798e09068fc121159.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第3题/a2545fb341ce4ac798e09068fc121159.jpg
[34dc5b4a4bc6470cbad2bb01002539df.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第4题/34dc5b4a4bc6470cbad2bb01002539df.jpg
[ce58365f934e4081b484462c7be10531.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第5题/ce58365f934e4081b484462c7be10531.jpg
[fd1d0409f75b42989183031624a8921d.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第5题/fd1d0409f75b42989183031624a8921d.jpg
[7ea3b5b0c3184b2dab285c6ab3681b30.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第6题/7ea3b5b0c3184b2dab285c6ab3681b30.jpg
[871f4e4879864c51be46ed1230e4b7d3.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第6题/871f4e4879864c51be46ed1230e4b7d3.jpg
