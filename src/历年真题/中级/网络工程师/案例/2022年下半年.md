---  
title: 2022年下半年  
# icon: gears  
order: 974  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

试题一（20分）  
阅读下列说明，回答问题1至问题4，将解答填入答题纸的对应栏内。  
【说明】  
某仓储企业网络拓扑结构如图1-1所示，该企业占地500亩。有五层办公楼1栋，大型仓库10栋。每栋仓库内、外部配置视频监控16台，共计安装视频监控160台，SwitchA、服务器、防火墙、管理机、RouterA等设备部署在企业办公楼一层的数据机房中，Switch B部署在办公楼一层配线间作为一层的接入设备，SwitchC和SwitchD分别部署在仓库1和仓库2，各仓库的交换机与SwitchA相连。?办公楼的其他楼层的交换机以及其他仓库的交换机的网络接入方式与图1-1中Switch B、SwitehC、SwitehD接入方式相同，不再单独在图1-1上标示。  
![286be5f3579a427b9fed7fcf2fb6ad6d.jpg][]  
  
【问题1】（4分）  
该企业办公网络采用172.16.1.0/24地址段，部门终端数量如表1-1所示，请将网络地址规划补充完整。  
表1-1  
![e32b3a80360e437586061c4728e150e3.jpg][]  
  
【问题2】（6分）  
仓库到办公楼的布线系统属于什么子系统?应采用什么传输介质?该线缆与交换机连接需要用到哪些部件。  
  
【问题3】（4分）  
若接入的IPC采用1080P的图像传输质量传输数据，SwitchC、SwitchA选用百兆交换机是否满足带宽要求，请说明理由。  
  
【问题4】（6分）  
(1)在位置A增加一台交换机SwitchE做接入层到核心层的链路冗余，请以SwitchC为例简述接入层与核心层的配置变化。  
(2)简要说明在RouterA与RouterB之间建立IPSecVPN隧道的配置要点。  


## 第2题 ##

试题二（20分）  
阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
图2-1为某大学校园网络拓扑图。  
![e276042ddd4942cd92c4672518046bac.jpg][]  
  
【问题1】（6分）  
根据网络安全的需要，无线校园网要求全网认证接入，其中台式电脑、笔记本、手机等智能终端，从兼容性角度考虑应优先选用(1)认证方式;打印机、门禁等非智能终端应该选用(2)认证方式。  
图2-1中，数据业务流量通过AC与AP建立的隧道进行转发时，该转发模式为(1) 不经过AC转发，由AP经接入交换机到核心交换机传输至上层网络时，该转发模式为(4)。  
学校的新一代无线网络采用Wifi6技术，要求兼容仍工作在2.4G的老旧终端，Wifi6 AP的部署密度较大，为减少无线AP在2.4G模式下信道之间的干扰，信道之间至少应间隔(5)个信道。  
无线网络实施后，校园网络在线用户数大幅增长。原楼宇汇聚为千兆上联，高峰时期上行链路负载已经100%，经常有丢包现象，在不更换设备的前提下，可以通过(6)解决。  
  
【问题2】（8分）  
网络管理员某天在防火墙上发现了大量图2-2所示的日志，由此可判断校园网站遭受到了什么攻击请给出至少三种应对指施。  
![1fdc6181c3cd47f8b058893827e777dd.jpg][]  
图2-2  
  
【问题3】（6分）  
(1)校园网采用大二层组网结构，信息中心计划对核心交换机采用堆叠技术，请简述堆叠技术的优点和缺点。  
(2)网络试运行一段时间后，在二层网络中发现了大量的广播报文，影响网络的性能。网络管理员在接入层交换机做了如下配置问题得以解决∶  
\[SW\] interface gigabitethernet 0/0/3  
\[SW-GigabitEthernet0/0/3\]broadcast-suppression 80  
\[SW-GigabitEthernet0/0/3\]guit  
请简述以上配置的功能。  


## 第3题 ##

试题三（20分）  
阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
图3-1为某公司网络拓扑片段，公司总部路由器之间运行OSPF协议生成路由，分公司路由器运行RIP协议生成路由。分公司技术部门和外包部门通过路由器R1接入，分公司网络与公司总部网络通过路由器R2互联。公司总部通过路由器R3接入。所有网段网络地址信息如图所示，假设各路由器已经完成各个接口P等基本信息配置。  
![b0b912119e674495a75563ef84e1e2d1.jpg][]  
  
【问题1】（4分）  
从算法原理、适用范围、功能特性三个方面简述RIP和OSPF的区别。?  
  
【问题2】（10分）  
要求∶分公司路由器R1和R2之间运行RIP协议生成路由，路由器R1将直连路由导入RIP，通过配置直连路由引入策略，过滤外包部门网段，使外包部门网段不能访问公司总部。  
补全下列命令，填写空(1)～(3)处的内容，完成 R1过滤外包部门所要求的相关配置。  
\# 定义一个 acl2000，用于匹配需要放行和阻断的路由  
\[R1\]acl 2000  
\[R1-acl-basic-2000\]rule deny source (1) 0。  
\[R1l-acl-basic-2000\] rule permit  
\[R1-acl-basic-2000lquit  
\[R1\] route-policy uip rp permit node 10  
\[R1-route-policy\] (2) acl 2000  
\[R1-route-policy\] quit  
\[R1\] rip  
\[R1-rip-1\] version 2  
\[R1-rip-1\]network192.168.12.0  
\[R1-rip-1\] import-route (3) route-policy tip rip-rp  
在R2上导入R1的直连路由条目后，RIP路由条目如下所示，请简要说明10.0.0.0/8 这条路由条目是如何产生的，将解答填入答题纸的空(4)处。  
\[R2\]rip 1  
\[R2-rip-1\]version 2  
\[R2-rip-1\] network 192.168.12.0  
\[R2\] display ip routing-table protocol rip  
Destination/Mask Proto Pre Cost Flags NextHop Interface  
10.0.0/8 RIP 1001D 192.168.12.1 GigabitEthemet 1/0/1  
在R2执行 undo summary命令后，请写出当前的RIP路由条目，将解答填入答题纸的空(5)处。路由条目示例如下所示∶  
Destination/Mask Proto Pre Cost Flags NextHop Interface  
1.1.1.1/24 RIP 1001D 2.2.1 GigabitEthernet 1/0/1?  
  
【问题3】（6分）  
要求∶通过配置R3的OSPF路由发布策略，仅发布生产网段和办公网段，不发布财务专网，以防止公司总部其它网段或分公司对财务专网的访问。  
\[R3\] ipip-prefix 3 to 2 index 10 permit 10.1.0.0 24  
\[R3\]up ip-prefix 3 to 2 index 20 permit (6) 24  
\#配置发布策略，引用地址前缀列表3 to 2进行过滤  
\[R3\]ospf  
\[R3-ospf-1\] area 0  
\[R3-ospf-1-area-0.0.0.0\]network192.168.23.00.0.0.255  
\[R3-ospf-1\] filter-policy ip-prefix\_(7) export static  
\#将RIP路由导入公司总部  
\[R2\]ospf  
\[R2-ospf-1\]area 0  
\[R2-ospf-1-area-0.0.0.0\] network 192.168.23.00.0.255  
\[R2-ospf-1\] (8) rip  
\#将OSPF路由导入分公司  
\[R2\]rip  
\[R2-rip-llimport-route ospf 1?  


## 第4题 ##

试题四（15分）  
阅读下列说明，回答问题1至问题2，将解答填入答题纸的对应栏内。  
【说明】  
某公司网络的拓扑结构示意图如图4-1所示。  
![eea0354094b84e299f9b9798d5f02309.jpg][]  
  
【问题1】（6分）  
STP (Spanning Tree Protocol)协议用来发现和消除网络中的环路。运行该协议的设备通过相互之间发送(1)报文，在交换网络中选举根桥，通过依次比较该报文中包含的各自的(2)、MAC 地址信息，来确定根桥，优先级值越(3)，优先级越高，MAC地址亦然，交换机默认的优先级值为(4)。RSTP (Rapid SpanningTree Protocol)在STP基础上进行了改进，实现了网络拓扑(5)。但他们均是通过阻塞某个端口来实现环路消除的，存在浪费带宽的缺点，MSTP在STP和RSTP的基础上进行了改进，既可以快速收敛，又提供了数据转发的多个冗余路径，在数据转发过程中实现VLAN 数据的(6)。  
  
【问题2】（9分）  
管理员计划为交换机配置VRRP，以提高网络的可靠性。通过调整优先级使SwitchA作为Master设备承担流量转发，同时为了防止震荡，设置20s抢占延时SwitchB为默认优先级，作为Bakup设备，实现网关冗余备份。接口IP地址配置如表4-1所示。请将下面的配置代码补充完整。  
![94b727a1ed7e4e64a17dab0cde6a6c2c.jpg][]  
1.配置SwitchA接口转发方式、IP地址和VRRP  
(7)  
\[HUAWEI\] (8) SwitchA  
\[SwitchAl vlan (9) 100 200  
\[SwitchAl interface gigabitethernet 0/0/1  
\[SwitchA-GigabitEtheret0/0/1\]port link-type (10)  
\[SwitchA-GigabitEthernet0/0/1\]port hybrid (11) vlan 200  
\[SwitchA GigabitEtherpet0/0/1\]port hybrid untagged vlan 200  
\[SwitchA-GigabitEthernet0/0/1\]guit  
.....................  
\[SwitchA\] interface vlanif 100  
\[SwitchA-Vlanif100\] ip address 10.1.1.1 24  
\[SwitchA-Vlanif100\] quit  
\[SwitchA\] interface vlanif 200  
\[SwitchA-Vlanif200\] ip address (12) 24  
\[SwitchA-Vlanif200\] quit  
\[SwitchAl interface vlanif 100  
\[SwitchA-Vlanif100\](13) vrid 1 virtual-ip 10.1.1.111  
\[SwitchA-Vlanifl00\] vrrp vrid 1 priority 120?\[SwitchA-Vlanifl00\] vrrp vrid 1 preempt-mode timer delay (14)  
\[SwitchA-Vlanif100\] quit  
2.在 SwitchB上创建VRRP备份组1  
\[SwitchB\] interface vlanif 100  
\[SwitchB-Vlanif100\] MIIpyid 1 virtual-ipl (15)  
\[SwitchB-Vlanif100\] quit?  
  


## 答案及解析 ##

  



[286be5f3579a427b9fed7fcf2fb6ad6d.jpg]: https://www.xkxxkx.cn/file/exam/software/网络工程师/案例/第1题/286be5f3579a427b9fed7fcf2fb6ad6d.jpg
[e32b3a80360e437586061c4728e150e3.jpg]: https://www.xkxxkx.cn/file/exam/software/网络工程师/案例/第1题/e32b3a80360e437586061c4728e150e3.jpg
[e276042ddd4942cd92c4672518046bac.jpg]: https://www.xkxxkx.cn/file/exam/software/网络工程师/案例/第2题/e276042ddd4942cd92c4672518046bac.jpg
[1fdc6181c3cd47f8b058893827e777dd.jpg]: https://www.xkxxkx.cn/file/exam/software/网络工程师/案例/第2题/1fdc6181c3cd47f8b058893827e777dd.jpg
[b0b912119e674495a75563ef84e1e2d1.jpg]: https://www.xkxxkx.cn/file/exam/software/网络工程师/案例/第3题/b0b912119e674495a75563ef84e1e2d1.jpg
[eea0354094b84e299f9b9798d5f02309.jpg]: https://www.xkxxkx.cn/file/exam/software/网络工程师/案例/第4题/eea0354094b84e299f9b9798d5f02309.jpg
[94b727a1ed7e4e64a17dab0cde6a6c2c.jpg]: https://www.xkxxkx.cn/file/exam/software/网络工程师/案例/第4题/94b727a1ed7e4e64a17dab0cde6a6c2c.jpg
## 第1题 ##

【问题1】  
（1）255.255.255.224  
（2）172.16.1.65~172.16.1.126  
（3）172.16.1.33-172.16.1.62  
（4）255.255.255.128  
  
【问题2】  
建筑群子系统或园区子系统  
采用单模光纤  
光模块或sfp  
  
【问题3】  
不满足。  
因为图像传输清晰图不够。  
  
【问题4】  
1) SwitchA、SwitchE组成双核心，交换机之间采用链路聚合，同时采用STP或MSTP避免环路。  
2）配置接口的IP地址和到对端的静态路由，保证两端路由可达。配置ACL，以定义需要IPSec保护的数据流。  
配置IPSec安全提议，定义IPSec的保护方法。配置IKE对等体,定义对等体间IKE协商时的属性。  
配置安全策略，并引用ACL、IPSec安全提议和IKE对等体，确定对何种数据流采取何种保护方法。  
在接口上应用安全策略组,使接口具有IPSec的保护功能。  
(1)在位置A增加1台交换机作为接入层到核心层的链路冗余，从而实现了双核心交换机，下面的接入层设备需要使用双链路分别连接到核心层的switch A和switchE。因此对于核心层的配置需要将两台核心层交换机连接起来,可以考虑使用链路聚合提供更高的链路带宽。接入层交换机需要配置2个通讯链路，分别连接到switch A和switch E。由于存在有冗余的链路，还需要配置生成树协议以避免出现环路。  
(2) IPSEC VPN的配置，首先需要保障网络是联通的，因此需要配置好各个接口的IP地址和对应的路由。  
第二步需要配置ACL，利用ACL控制进入IP SEC VPN隧道的流量。第三步配置IPsec安全提议  
第四步配置lke对等体。  
第五步配置安全策略，将之前定义的ACL，IPsec安全提议和lke对等体关联起来。  
第六步在接口上应用安全策略。  


## 第2题 ##

【问题1】  
(1) Portal认证 (2)MAC认证 (3)CAPWAP隧道（4）直接转发方式或Soft-GRE转发(5)5 (6)增加链路并配置链路聚合  
本题考查的是几种常用的认证方式以及各种认证方式的应用场景，在直播课中我们有讲过常用的认证方式有基于Portal认证,基于MAC地址认证，802.1X认证等。  
第一空根据题目意思要对台式电脑、笔记本、手机等智能终端从兼容性角度来考虑，因为各种智能终端所使用的操作系统不同,开发客户端认证软件显然会存在较大的兼容性问题,因此最适合使用portal方式。  
第二空而对于打印机、门禁等非智能终端既不适合使用客户端认证软件，也不能通过portal方式进行认证,最适合的方式就是Mac认证。第三空在AC和AP之间通常会建立cap wap隧道，所以当数据业务流是通过隧道进行转发时,使用的转发模式就是cap wapl隧道。  
第四空路经过AC转发而由AP经接入交换机的核心交换机传输至上层网络，所使用的转发模式就是直接转发方式。  
第五空为了减少AP在2.4G模式下信道之间的干扰，通常可以通过信道频率的优化,比如说选择1，6，11等频道间隔部署，因此为了减少信道干扰,通常信道之间间隔5个信党会取得比较好的效果。  
第六空从题干中可知是因为用户数量的增长，导致原有的上行链路负载已达100%，因此出现丢包现象，这种故障的根本原因是因为带宽不够,在不更换设备的前提下，单条链路已经无法解决。所以只能考虑多条链路捆绑，做链路聚合方式来提升链路带宽。  
  
【问题2】  
1)DDoS攻击2〉措施:配置最小特权访问策略、购买流量清洗服务、停止不必要的服务端口、启用防火墙的防DDoS功能、部署IPS防护等从截图显示的信息中可以看到,每一行截获的数据相隔的时间非常的短，也就意味着在单位时间内，发送了大量的数据包。从source这一列可以看到每个数据包的源地址都各不相同，从Destination可以看到目标地址都是指向同一个主机。由此可以判断发动的攻击是DDoS要解决DDoS攻击的问题,可以使用防火墙的防Ddos功能，也可以购买流量清洗服务，对DDoS攻击流量进行清洗。采用高防IP地址，从而隐藏真实服务器IP地址。禁止服务器上不必要的服务端口，过滤掉非必要服务端口对应的流量。对访问数据量的来源地址进行检查,对于非真实地址可以进行屏蔽。  
  
【问题3】  
(1)堆叠的优点:1.高可靠性。2.强大的扩展能力3.简化配置和管理  
堆叠的缺点:对设备的型号要求高。2.需要使用专用的堆叠接口和堆叠线缆。3.堆叠的成本相对较高。  
(2)缺省情况下，不对广播流量进行抑制。当最大广播流量所占该端口传输能力的百分80%时，系统将丢弃超出限制的报文，从而使广播流量所占的流量比例降低到限定的范围，保证网络业务的正常运行。(1)堆叠iStack (Intelligent Stack)，是指将多台支持堆叠特性的交换机设备组合在一起，从逻辑上组合成一台交换设备，SwitchA与SwitchB通过堆叠线缆连接后组成堆叠iStack，对于上游和下游设备来说，它们就相当于一台交换机Switch。  
在设备堆叠时,对设备型号的要求较高,一般需要同一个品牌同一个类型的交换机之间进行，且需要直连，中间不能有其他的交换机，甚至有的型号只支持堆叠卡，使用专用的堆叠线。通过交换机堆叠，可以实现网络高可靠性和网络大数据量转发，同时简化网络管理。高可靠性。堆叠系统多台成员交换机之间冗余备份;堆叠支持跨设备的链路聚合功能，实现跨设备的链路冗余备份。强大的网络扩展能力。通过增加成员交换机,可以轻松的扩展堆叠系统的端口数、带宽和处理能力;同时支持成员交换机热插拔，新加入的成员交换机自动同步主交换机的配置文件和系统软件版本。简化配置和管理。一方面，用户可以通过任何一台成员交换机登录堆叠系统,对堆叠系统所有成员交换机进行统一配置和管理;另一方面，堆叠形成后，不需要配置复杂的二层破环协议和三层保护倒换协议,简化了网络配置。  
(2)在2层网络中发现有大量广播报文，可以在交换机端口上配置广播流量限制，如题干中所使用的配置命令，是该端口的广播数据传输量达到端口传输能力的80%，则丢弃超出限制的报文，从而保证网络业务的正常运行。  


## 第3题 ##

【问题1】  
RIP使用的是距离矢量算法，OSPF使用的是Dijkstra最短路径优先算法;  
RIP适用于小型网络，OSPF适用于中大型网络;  
两者都是动态内部网关协议，由于RIP的实现较为简单，在配置和维护管理方面也远比OSPF容易，但存在着收敛慢、路由环路、可扩展性差等问题;OSPF作为基于链路状态的协议，能够解决RIP所面临的诸多问题。此外，OSPF还有以下优点:OSPF采用组播形式收发报文，这样可以减少对其它不运行OSPF路由器的影响;OSPF支持无类型域间选路(CIDR) ; OSPF支持对等价路由进行负载分担;OSPF支持报文加密。  
  
【问题2】  
(1)10.3.0.0 0.0.0.255  
(2)if-match  
(3) direct  
(4) rip开启了路由自动汇总特性，将R1的10的网段自动汇总成10.0.0.0/8  
(5)10.2.0.0/29 RIP 100 1 D192.168.12.1 GigabiEthernet1/0/1  
10.2.0.8/29 RIP 100 1 D192.168.12.1 GigabiEthernet 1/0/1  
10.2.0.16/29 RIP 100 1 D192.168.12.1 GigabiEthernet 1/0/1  
10.2.0.32/29RIP 100 1 D192.168.12.1 GigabiEthernet 1/o/1  
第一空可知是设置ACL中的源地址，根据题干的说明四要求阻止外包部门的网段，从拓扑图中可以看到外包部门的地址段为10.3.0.0,掩码是24位,在ACL中需要使用反掩码,因此对应的反掩码是0.0.0.255.  
第二空是设置一个路由策略,在路由策略中需要引用到之前定义的ACL 2000,根据我们之前对策略路由配置的了解,在引用ACL时,通常是判断是否匹配该ACL，对应的命令是lf-match。  
第三空根据题干的说明是要在R2上导入R1上的直连路由条目所以在import route命令中导入直连路由使用的关键词是direct。  
第四空在R2的路由表中看到了一个汇总的10.0.0.0/8主类网络的路由信  
息，而在拓扑图中可以看到，实际上对应的是4个小网段，由此可知，是rip协议启用了路由的自动汇总，自动将这4个小网段聚合成了一个大的 网段地址。实际上这个题也可以结合第五空的题干说明，在路由器R1上执行了Undo summary命令之后，显然这条命令的作用是关闭路由协议的自动汇总功能。  
第五空，在路由器上关闭了路由的自动汇总功能之后，路由器会根据网  
络中实际的小网段来更新路由表，也就是拓扑图中的每一个24位掩码对应的小网段都会在路由器中有一条单独的路由信息，同时由于设置了路 由过滤策略，连接在该路由器上的外包网络被路由过滤策略阻止，因此外包网段对应的网络地址不会出现在更新之后的路由表中。所以路由表中间出现的路由条目根据题干给出的示例可以知道有以下4个网段。  
  
【问题3】  
(6) 10.5.0.0  
(7) 3 to 2  
(8) import-route  
第六空根据题干的意思是仅发布生产网段和办公网段而不发布财务网段,结合上下文配置可知前缀列表3to2对应的地址段除了包括办公网段外,还需要加上生产网段,从拓扑图中可以看到生产网段的地址是10.5.0.0.  
第七空根据上下文配置可知需要在过滤策略中指定一个地址前缀列表,我们可以从关键词IP prefix可知这里需要设置一个地址前缀列表,而配置中定义地址前缀列表的名字是上文中的3to2.  
第8空，根据配置文件中的解释信息和上下文可知，这里要将rip路由导入公司总部,使用的导入命令为import-route。  


## 第4题 ##

【问题1】  
（1）BPDU  
(2)优先级  
(3) 小  
(4) 32768  
(5)快速收敛  
(6)负载分担  
本题考查的就是STP协议的基本工作原理,在运行STP协议的设备之间通过相互发送BPdu报文选举出根桥,跟桥是通过网桥ID的大小进行选举,而网桥ID通常有包括了优先级和MAC地址2个部分，在比较网桥ID时首先比较优先级，优先级的值越小说明优先级越高,越容易被当选为根桥。在优先级相同的情况下则比较MAC地址，MAC地址小的当选为根桥。网桥的优先级默认值为32768，在修改时，网桥优先级要为4096的整数倍。早期的生成树协议收敛速度较慢，后续改进的快速生成树在原有生成树的基础上进行了改进，实现了网络拓扑结构的快速收敛。多生成树协议能够同时形成多个生成树实例，每个生成树实例对应不同的vlan，因而可以在数据转发过程中实现WLAN数据的负载分担。  
  
【问题2】  
(7) system-view  
(8) sysname  
(9) batch  
(10) Hybrid  
(11) pvid  
(12) 192.168.1.2  
(13) vrrp  
(14) 20(15)10.1.1.111  
本题的配置相对比较简单，主要通过上下文，找到正确的答案。  
第七空根据上下文交换机名的提示符变化，可以知道使用的是System-viewo  
第八空根据上下文交换机名提示符的变化，可以知道使用的sysname，修改了交换机的名称。  
第九空根据后面的V lan编号可以知道是要批量的创建vlan，因此对应的命令为batch。  
第十空根据上下文可以知道，下文的port hybrid说明对应第十空应该是hybrid。  
第十—空在端口设置为hybrid类型时,需要指定该端口的pvid，因此第十一空为PVid。  
第12空，根据表中给出的各个接口IP地址信息，可以知道vlan 200对应的虚接口地址为192.168.1.2. 第13空,配置的是VRRP组对应的虚拟地址,这一空根据上下文,也就是switch B上对应的虚拟IP地址的配置行.可以知道对应的命令是VRRP.  
第14空在题干中明确说明了VRP组的抢占延时时间为20秒.  
第15空,结合上下文可以知道Switch A中配置的虚拟地址和本机配置的虚拟地址必须一样,因此对应的地址是10.1.1.111  

