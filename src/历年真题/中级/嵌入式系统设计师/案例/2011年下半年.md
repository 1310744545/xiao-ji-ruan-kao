---  
title: 2011年下半年  
# icon: gears  
order: 998  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

试题一（15分）  
阅读以下关于某嵌入式系统设计方案的叙述，回答问题1至问题3，将答案填入答题纸的对应栏内。  
【说明】  
某公司承接了开发周期为6个月的某机载嵌入式系统软件的研制任务。该机载嵌入式系统硬件由数据处理模块、大容量模块、信号处理模块、FC网络交换模块和电源模块组成，如图1-1所示。数据处理模块和大容量模块的处理器为POWCTPC7447,数据处理模块主要对机载数据进行处理，完成数据融合；大容量模块主要存储系统数据，同时也有数据处理的能力：信号处理模块的处理器为专用的数字信号处理器DSP，完成雷达数据处理，并将处理后的数据发送给数据处理模块；FC网络交换模块为已开发的模块，本次不需要开发软件，主要负责系统的数据交换；电源模块主要负责给其他模块供电，电源模块上没有软件。  
PowerPC7447和DSP是32位处理器，内存按字节编址。PowerPC7447以大端方式(big\_endian)存储数据，DSP以小端方式（little\_endian)存储数据。  
  
![a42f6acb09f54802abf71dc02bebeb37.jpg][]  
  
【问题1】（5分）  
在数据处理模块1中，需要使用A/D变换器对外部电源模块的电压进行检测。当前数据处理模块中的A/D变换器为10位，当A/D变换器的输入模拟电压最大为5.115V时,A/D输出为3FFH。  
通过配置A/D变换器的中断寄存器及比较寄存器（比较寄存器的值是用来和A/D转换结果进行比较)，可以将A/D变换器配置为输入电压大于一定值时产生中断，也可以配置为输入电压小于一定值时产生中断，通过此种方式向系统报警。  
请回答以下三个问题。  
(1) 此A/D变换器的量化间隔为多少mV?(量化间隔为A/D变换器最低有效位1位所代表的模拟电压值）  
(2) 如果规定下限阈值为4.092V，要使用中断检测这个电压，此时A/D变换器的比较寄存器应配置为多少？  
(3) 如果釆用查询方式实现电源电压超限报警功能，程序如何判断A/D变换器完成了单次数据转换？  
  
【问题2】（5分）  
李工负责该系统软件的研发。在软件策划过程中，为了加快软件的开发，确保进度，李工将软件分解为若干软件配置项，每个软件配置项指定一人开发。每个配置项的开发过程包括：软件需求分析、软件概要设计、软件详细设计、软件编码、软件单元测试和部件级测试六个阶段。李工的做法符合软件工程的要求吗？为什么？  
  
【问题3】（5分）  
田工负责编写信号处理模块与数据处理模块的通信程序，约定好的数据组织方式如表1-1所示。  
![0a34fe4f9c32420686c438330b9159d8.jpg][]  
以下是信号处理模块端的一段程序：  
![f38a0df0185e4d5aa7022fe96605986c.jpg][]  
以下是数据处理模块2端的一段程序：  
![73a68d11843a4d6c94eb15e1698f3af4.jpg][]  
请问以上程序是否存在问题？如果存在问题，请分析原因。  


## 第2题 ##

试题二（15分）  
阅读以下关于某嵌入式处理器和8255的叙述，回答问题1至问题3，将答案填入答题纸的对应栏内。  
【说明】  
图2-1为使用某嵌入式处理器和8255对打印机进行控制的电路图，其中8255的中断请求PC3接到处理器的中断请求输入端![f10a76b81fbc48c2ab04fe45691468fe.jpg][]上，打印机的数据口接在8255的PA0-PA7上，打印机的输出电平![91e3f3a62c104d00b7c0f5848555e2e4.jpg][]接在8255的PC6上。  
为了使用嵌入式处理器对打印机进行控制，在程序设计时，需要将8255的PAPS置为工作方式1;PB口设置在工作方式0,配置为输入；PC口的PCO、PCI、PC2、PC3和PC4定义为输出。  
为了在打印机输出为低电平时通过8255的PC3产生有效的中断请求信号INTRA,必须使得A口的中断请求使能INTE=1,实际上就是通过C口的按位复位操作将PC6置1,整个程序分为四部分：依次是8255的初始化，嵌入式处理器的中断初始化，嵌入式处理器的主程序和打印字符的中断处理程序。其中8255的端口配置功能如表2-1所示。嵌入式处理器的中断使能控制字含义如表2-2所示，该处理器的典型汇编指令如表2-3所示。  
![82d4cf6046a944acacfdf564b6aa1927.jpg][]  
![4af05bc4430c49dfa5373ff7e9b6f8f5.jpg][]  
![dc9b5d956f764b429f4e8e4fda7835ca.jpg][]  
![1a0ffc4af96142d2834431db0c2dda6c.jpg][]  
  
【问题1】（6分）  
根据图2-1所示，通过嵌入式处理器访问8255的PA口、PB口和PC口对应的地址分别是什么？（请用十六进制描述）  
对应的地址：  
PA口：(1)  
PB口：(2)  
PC口：(3)  
  
【问题2】（4分）  
在嵌入式处理器的汇编语言中，最简单的指令寻址方式为立即寻址和直接寻址，请回答下面两个汇编语言语句所描述的含义，将答案填写在答题纸的对应栏中。  
MOV A,\#3AH：(1)  
MOV R4,3AH：(2)  
  
【问题3】（5分）  
以下汇编程序用于打印机输出控制，请将下面汇编程序的空（1）~（5）补充完整，并将解答填入答题纸的对应栏中。  
8255的A口工作在方式1输出，初始化程序：  
![b4bdb35ad17e47dc9fed5f012185fcbb.jpg][]  
![f2ef0639a8bc435b95bfcf80361bae5a.jpg][]  


## 第3题 ##

试题三（15分）  
阅读以下关于嵌入式软件测试用例设计的叙述，回答问题1至问题3，将答案填入答题纸的对应栏内。  
【说明】  
某程序段的流程如图3-1所示，x、y是两个变量，K、J表示一段程序执行体，表3-1所示为本题可供选择的四组测试用例组。  
![4996061f39dc46c8ab58428fda717229.jpg][]  
  
【问题1】（3分）  
简答以下问题。  
(1) 条件覆盖的含义是什么？  
(2) 路径覆盖的含义是什么？  
  
【问题2】（2分）  
在程序测试用例设计中，有语句覆盖、条件覆盖、判定覆盖（分支覆盖）和路径覆  
盖等。其中， 是最强的覆盖准则。  
请把以下4个选项中正确的选项序号填入上述空白处。  
①语句覆盖  
②条件覆盖  
③判定覆盖（分支覆盖）  
④路径覆盖  
  
【问题3】（10分）  
为了对图3-1所示的程序段进行覆盖测试，必须适当地选取测试用例组。实现判定覆盖至少应采用的测试用例组是（1）和（2）,实现条件覆盖至少应采用的测试用例组是（3）；实现路径覆盖至少应采用的测试用例组是（4）和（5）.  
请把以下8个选项中正确的选项序号填入上述空白处。  
①测试用例组I和II  
②测试用例组II和m  
③测试用例组ID和IV+  
④测试用例组I和IV  
⑤测试用例组I、II和m  
⑥测试用例组II、m和iv  
⑦测试用例组I、m和iv  
⑧测试用例组I、II和IV  


## 第4题 ##

试题四（15分）  
阅读以下关于中断的叙述，回答问题1至问题4，将解答填入答题纸的对应栏内。  
【说明】  
在某嵌入式系统中，王工设计的计算机模块如图4-1所示。它要求CPU在执行完当前指令后转而对中断请求进行处理。假定：TDC为查询链中每个设备的延迟时间，Ta、Tb、Tc分别为设备A、B、C的中断服务程序所需的执行时间，TS和TR为保存现场和恢复现场所需的时间。  
![18baf753e25f4788a7bc0801901fb444.jpg][]  
  
【问题1】（2分）  
一般计算机系统根据对中断处理的策略不同，可分为单级中断系统和多级中断系统。本项目中王工设计的系统属于哪一类中断系统？请将设备A、设备B、设备C三个.设备的中断优先级按照从高到低的次序排列。  
  
【问题2】（5分）  
本系统不允许中断嵌套，如果CPU响应中断，则中断处理过程按照如下流程执行，将（1）~（5）的内容填入答题纸上相应的位置。  
中断处理.过程流程：  
a) CPU检查响应中断的条件是否满足；  
b) 如果CPU响应中断，则（1）：  
c) （2）；  
d) 分析中断原因；  
e) （3）：  
f) 退出中断，（4）：  
g) （5）,CPU继续执行。  
  
【问题3】（4分）  
当设备A、设备B、设备C同时发出中断请求时，请计算出处理器处理设备A、B、C的时间TA、TB和TC。如果处理三个设备所需要的总时间为T，那么本系统所设计的中断极限频率f是多少？  
  
【问题4】（4分）  
嵌入式系统中多用I/O设备管理软件来管理外设。I/O设备管理软件一般分为4层，层次关系和每一层的主要功能说明如图4-2所示。请给出4层软件的名称，将（1）~（4）的内容填入答题纸上相应的位置。  
  
![961d008e332047878a98196bb4bf19ca.jpg][]  


## 第5题 ##

试题五（15分）  
阅读以下关于C语言及C代码的叙述，回答问题1至问题3，将答案填入答题纸的对应栏内。  
【说明】  
在开发某嵌入式系统时，设计人员根据系统要求，分别编写了如下三部分程序，其中：  
【C代码1】是李工为了在嵌入式平台上开发一段可变参数函数，在X86平台上实现的一个参数个数可变函数实例。  
【C代码2】是王工在编写软件时，自己编写的内存拷贝函数。  
【C代码3】是赵工编写的一段数据处理的程序，其中fiin()的含义为从已创建的一个单向链表中查找倒数第index个结点。他的设计思路为：首先创建两个指针ptrl，ptr2,并且都指向链表头，然后ptrl向前走index步，这样ptrl和ptr2之间就间隔index个结点，然后ptrl和ptr2同时向前步进，当ptrl到达最后一个结点时，ptr2就是倒数第index个结点了。ReverseListO为赵工编写的对已有单向链表进行逆序重排的函数。  
![a1b36c392e464db89e00d4e665e00a33.jpg][]  
![5e3ba764edfc41d7856f8f431959a2a4.jpg][]  
![6306389e212144cc8412343af6f21f62.jpg][]  
![99c7f19c6afb4f7ea13fe57d0a27eabf.jpg][]  
![f55d740e16a8428f94681cf55ae15b36.jpg][]  
  
【问题1】（3分）  
执行C代码1后，Sum的值应为多少？请用十进制表示。  
  
【问题2】（7分）  
请问C代码2中static的作用是什么？const的作用是什么?王工自己编写的内存拷贝函数安全吗？如存在缺陷，请指出缺陷在哪里。  
  
【问题3】（5分）  
仔细阅读并分析C代码3,填补其中的空（1）~（5）。  
  


## 答案及解析 ##

  



[a42f6acb09f54802abf71dc02bebeb37.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/a42f6acb09f54802abf71dc02bebeb37.jpg
[0a34fe4f9c32420686c438330b9159d8.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/0a34fe4f9c32420686c438330b9159d8.jpg
[f38a0df0185e4d5aa7022fe96605986c.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/f38a0df0185e4d5aa7022fe96605986c.jpg
[73a68d11843a4d6c94eb15e1698f3af4.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/73a68d11843a4d6c94eb15e1698f3af4.jpg
[f10a76b81fbc48c2ab04fe45691468fe.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/f10a76b81fbc48c2ab04fe45691468fe.jpg
[91e3f3a62c104d00b7c0f5848555e2e4.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/91e3f3a62c104d00b7c0f5848555e2e4.jpg
[82d4cf6046a944acacfdf564b6aa1927.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/82d4cf6046a944acacfdf564b6aa1927.jpg
[4af05bc4430c49dfa5373ff7e9b6f8f5.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/4af05bc4430c49dfa5373ff7e9b6f8f5.jpg
[dc9b5d956f764b429f4e8e4fda7835ca.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/dc9b5d956f764b429f4e8e4fda7835ca.jpg
[1a0ffc4af96142d2834431db0c2dda6c.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/1a0ffc4af96142d2834431db0c2dda6c.jpg
[b4bdb35ad17e47dc9fed5f012185fcbb.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/b4bdb35ad17e47dc9fed5f012185fcbb.jpg
[f2ef0639a8bc435b95bfcf80361bae5a.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/f2ef0639a8bc435b95bfcf80361bae5a.jpg
[4996061f39dc46c8ab58428fda717229.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第3题/4996061f39dc46c8ab58428fda717229.jpg
[18baf753e25f4788a7bc0801901fb444.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/18baf753e25f4788a7bc0801901fb444.jpg
[961d008e332047878a98196bb4bf19ca.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/961d008e332047878a98196bb4bf19ca.jpg
[a1b36c392e464db89e00d4e665e00a33.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/a1b36c392e464db89e00d4e665e00a33.jpg
[5e3ba764edfc41d7856f8f431959a2a4.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/5e3ba764edfc41d7856f8f431959a2a4.jpg
[6306389e212144cc8412343af6f21f62.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/6306389e212144cc8412343af6f21f62.jpg
[99c7f19c6afb4f7ea13fe57d0a27eabf.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/99c7f19c6afb4f7ea13fe57d0a27eabf.jpg
[f55d740e16a8428f94681cf55ae15b36.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/f55d740e16a8428f94681cf55ae15b36.jpg
## 第1题 ##

【问题1】  
(1) 5mV  
(2) 0x332，或818  
(3) 通过查询状态寄存器的对应状态位判断  
  
本题考查嵌入式系统设计基础知识和软件工程知识的应用，要开发完成一项嵌入式系统是一个较为复杂工程，涉及软件和硬件基础知识。  
A/D变换器的量化间隔为A/D变换器最低有效位所代表的是模拟电压值，当前A/D变换器的模拟电压最大为5.115V，表示A/D输出的最大值为3FFH，因此，A/D变换器的量化间隔为5.115V/3FFH=5mV。 1  
根据AID变换器的量化间隔，可以根据需要控制的模拟电压来计算出对应的数字值。按照题意，如果当前的阈值为4.092V，则可以计算出要产生中断时候配置的A/D变换器的比较寄存器的值为4.092V/5mV，即818或者0x332。  
一般嵌入式系统设计中，对于外部A/D变化报警事件的处理，可以采用査询方式，也可以采用中断方式。当采用查询方式来检查电源电压是否超过一定阈值或者低于一定阈值的事件时，需要首先设置A/D变换的比较寄存器的阈值，然后开启对应的控制字，最后应用程序通过不断查询状态寄存器中对应的标志位来判断是否有对应的事件发生。  
  
【问题2】  
李工的安排不合理。  
软件开发和软件测试不能为同一个人。  
一般情况下，每个软件配置项的软件需求分析、软件设计与编码、软件测试的人员需要分开，不能由一人全部完成，以确保软件的质量。  
  
按软件工程的要求，开发过程分为软件策划、软件需求分析、软件概要设计、软件详细设计、软件编码、软件测试（单元级、部件级、系统级）、验收交付等阶段。一般情况下，软件可以分解为若干软件配置项，由不同的人员完成，但对于同一软件配置项，软件开发和软件测试必须不能为同一个人，即不允许自己测试自己开发的软件；对于重要的软件，每个软件配置项的软件需求分析、软件设计与编码、软件测试的人员需要分开，不能由一人全部完成，以确保软件的质量。  
因此，李工的安排不合理，必须在软件策划中，将各阶段的人员分开，否则，软件开发计划和软件配置管理计划在评审时将不能通过。  
  
【问题3】  
有问题。  
(1) 数据结构定义有边界对齐问题；  
(2) 接收和发送端的处理程序没有对大小端转换进行处理。  
  
本题中，田工在发送和接收消息时采用的数据类型为FCSND\_DATA和FCRCV\_DATA,数据类型中有字符型、整型、短整型、字符数组；而发送端为信号处理模块，其处理器为专用的数字信号处理器DSP。接收端为数据处理模块，其处理器为PowerPC7447。在嵌入式系统中，C语言的编译器在专用的信号处理器DSP和POWCTPC7447很可能不同，不同的编译器对数据有边界的对齐处理会有不同的方式，不—定采用表1-1规定的组织方式。可能的情况是：  
(1) 两者都不是表1-1规定的内存组织方式；  
(2) 信号处理模块数据可能与数据处理模块的内存组织方式不同。  
解决办法为在数据结构设计中只用字符型和字符数组，不同其他类型数据。  
另外，题干中已经明确：PowerPC7447和DSP是32位处理器，内存按字节编址。  
PowerPC7447以大端方式（big\_endian)存储数据，DSP以小端方式（little\_endian)存储数据。因此，需要对大小端转换进行处理，在发送端或接收端都可以，而本题明显没进行大小端转换处理。  


## 第2题 ##

【问题1】  
(1)8000H  
(2)8001H  
(3)8002H  
  
从题中给出的电路图中可以看出，8255控制芯片的CS信号的有效电平为低电平。其对应的CS由嵌入式处理器地址线中的A15~A2通过“或门”进行控制，从这里可以看出，要使得8255的片选信号CS有效，必须使得A15为1，A14~A2都为0。  
由题中表2-1提供的端口访问控制表及电路图可知，如果要访问8255的PA口，必须使得Al、A0都为0,PB口访问时A1为0、A0为1，PC口访问时A1为1，A0为0。  
因此，结合8255的片选信号CS控制，以及Al、A0对于端口访问的控制，即可得到使用嵌入式处理器进行8255的PA、PB、PC口访问时的地址。  
  
【问题2】  
(1)将3AH立即数传送到A中  
(2)将3AH存储单元的内容传送到R4中  
  
立即数的传送指令和直接寻址指令是两种最基本的汇编指令。其中立即数的表示是在进制数前加\#号。  
  
【问题3】  
(1) \#09FH  
(2) @R0  
(3) 20H  
(4) \#09EH  
(5) R0  
  
由表2-2知道，对于中断使能控制的访问也就是设置该寄存器的对应位为1或者0,为1表示开启对应的中断控制，为0表示关闭对应的中断控制，按照对应的各个位来进行立即数配置即可进行各个中断的控制。  
程序中的空（2）处是表示使用寄存器寻址方式获取数据。空（3）处于中断程序的服务程序中，需要重复从20H中获取待打印的内容，使用直接寻址方式。空（4）是指使用“与指令”关闭对应的中断位。空（5）处为与入栈相对应的出栈操作。  


## 第3题 ##

【问题1】  
(1) 条件覆盖是指设计足够的测试用例，使得被测程序每一个判定中的每个条件的所有可能结果至少出现一次。  
(2) 路径覆盖是指设计足够的测试用例，使得被测程序中每条路径至少执行一次。  
  
【问题2】  
(1)④（路径覆盖）  
  
在结构测试中，根据覆盖目标的不同，可以分为语句覆盖、条件覆盖、判定覆盖（分支覆盖）和路径覆盖等。  
语句覆盖的含义是设计足够的测试用例，使得被测程序每一条语句至少被执行—次。  
判定覆盖（分支覆盖）的含义是设计足够的测试用例，运行被测程序，使得程序中每个判定的取真分支和取假分支至少执行一次。  
其中，路径覆盖是最强的覆盖准则。  
  
【问题3】  
(1) ⑤  
(2) ⑧  
(3) ⑦  
(4) ⑤  
(5) ⑧  
其中，第（1）、(2)题的答案顺序可互换，第（4）、（5）题的答案顺序可互换。  
  
为判定覆盖选取测试用例情形：对第一个判定选取测试用例组I和II,当用I覆盖判定的T分支时，不会走到第二个分支；当用II覆盖判定的F分支时，第二个判定需要另取一个测试用例组覆盖其t分支，此时取测试用例组in或iv即可。  
为条件覆盖选取测试用例情形：取测试用例组I、in和iv，就可以覆盖所有4个条件的取值。  
为路径覆盖选取测试用例情形：总共三条路径，需要三个测试用例，可选使各路径为t的测试用例。I、II、ni或I、II、iv均可。  


## 第4题 ##

【问题1】  
(1) 单级、或单级中断系统  
(2) 设备C，设备B，设备A。  
  
根据计算机系统对中断处理的策略不同。可分为单级中断系统和多级中断系统。  
单级中断系统是中断结构中最基本的形式。在单级中断系统中，所有的中断源都属于同一级，所有中断源触发排成一行。其优先次序是离CPU近的优先权高。当响应某一中断请求时，执行该中断源的中断服务程序。在此过程中，不允许其他中断源再打断中断服务子程序。即使优先权比它高的中断源也不能再打断。只有该中断服务程序执行完毕之后，才能响应其他中断。  
多级中断系统是指计算机系统中有相当多的中断源，根据各中断条件的轻重缓急程度不同而分成若干级别，每一中断级分配给一个优先权。一般说来，优先级高的中断级可以打断优先权低的中断服务程序，以程序嵌套方式进行工作。根据系统的配置不同，多级中断可分为一维多级中断和二维多级中断。  
本项目中王工设计的系统属于单级中断系统，设备A、设备B、设备C的中断优先级按照从高到低的次序排列为设备C设备B&gt;设备A。  
  
【问题2】  
(1) CPU关中断  
(2) 保存中断现场  
(3) 执行中断处理程序  
(4) 恢复现场  
(5) 开中断  
  
如果系统设计时不允许中断嵌套，当系统产生中断后，CPU响应中断的流程如下：  
a) CPU检查响应中断的条件是否满足；  
b) 如果CPU响应中断，则CPU先关中断；  
c) 保存中断现场，为了使中断处理程序不影响主程序的运行，要把发生中断时的任务上下文现场保存起来，当中断处理完成返回主程序时，CPU能够恢复主程序在中断前的状态，保证主程序的正确运行。  
a) 分析中断原因，根据中断向量得到中断处理程序入口地址；  
b) 执行中断处理程序；  
c) 退出中断，恢复现场；  
d) 开中断，CPU继续执行。  
如果系统设计时允许中断嵌套，那么CPU响应中断的流程比上述流程复杂一些。  
  
【问题3】  
(1) TA=3TDC+TS+Ta+TR  
(2) TB=2TDC+TS+Tb+TR  
(3) TC=TDC+TS+Tc+TR  
(4) f=1/T  
  
当设备A、设备B、设备C同时发出中断请求时，处理器按照优先级依次处理每个设备的中断请求。中断查询链中每个设备的延迟时间为TDC,设备A经过3个延迟，设备B经过2个延迟，设备C经过1个延迟，加上保存现场和恢复现场的时间，以及每个设备的中断服务程序时间，所以三个设备的中断处理时间分别为：  
TA=3TDC+TS+Ta+TR  
TB=2TDC+TS+Tb+TR  
TC=TDC+TS+Tc+TR  
如果处理三个设备所需要的总时间为T,那么本系统所设计的中断极限频率f=l/T。  
  
【问题4】  
(1) 用户进程或应用程序  
(2) 设备无关的系统软件或设备管理程序  
(3) 设备驱动程序  
(4) 中断处理程序  
  
嵌入式系统中多用I/O设备管理软件来管理外设。为了实现对硬件的抽象，提供统一的API接口，I/O设备管理软件一般分层设计。  
硬件之上为中断处理程序，负责处理与设备相关的各种异步事件，如发送完成、接收完成、总线错误等；上面一层为设备相关的驱动程序，负责设置硬件设备的寄存器，包括初始化、启动、关闭硬件设备，以及进行状态检査等工作；再上一层为设备无关的系统软件，即设备管理程序，实现对设备进行命名、保护、阻塞、缓存、分配等功能；最上面一层是应用程序，进行10调用。  


## 第5题 ##

【问题1】  
Sum=6  
  
可变参数函数的应用在嵌入式C程序设计中应用非常广泛。在X86平台下，参数在堆栈中的存放是按照由底向上进行存储的。因此，在该程序中，sum函数的第一个参数表示的是在该参数后面还包含有几个参数。在程序体中，使用第一个参数进行参数访问控制，参数的获取方式按照数组方法进行获取。因此，C代码1执行后，Sum的值为6。  
  
【问题2】  
1) static的作用：是将变量修饰成静态变量，静态变量的存储地址在整个程序的运行执行期间均保留，不会被别的变量占据。  
2) const的作用：是用于冻结一个变量，使其值在程序中不能被进一步改变。  
3) 不安全，有缺陷。  
4) 应对形参的有效性进行检查，应判形参dest、src指针是否为空，形参n是否大于0,还应保证dest所指向的内存空间不越界。  
  
在程序设计中，static变量和const变量的应用非常广泛。static变量表示将变量修饰为静态变量，其含义是指其对应的存储空间在整个程序的运行过程中都保持不变，不会像堆栈那样被重复使用。static即可以用来修饰局部变量，也可以修饰全局变量。  
一旦变量定义为是const，则其对应的值不能再被修改。在程序运行中，此变量的值就一直维持在其初始化时候的值。  
王工编写的这段程序不安全，存在严重的安全漏洞，具体的缺陷包括：  
(1) 对于指针参数的有效性没有进行任何判断，如果指针为NULL，这样访问存在严重的安全问题。  
(2) 参数n的有效性也没有进行判断，如果参数II对应的空间超过src所包含的空间，则函数得到的结果和期待的结果会有所偏差。同样，如果n对应的空间超过dest所包含的地址空间，则会造成程序的混乱，会将内存冲掉，可能导致灾难性后果。  
  
【问题3】  
(1) ptrl=ptrl-&gt;next  
(2) ptr2=ptr2-&gt;next  
(3) ptr2  
(4) temp2-&gt;next=tempi  
(5) temp3  
  
在单向链表中，对某元素的后继元素的访问只能通过结点中的next指针项来获取。按照题目要求，首先创建两个指针ptrl,ptr2,并且都指向链表头，然后ptrl向前走index步，这样ptrl和ptr2之间就间隔index个结点，然后ptrl和ptr2同时向前步进，当ptrl到达最后一个结点时，ptr2就是倒数第index个结点了。因此，对于第index个结点的查找，只需要移动ptrl和ptr2，最后ptr2返回的为倒数第index个结点。  

