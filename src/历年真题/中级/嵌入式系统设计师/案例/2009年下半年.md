---  
title: 2009年下半年  
# icon: gears  
order: 1000  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

试题一  
阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
个人数字助理（Personal Digita lAssistant，PDA)是典型的嵌入式系统，具有计算、电话、网络和个人信息管理等多项功能。某单位欲开发一款PDA产品，选择S3C2410作为CPU，存储器采用SRAM、DRAM和NANDFlash三种内置存储器，显示器采用LCD，下图为PDA的硬件示意图。软件采用嵌入式Linux操作系统。  
![3ff0014fa9144719acd11497ae6db2a6.jpg][]  
  
【问题1】  
不同类型的存储器，其特性也不同，请完成下表中的空白处内容，在“易失性”栏中填写“是”或“否”，在“相对读写速度”栏中填写“快”、“中”或“慢”。  
![9892a53bd7b34290b8f1293227e104f9.jpg][]  
  
【问题2】  
该PDA产品的软件如下所示:  
(1) 记事本  
(2) 电源管理  
(3) TCP/IP协议栈  
(4) 文件系统  
(5) LCD驱动程序   
(6) 游戏软件  
(7) GUI软件  
(8) GPS导航定位软件  
(9) 处理触摸屏的软件  
(10)Word文字处理软件  
下图是PDA软件的层次关系示意图，共分为4类软件。  
![364ca2872ade4d34943d72906030da9a.jpg][]  
请说明上述10个软件所属的软件类别（将软件的编号填入答题纸相应的位置)。(注意：每个选项只能属于一类软件，有重复者按选错对待）  
  
【问题3】  
该PDA产品的操作系统采用嵌入式Linux,网络协议采用TCP/IP,下图是未完成的面向连接的socket通信流程图，请从下列子程序（参数和返回值略）中选择恰当者填入下图所示流程图的相应编号处。  
![50607da6b24449ff88ed61d31231ae41.jpg][]  
(1)AcceptO (2) Bind() (3) Connect()  
(4)ListenQ (5) Read() (6) WriteQ  


## 第2题 ##

试题二  
阅读下列说明，回答问题1至问题2，将解答填入答题纸的对应栏内。  
【说明】  
某计算机系统采用内存和接口统一编址方式。内存可寻址空间为1MB,内存地址用A0~A19传送，读写信号分别为/MEMR和/MEMW;接口可寻址空间为64KB，接口地址用A0~A15传送，读写信号分别为/IOR和/IOW。  
在该计算机系统上设计的LED接口电路如下图所示，分配的接口地址为0000H。图中的74374为锁存器，其真值表见下表。  
![69a955bcf1b241c59cbe6850061b3e13.jpg][]  
![86a70ee6defd4caf9201316e3f6ec7d0.jpg][]  
Z表示高阻。  
  
【问题1】  
上图所示的LED接口电路中有设计错误，请找出其中至少4处错误（从编号为①~⑧的备选答案中选择)。  
①74374的![63f85d2d102e4a59b72ac96f4fdc8494.jpg][]接5V  
②A16~A19没参加接口地址译码  
③LED的限流电阻R的阻值太小  
④译码器为或非门  
⑤LED阴极接电源  
⑥/MEMW没参加接口地址译码  
⑦/IOW没参加接口地址译码  
⑧LED的限流电阻R的阻值太大  
  
【问题2】  
请针对问题1找出的LED接口电路设计中的错误，简要分析其故障原因。  


## 第3题 ##

试题三  
阅读下列说明，回答问题1至问题2，将解答填入答题纸的对应栏内。  
【说明】  
甲公司是一个专业的软件测评中心，承担了某机载软件测试任务。王工是该测试任务的负责人。用户指出，被测件是控制飞机飞行的关键软件，其安全性要求很高，必须按有关规定开展测评工作。  
  
【问题1】  
王工与被测方讨论被测件的测试计划时，在测试环境方面产生了分歧。王工认为：由于当前被测件的实验平台要用于系统联试，没有时间提供给测评工作，测评工作可在仿真环境下进行，没有必要非得在目标机环境下测试；，而被测方认为：软件测评工作仅仅用仿真环境是不够的，不能真实反映软\#特性，可根据需要安排在实验平台上进行。请对双方的意见进行分析，回答①~④问题：  
王工和被测方的意见①。  
①A.都对 B.王工正确而被测方不完全正确 C.都不完全正确 D.被测方正确而王工不完全正确  
你对有关测试环境的建议如下（请将建议填入答题纸的对应栏内）：  
![4fe0efe167364eb79715a593eda586f6.jpg][]  
  
【问题2】  
仔细阅读以下有关修正的条件判定覆盖（MC/DC)和条件判定覆盖（C/DC)的叙述，回答①~④问题，并将其填入答题纸的对应栏内。  
由于被测件是关键级软件，按有关规定，被测件的测试必须达到MC/DC。MC/DC要求测试集满足①条件:C/DC要求测试集满足条件。下图所示的例子中给出了两个判定条件的例子，则满足MC/DC要求的测试集是｛③｝,满C/DC要求的测试集是｛④｝  
![cb7779546ba545289d25046016bd17b4.jpg][]  


## 第4题 ##

试题四  
阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
80X86计算机中的寻址方式包括程序寻址和数据寻址两类。数据寻址方式是指获取指令所需的操作数或操作数地址的方式；程序寻址方式是指程序中出现转移和调用时的程序定位方式。  
部分数据寻址方式见下表，其中，为每种数据寻址方式分配一个编号。  
![b09c51518b7940bb834e23c104adfc25.jpg][]  
  
【问题1】  
按照“数据寻址方式及编号”表所列出的数据寻址方式，说明下表中各汇编指令指定的操作数或操作数地址属于哪类数据寻址方式，将答案填写在答题纸的对应栏中（直接填写编号即可)。  
![a18ed73eddb34ee98b83e989827b22f2.jpg][]  
  
【问题2】  
按照上表给出的程序寻址方式，说明下表中各汇编指令中指定的地址属于哪类程序寻址方式，将答案填写在答题纸的对应栏中（直接填写编号即可）。  
![5a4fd8a51a154943a89c6246fd5ab9b0.jpg][]  
  
【问题3】  
以下汇编程序用于求寄存器AX中符号数的绝对值。请将下面汇编程序的空（1）~（4）补充完整，并将解答填入答题纸的对应栏中。  
![590c10288e23499a84021ebe5e03c5ae.jpg][]  


## 第5题 ##

试题五  
阅读下列说明，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
在多道程序系统中，进程是并发执行的。这些进程间存在着不同的相互制约关系，主要表现为同步和互斥两个方面。信号量机制是解决进程间同步与互斥的有效方法。下面是信号量应用实例。  
下图所示代码是在μC/OS-II操作系统上运行的一个应用的主函数。该函数创建了任务Taskl和Task2,其中Taskl实现从键盘读入一个字符的功能，Task2将该字符输出到屏幕，它们使用信号量和一个公共变量buffer来传递该字符。  
主函数、Taskl和Task2中所调用的函数原型说明如下：  
a. 创建一个信号量：OS\_EVENT\*OSSemCreate(INT16Uvalue);  
b. 创建一个任务：INT8UOSTaskCreate(void(\*task)(void\*pd),void\*pdata,OS\_STK\*ptos,INT8Uprio);  
c. 开始执行多任务：voidOSStart(void);  
d. 从键盘读入一个字符：charscancO;  
e. 输出一个字符至屏幕：voidprintc(charch);  
f. 发出一个信号量：INT8UOSSemPost(OS\_EVENT\*pevent);  
g. 等待一个信号量：voidOSSemPend(OS\_EVENT\*pevent,INT16Utimeout,INT8U\*err)  
![41520e53f6b642d5b579fc21228a910e.jpg][]  
  
【问题1】  
请简述什么是临界资源？什么是临界区？访问临界资源应遵循哪些原则？  
  
【问题2】  
设S为信号量，P、V操作的形式化定义如下图（a）和（b）所示，请完成该形式化定义，将应填入（n）处的内容写在答题纸的对应栏中。  
![41a441a7dda846af84325833237f0423.jpg][]  
  
【问题3】  
请根据本题要求完善任务Taskl和任务Task2的程序代码，填补图中的空缺，将答案填写在答题纸的对应栏中。  
![5478c629bd3645f9af8e6ce765b0072b.jpg][]  
  


## 答案及解析 ##

  



[3ff0014fa9144719acd11497ae6db2a6.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/3ff0014fa9144719acd11497ae6db2a6.jpg
[9892a53bd7b34290b8f1293227e104f9.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/9892a53bd7b34290b8f1293227e104f9.jpg
[364ca2872ade4d34943d72906030da9a.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/364ca2872ade4d34943d72906030da9a.jpg
[50607da6b24449ff88ed61d31231ae41.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/50607da6b24449ff88ed61d31231ae41.jpg
[69a955bcf1b241c59cbe6850061b3e13.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/69a955bcf1b241c59cbe6850061b3e13.jpg
[86a70ee6defd4caf9201316e3f6ec7d0.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/86a70ee6defd4caf9201316e3f6ec7d0.jpg
[63f85d2d102e4a59b72ac96f4fdc8494.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/63f85d2d102e4a59b72ac96f4fdc8494.jpg
[4fe0efe167364eb79715a593eda586f6.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第3题/4fe0efe167364eb79715a593eda586f6.jpg
[cb7779546ba545289d25046016bd17b4.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第3题/cb7779546ba545289d25046016bd17b4.jpg
[b09c51518b7940bb834e23c104adfc25.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/b09c51518b7940bb834e23c104adfc25.jpg
[a18ed73eddb34ee98b83e989827b22f2.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/a18ed73eddb34ee98b83e989827b22f2.jpg
[5a4fd8a51a154943a89c6246fd5ab9b0.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/5a4fd8a51a154943a89c6246fd5ab9b0.jpg
[590c10288e23499a84021ebe5e03c5ae.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/590c10288e23499a84021ebe5e03c5ae.jpg
[41520e53f6b642d5b579fc21228a910e.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/41520e53f6b642d5b579fc21228a910e.jpg
[41a441a7dda846af84325833237f0423.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/41a441a7dda846af84325833237f0423.jpg
[5478c629bd3645f9af8e6ce765b0072b.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/5478c629bd3645f9af8e6ce765b0072b.jpg
## 第1题 ##

【问题1】  
![1b97899b072c4baf97ee785bc31c994b.jpg][]  
  
存储器是构成嵌入式系统硬件的重要组成部分，易失性和读写速度是存储器重要的性能指标。嵌入式系统中使用的存储器主要包括随机存储器、只读存储器和’混合型存储器等。它们还可再进行细分，如SRAM、DRAM、掩模ROM、PROM、EPROM、EEPROM、Flash和NVRAM等。  
从易失性上讲，SRAM和DRAM是易失的；从相对读写速度上讲，静态RAM即SRAM最快，下来是DRAM，NANDFlash最慢。  
  
【问题2】  
属于应用软件的是：（1）、（6）、（8）、(10)；  
属于系统软件的是：（2）、（4）、(7)；  
属于网络部分软件的是：（3）；  
属于驱动软件的是：（5）、（9）。  
  
PDA的软件按其软件结构图所示依次划分为应用层的应用软件、操作系统层的系统软件和网络部分软件、硬件隔离层的驱动软件。  
记事本、游戏软件、GPS导航定位软件和Word文字处理软件在应用层，应属于应用软件；电源管理、文件系统和GUI软件属于操作系统层的系统软件；TCP/IP协议栈属于网络部分软件；LCD驱动程序、处理触摸屏的软属于硬件隔离层的驱动软件。  
  
【问题3】  
① (2)  
② (4)  
③ (1)  
④ (5)  
⑤ (6)  
⑥ (3)  
⑦ (6)  
  
  
Socket(套接字）是进程间的通信机制，既适用于同一台计算机上的进程间通信，也使用于网络环境的进程间通信。网络通信有两种主要模式，一种为面向连接的通信，另一种为无连接通信。  
在面向连接的socket通信模式中，通信双方要先通过一定的步骤在互相之间建立起一种虚拟的连接，或者说虚拟的线路，然后再通过虚拟的连接线路进行通信。在通信的过程中，所有报文传递都保持着原来的次序，报文在网络中传输是可靠的。  
面向连接的socket通信流程图是一个客户端/服务器模型，服务器端程序的功能是监听其端口，如果发现有客户端的请求到来，就产生一个子进程与客户端进行通信。服务器端首先调用SocketO创建一个socket，然后调用Bind()与本地地址/端口号绑定，成功之后就通过调用在相应的socket上监听。当AcceptO捕捉到一个连接服务请求时，就生成新的socket，并通过这个新的socket与客户端通信，然后关闭该socket。  
客户端程序首先创建一个socket,通过调用Connect函数与服务器建立连接，连接成功后与服务器通信，接收服务器发过来的数据，最后关闭socket，结束程序。  


## 第2题 ##

【问题1】  
①74374的![6dd39a61cb7d41c3ac8aaea7c4cd54e8.jpg][]接5V  
④译码器为或非门  
⑤LED阴极接电源  
⑦/IOW没参加接口地址译码  
⑧.LED的限流电阻R的阻值太大  
  
①图中设计“74374的![6dd39a61cb7d41c3ac8aaea7c4cd54e8.jpg][]接5V”的做法是错误的。因为74374是具有三态输出的D触发器，其三态输出的允许信号51应该接地，如果51接5V，使得74374输出高阻。  
②图中“A16~A19没参加接口地址译码”的描述是正确的。因为根据题意，要求的是接口寻址，接口地址用AO~A15传送，故A16~A19不参加接口地址译码。  
③从图中可以看出，LED的限流电阻R的阻值太大，应该减小。  
④图中设计的译码器采用的是或非门，这种设计是不正确的。因为根据题意分配的接口地址为OOOOH，所以译码器采用或门才能符合设计要求。  
⑤图中设计“LED阴极接电源”的做法是错误的。LED阴极应接地，并将电阻减小；或者将LED阴极接到QO端，并将电阻减小。  
⑥/MEMR和/MEMW是内存读写信号，读写接口时不需要用到。  
⑦图中设计的“/IOW”没参加接口地址译码的做法是错误的。  
⑧图中设计的“LED的限流电阻R的阻值太大”的做法是错误的。  
  
【问题2】  
1.74374的 ![6dd39a61cb7d41c3ac8aaea7c4cd54e8.jpg][]接5V，使得74374输出高阻，应该接地；、  
2. 译码器中或非门设计错误，使得74374的锁存时序错误，应为或门；  
3. LED阴极接电源，接反了，不会发光，应该是阳极接电源；  
4. /IOW没参加接口地址译码，使得接口地址和内存地址冲突；  
5. LED的限流电阻R的阻值太大，LED不会发光，R的阻值应约为330Q~1KD。  
  
根据问题1的分析结果可知，设计中74374的/OE端应接地，并且应采用或非门做译码器，译码输入应是A0~A15加/IOW信号。对于“LED阴极接电源”的设计错误可以采用两种办法纠正：将LED阴极接地，电阻减小；或者将LED阴极接到Q0端，并将电阻减小。  


## 第3题 ##

【问题1】  
①C  
②要在目标机环境下进行软件测试  
③采用在目标机环境下和在仿真环境下相结合的方法  
④妥善安排目标机环境的使用，使甲方的开发与乙方的测试两不误  
  
在软件测试，尤其是嵌入式软件测试中，用仿真环境虽然可以完成部分测试工作，如单元测试，但是这些测试工作只能认为是编写测试用例的工作，为了确保软件与硬件的配套性，必须将测试用例在实际目标机上运行，因此，A、B、D三种说法都不正确，C是正确的选项。由于嵌入式系统的特殊性，本题主要考查考生对嵌入式软件测试工作的要求理解程度。  
在了解嵌入式系统特性的基础上，应能给出以下建议：  
第一条“要在目标机环境下进行软件测试”，这是嵌入式系统必须遵循原则；  
第二条“采用在目标机环境下和在仿真环境下相结合的方法”，这是一种并行工作的有效方式；  
第三条“妥善安排目标机环境的使用，使甲方的开发与乙方的测试两不误”，类似于第二条，只是提醒项目开发方在必要的时刻应安排目标机环境给测试方使用。  
  
【问题2】  
①首先应满足C/DC的测试条件；判定中每个条件的取值都必须独立地影响判定的结果，即在其他条件取值不变的前提下，仅改变这个条件的值，而使判定结果改变。  
②判定中每个条件的真值与假值都至少取一次;：同时判定的真值与假值也要求至少取一次。  
③FF，TF,FT  
④TT，FF  
  
根据宇航系统的软件安全性考虑要求，宇航系统将根据设备对飞行器安全性影响危害程度将软件分为5级（A~E)，其中A级软件是关键软件，在软件测试中必须达到100%修正的条件判定覆盖（MC/DC)和条件判定覆盖（C/DC)。这里主要考查考生是否理解这两种测试要求的具体含义。  
MC/DC要求测试集条件是：首先应满足C/DC的测试条件；判定中每个条件的取值都必须独立地影响判定的结果，即在其他条件取值不变的前提下，仅改变这个条件的值，而使判定结果改变。因此，对所列的A、B两个条件变量，\{FF，TF,FT\}集合就满足了MC/DC要求。  
C/DC要求测试集条件是：判定中每个条件的真值与假值都至少取一次；同时判定的真值与假值也要求至少取一次。因此，对所列的A、B两个条件变量，\{TT，FF\}集合就满足了C/DC要求。  


## 第4题 ##

【问题1】  
![a21a3511ed944864b8e81be57543c971.jpg][]  
![6176334fd0274fe982cf8e05a85b5e0a.jpg][]  
  
数据寻址方式有以下几种：  
(1) 直接寻址。这种寻址方式的位移量就是操作数的有效地址，位移量直接包含在指令中，它与操作数一起存放在代码段区域。例如INCWORDPTR\[500\],该指令的有效地址为500,它的线性地址=数据段基地址+500。  
(2) 寄存器间接寻址。这种寻址方式是由寄存器给出有效地址的指针，即有效地址是基址或变址寄存器中的内容。例如MOV\[ECX\]，EDX，操作数的逻辑地址=数据段基地址+ECX中的内容。  
(3) 基址寻址。基址寄存器的内容，加上指令格式中的位移量而形成操作数的有效地址。例如MOVECX,\[EAX+24\],\_作数的逻辑地址=数据段基地址+由EAX中内容加位移量24组成操作数的有效地址。  
(4) 变址寻址。与基址寻址方式相似，其有效地址的形成是变址寄存器的内容加上指令格式中的位移量。例如ADDEAX，TABLE\[ESI\]，操作数的逻辑地址=数据段基地址+ESI中的内容加TABLE变量的地址组成操作数的有效地址。  
(5) 带比例因子的变址寻址。是变址寻址方式的另一种寻址方式，指操作数的有效地址等于变址寄存器内容乘以比例因子再加上指令格式中的位移量。例如IMULEBX，TABLE\[ESI\*4\],7,操作数的逻辑地址=数据段基地址+ESI中的内容乘以4再加上TABLE变量的地址形成的有效地址。  
(6)基址变址寻址。操作数的有效地址等于基址寄存器的内容加变址寄存器的内容^例如MOVEAX,\[ESI\]\[EBX\],操作数的逻辑地址=数据段基地址+EBX中的内容加ESI中的内容形成的操作数有效地址。  
  
【问题2】  
![38d8649155c44bb08b8ba73a5e96ad32.jpg][]  
  
程序寻址方式有以下几种：  
(1) 段内直接寻址。是指把指令本身提供的位移量加到指令指针寄存器中去形成目标有效地址的寻址方式。例如JMP 1000H,调用地址在指令中给出。  
(2) 段内间接寻址。程序转移的地址存放在寄存器或存储单元中，由于此寻址方式仅修改IP的内容，因此这种寻址方式只能在段内进行程序转移。例如JMPBX,转移地址由BX给出；又如JMP WORD PTR\[BP+TABLE\],转移地址由BP+TABLE所指的存储单元给出。  
(3) 段间直接寻址。这种寻址方式是在指令中直接给出16位的段基值和16位的偏移地址来更新当前CS和IP的内容。例如CALL 2500H: 3600H,调用的段地址和偏移地址都在指令中给出。  
(4) 段间间接寻址。这种寻址方式是由指令中给出的存储器数据寻址方式，包括存放转移地址偏移量和段地址。其低位字地址单元存放的是偏移地址，高位字地址单元中存放的是转移段基值。这样既更新了IP的内容，又更新了CS的内容。例如CALLD WORD PTR\[DI\],调用地址在DI、DI+1、DI+2、DI+3所指的内容单元中，前两个字节为偏移量，后两个字节为段地址。  
  
【问题3】  
(1) 0  
(2) YESNEG  
(3) SfONEG  
(4) AX  
(5) 0  
(6) NONEG  
(7) AX  
(8) AX  
  
本题中的汇编程序用于求寄存器AX中符号数的绝对值，算法一的分支条件是AX&lt;0,当条件满足时，即AX为负数，需要求补；.当条件不满足时，即AX为正数，不需要求补，转向保存结果。  
算法二的分支条件是AX&gt;=0,只需要判断条件不满足时，即AX为负数，进行求补运行，然后保存结构  


## 第5题 ##

【问题1】  
临界资源：一次只能给一个进程访问的资源。临界区：进程中访问临界资源的那段代码。访问临界资源时应遵循如下原则：  
(1) 空闲让进（或有空即进)》  
(2) 忙则等待（或无空则等)。  
(3) 有限等待。  
(4) 让权等待。  
  
  
在多道程序系统中，进程是并发执行的，这些进程之间存在着不同的相互制约关系。进程之间的这种制约关系来源于并发进程的合作以及对资源的共享。  
进程在运行过程中，一般会与其他进程共享资源，而有些资源的使用具有排他性。系统中的多个进程可以共享系统的各种资源，然而其中许多资源一次只能为一个进程所使用，通常把一次仅允许一个进程使用的资源称为临界资源。许多物理设备都属于临界资源，如打印机、绘图机等。除物理设备外，还有许多变量、数据等都可由若干进程所共享，它们也属于临界资源。  
进程中访问临界资源的那段代码称为临界区，也称为临界段。  
访问临界资源应遵循如下原则：  
(1) 空闲让进（或有空即进)。当没有进程处于临界区时，可以允许一个请求进出临界区的进程立即进入自己的临界区；  
(2) 忙则等待（或无空则等）。当已有进程进入其临界区时，其他试图进入临界区的进程必须等待；  
(3) 有限等待。对要求访问临界资源的进程，应保证能在有限时间内进入自己的临界区；  
(4) 让权等待。当进程不能进入自己的临界区时，应释放处理机。  
  
【问题2】  
(1) S-  
(2) S&lt;0  
(3) S++  
(4) S&lt;=0  
  
信号量是荷兰著名的计算机科学家Dijkstra于1965年提出的一个同步机制，其基本思想是在多个相互合作的进程之间使用简单的信号来同步。  
在操作系统中，信号量是表示资源的实体，除信号量的初值外，信号量的值仅能由P操作（又称Wait操作）和V操作（又称Signal操作）改变。  
设S为一个信号量，P(S)执行时主要完成的功能为：先执行S=S-1，若S&gt;0，则进程继续运行；若S&lt;0,则阻塞该进程，并将它插入该信号量的等待队列中。  
V(S)执行时主要完成的功能为：先执行S=S+1，若S&gt;0,则进程继续执行；若s^o,则从该信号量等待队列中移出第一个进程，使其变为就绪状态并插入就绪队列，然后再返回原进程继续执行。  
P、V操作的形式化描述如下：  
![a0bb7282d29044c188b0dd67b21d2daa.jpg][]  
![3b31affbdd654e49ad243cc4f0e7d266.jpg][]  
  
【问题3】  
(1) OSSemPend(emptySem,0,&err)  
(2) Buffer=readc  
(3) ret=OSSemPost(fullSem)  
(4) OSSemPend(fullSem,0,&err)  
(5) ret=OSSemPost(emptySem)  
(6) Printc(writec)  
  
  
  
本问题是信号量应用实例。  
μC/OS-II操作系统提供了操作信号量的若干系统调用，任务Taskl为了实现从键盘读入一个字符并写到buffer的功能，就必须在读完字符后调用OSSemPendO和OSSemPostO对写buffer缓冲的动作加锁和解锁。  
Task2为了完成将该字符输出到屏幕，也必须在读buffer缓冲的动作时加锁和解锁。这样就避免任务Taskl和Task2同时操作buffer缓冲的资源冲突。  
因此，任务Taskl的代码如下：  
![09d9a50a805441c0884ec2ffa900b5f2.jpg][]  



[1b97899b072c4baf97ee785bc31c994b.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/1b97899b072c4baf97ee785bc31c994b.jpg
[6dd39a61cb7d41c3ac8aaea7c4cd54e8.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/6dd39a61cb7d41c3ac8aaea7c4cd54e8.jpg
[a21a3511ed944864b8e81be57543c971.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/a21a3511ed944864b8e81be57543c971.jpg
[6176334fd0274fe982cf8e05a85b5e0a.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/6176334fd0274fe982cf8e05a85b5e0a.jpg
[38d8649155c44bb08b8ba73a5e96ad32.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/38d8649155c44bb08b8ba73a5e96ad32.jpg
[a0bb7282d29044c188b0dd67b21d2daa.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/a0bb7282d29044c188b0dd67b21d2daa.jpg
[3b31affbdd654e49ad243cc4f0e7d266.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/3b31affbdd654e49ad243cc4f0e7d266.jpg
[09d9a50a805441c0884ec2ffa900b5f2.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/09d9a50a805441c0884ec2ffa900b5f2.jpg
