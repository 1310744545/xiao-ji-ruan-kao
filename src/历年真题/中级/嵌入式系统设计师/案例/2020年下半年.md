---  
title: 2020年下半年  
# icon: gears  
order: 989  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

试题一（15分）  
阅读下列说明和图，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
2019年12月以来，新型冠状病毒首先在国内蔓延，现在又肆虐全球，我国政府全力以赴，抗击疫情，全国人民积极响应，短短几个月来，疫情得到很好的控制。在抗疫战斗中， 相关医疗设备起到了至关重要的作用。某公司生产的红外热成像系统（测温仪）已被广泛使用，可以检测发热症状，排查受感人群。  
该红外热成像系统如图1-1所示，主要由红外光学系统、红外探测器、驱动采集电路、图像处理电路、显示与存储电路组成。  
![da923008e7c64242afd35c1a58c5a206.jpg][]  
在该系统中，光学系统主要指专门红外镜头，与普通光学镜头不同，光学材料针对相应波段的红外光线，实现滤光和对焦。红外探测器是完成红外热辐射到电信号的转换。驱动采集电路完成图像信号的输出与采集。红外图像处理电路在系统中不仅要对红外图像进行非均校正、盲元补偿处理，还要对图像的温度漂移、图像增强以及温度测量信息进行处理。最后，红外图像需要设置不同的输出方式以匹配不同的显示器，或者采用文件系统将红外图像及信息进行存储。  
红外热成像系统具体的系统架构如图1-2所示，主处理器采用ARM，红外探测器采用非制长波红外探测器，系统电路包括偏置电压电路、温控电路、A/D转换电路、 基于FPGA的实时红外图像信号采集电路、基于ARM的系统控制电路以及LCD显示电路。实现了红外探测器的驱动、红外图像信号的采集和处理、红外图像的输出显示以及一些外设辅助功能。  
![d8436fffb55e4e329144ed374a473b7a.jpg][]  
  
【问题1】（4分）  
系统采用4片IS61LV51216 SRAM来做数据缓存，请问：  
(1)下列关于SRAM、DRAM和ROM 的论述中，哪些是正确的？  
A. SRAM的中文名称为“静态随机存储器”  
B.存放在SRAM中的信息不会因去掉供电电源而丢失  
C. SRAM的静态存储单元是在静态触发器的基础上附加门控管而构成的  
D. SRAM必须定时不断刷新，以保证所存储的信总不会丢失  
E. SRAM将每个位存储在一个双稳态存储器单元  
F. SRAM的功耗较大，集成度不能做得很高  
G. ROM所存数据稳定，断电后所存数据也不会改变  
H. SRAM需要刷新电路才保存它内部存储的数椐  
I. SRAM的优点是集成度较低，功耗较DRAM小  
J. DRAM每隔-段时间要刷新充电一次，否则内部的数据即会消失  
(2)SRAM的容M为512KX 16位，那么SRAM的地址线和数据线数目分别为多少?  
  
【问题2】（7分）  
在红外热像仪系统中，FPGA完成红外图像的采集与预处理，包括前端探测器驱动、数据采集与整形、数据预处理、SRAM控制器、ARM通信等，在整个数据采集过程中，FPGA将接收到的红外图像数据采用“乒乓”结构交持不断写入两块SRAM中，FPGA在进行数据写入时，ARM不能读取相应区的数据，FPGA每写完一帧数据，就通过寄存器通知ARM取数据，新的一帧数据写入另一块SRAM。这样就避免了红外探测器图像采集时钟与ARM的图像处理帧频时钟的不匹配问题。  
(1)下列关于FPGA的描述中，哪些是正确的?  
A. FPGA由逻辑单元、RAM、乘法器等硬件资源组成  
B. FPGA只能实现有限次的重新编程   
C. FPGA可通过使用原理图或者Venlog HDL来设计  
D. FPGA的所有功能均依靠硬件实现  
E. FPGA可以实现定点和浮点运算  
F. FPGA的工作频率由FPGA芯片及设计决定  
(2)完成图像乒乓操作流程图1-3中的空①-⑤。  
![cbbf81d216c84b1681d4f4850c56a1f7.jpg][]  
  
【问题3】（4分）  
假设该红外热像仪CPU的中断系统有4个中断源A、B、C、D,其硬件排队优先次序为A&gt;B&gt;C&gt;D,每个中断源对应一个屏蔽码，表1-1为中断服务程序与屏蔽码的关系，其中 “0”为允许，“1”为屏蔽，CPU状态时屏蔽码为0000。  
![0d2e4afbdd5c4b6f99fa6756c21684dc.jpg][]  
(1) 设A、B、C、D同时请求中断，试画出CPU执行程序的轨迹。  
(2) 请给出中断服务程序完成的顺序。  


## 第2题 ##

试题二（15分）  
阅读下列说明和图，回答问题1至问题4，将解答填入答题纸的对应栏内。  
【说明】  
电子体温计可以快速、准确地进行体温测量，第一时间排查发热病人。李工通过AD模块设计体温采集电路，如图2-1所示，AD采集芯片使用ADC0809，单片机采用AT89S52。  
![f39ae17ed0a446c7b90db2a816423412.jpg][]  
对应的电路连接描述如下：  
(1) ADC0809的DO-D7端口连接到AT89S52的P0口；  
(2) ADC0809的A、B、C为AD输入IN0~IN7选择端，A为最高位，C为最低位;  
(3) ADC0809的AD转换结束信号(EOC)连接到AT89S52的P3.2；  
(4) ADC0809的AD转换启动信号(ST)受AT89S52的P1.4管脚控制；  
(5) ADC0809的AD转换数据输出使能(OE)受AT89S52的P3.1管脚控制;  
(6) ADC0809的时钟通过AT89S52的ALE输出控制，经过2个D触发器来生成；  
(7) ADC0809的输入模拟电压范围是0-5V;  
(8) AT89S52的P3.0管脚用来控制LED。  
对于ADC0809而言，启动一次AD转换时，需要给ST—个短时的高电平。在AD转换过程中，EOC为低电平，当AD转换完毕后，EOC会变为高电平。在AD转换结束后，需要给OE一个短时高电平，在该期间内从DO-IT7读取AD转换后的数据。  
  
【问题1】（3分）  
AT89S52和ADC0809之间的连接线中，对ADC0809而言，下列信号中哪些为输入信号?  
A. ST  
B. EOC  
C. OE  
D. A  
E. B  
F. C  
  
【问题2】（2分）  
当外围的温度传感器模拟电压为1.2V时，ADC0809的输出值是多少？  
  
【问题3】（2分）  
若单片机AT89S52的ALE输出为2M的时钟频率，那么ADC0809的时钟是多少？  
  
【问题4】（8分）  
李工按照该电路的工作原理设计了如下程序，该程序以査询方式实现AD转换，读取AD转换后的数据。  
请根据逻辑，在下面A到0中选择正确答案，完成（1）-（8）填空。  
![d3ed7861418f4f7892e0664ede7cd16f.jpg][]  
A. LED=0 B. LED=1 C. OE =1 E.ST=O F.ST=1 G. P0=0xF8 H. P0=0xFC I.while (EOC==0) J. while (EOC===1) K.ADdata=P0 L. P0=ADdata M. if(ADdata&gt;128) N. if (ADdata &lt; 128) O. LED=1  


## 第3题 ##

试题三（15分）  
阅读下列说明和图，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
人体的红外辐射特性与它的表面温度有着十分密切的关系，门式测温仪通过对人体自身辐射红外能量的测量，便能准确地测定人体表面温度。由于门式测温仪最大的优点是非接触、快速测量，一般小于1秒钟，所以被广泛应用于机场、车站、码头、学校等人流量大的地方。该设备中软件主要完成A/D数据采集，并通过数学运算将红外数据转换为温度值，自动将额头表面温度结果换算为人体腋下温度，在显示终端显示。软件主要包括主程序模块、红外测温程序模块、温度转换模块、显示程序模块、报警程序模块、环境温度补偿模块等。  
程序的主要功能说明如下：  
(1)如果按下“高温报警设置”键，则通过“+”键每次增加0.1℃或通过“-”键每次减少0.1℃，设置最高温度报警值（默认值为40℃），按下“确认”键进行确认；  
(2)如果按下“低温报警设置”键，则通过“+”键每次增加0.1℃或通过“-”键每次减少0.1℃，设置最低温度报警值（默认值为35°C），按下“确认”键进行确认；  
(3)主程序模块判断是否在30厘米范围内存在红外能量，如果没有，继续执行（3）； 否则执行（4）；  
(4)读取红外测温程序模块送回的目标表面温度信息，并调用温度转换模块和环境温度补偿模块进行温度转换和补偿，并形成最终人体温度；  
(5)将读取的温度信息与设定的最大值与最小值比较，如果大于等于最大值或小于等于最小值，则执行（6）；否则句显示程序模块发送显示的温度值，并执行（7）；  
(6)调用报警处理程序，发出蜂鸣声提醒检测人员，并向显示程序模块发送报警信息；  
(7)显示程序模块显示高溫报警或低温报警或者温度信息。  
  
【问题1】（7分）  
为了测试软件功能，测试人员设汁了表3-1所示的测试用例，请填写该表中的空白（1）-（7）。  
![7c220db9c0e341848fe2307452257e81.jpg][]  
  
【问题2】（6分）  
软件的结构覆盖率是度量测试充分性和有效性的一种手段。在嵌入式软件白盒测试过程中,通常以语句覆盖率、分支覆盖率和MC/DC覆盖率作为度量指标。  
采用以下处理过程实现“判断温度是否在正常范围”的功能：  
![1741d07c83fb4123ae48c5da45a2e866.jpg][]  
![74b64b84f6d1476baaa2c4ee0fc38a56.jpg][]  
针对上述处理过程:  
(1)若要求达到100%的语句覆盖，则所需的最少用例数是多少？  
(2)若要求达到100%的分支覆盖，则所需的最少用例数是多少？  
(3)若要求达到100%的MC/DC覆盖，则所需的最少用例数是多少？  
  
【问题3】（2分）  
常见的黑盒测试的测试用例设计方法包括：①等价类划分；②边界值分析；③因果图； ④决策表等。测试人员在表3-1中针对本题设计测试用例时，使用了其中的哪种方法？  


## 第4题 ##

试题四（15分）  
阅读下列说明和图，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
某温度采集系统以处理器为核心，采用I2C总线连接嵌入式键盘和多个温度传感器，温度传感器负责采集温度，键盘可以输入宇符和数字信息，并通过RS232总线连接上位机。  
I2C (Inter Integrated Circuit)总线是一种2线式串行总线，用于连接控制器及其外围设备。I2C总线最主要的优点是其简单性和有效性。它支持多主控（multimastering)，其中任何能够进行发送和接收的设备都可以成为主总线。一个主控能够控制信号的传输和时钟频率。 但在任何时间点上只能有一个主控。I2C的这些特点使其在许多设计中备受青睐，本系统中采用I2C总线连接嵌入式键盘和多个温度传感器，如图4-1所示。  
![95ad87cc70144bbcb01011daebf87efe.jpg][]  
  
【问题1】（4分）  
I2C总线上传送的信号是广义的，既包括地址信号，又包括数据信号。在起始信号后必须传送一个从机的地址、数据的传送方向。每次数据传送总是由主机产生的终止信号结束。 但是，若主机希望继续占用总线进行新的数据传送，则可以不产生终止信号，马上再次发出起始信号对另一从机进行寻址。 I2C总线协议规定:寻址字节由从机地址(D7-D1位)、数据传送方向位(D0位:“0” 表示主机向从机写数据，“1”表示从从机读取数据）组成，如图4-2所示。主机发送地址时， 总线上的每个从机都将这7位地址码与自己的地址进行比较，如果相同，则认为自己正被主机机寻址，根据D0位将自己确定为发送器或接收器。  
![566173fa2db7403796821568dc791f4d.jpg][]  
该系统中用I2C总线连接了多个同样的温度传感器，用于实时采集温度值。该传感器的从机地址由固定位和可编程位组成，7位地址位前4位(即D7-D4)是固定位，后3位(即D3-D1)是可编程位。 该系统中最多可连接（1）个本型号的温度传感器。 该温度传感器从机地址中固定位是OxA，传感器1的可编程位是0、传感器2的可编程位是1……以此类推。当主机读取传感器4的数据时，总线命令序列中的寻址字节值是（2）。  
  
【问题2】（6分）  
本系统通过1路RS232总线将采集的温度值传给上位机进行处理。RS232采用异步通信方式传送ASCII码，数据位8位，奇校验1位，停止位1位。当RS232的波特率设置为4800时，字符传送的速率是（1）字符/秒，毎个数据位的时间长度是（2）毫秒，数据位的传送速率是（3）位/秒。  
  
【问题3】（5分）  
同时，本系统通过I2C总线连接了嵌入式键盘，用于人机交互。频繁按键会导致连续使用I2C总线读取数据，由于I2C总线操作是一个应答式的命令序列，所以防止2次读写之间的干扰(即在一次读写没有完成之前，另一次读写操作也占用I2C总线，两次的数据会造成紊乱）是一个重要的问题。  
(1)为防止多次频繁按键，导致总线访问错误，需要采取什么机制，保证每次只允许一个读写操作占用总线?  
(2)在执行读写操作命令序列时，如何使用该机制？  


## 第5题 ##

试题五（15分）  
下面是关于C语言的基本概念和编程方面的叙述，回答问题1至问题3，将答案填入答题纸的对应栏内。  
【说明】  
王工在红外热像仪系统设计中负责软件模块，其核心功能在于进行人脸检测，调取温度检测模块获取检测到人的体温，将检测到的人脸信息及体温通过网络发送给平台进行存储，软件采用C语言编写。  
  
【问题1】（3分）  
请说明在C语言中下列宏定义的含义。  
(1) \#defme f(a,b) a\#\#b  
(2) \_LINE\_  
(3) \_DATE\_  
  
【问题2】（3分）  
王工在利用网络发送所检测到的人脸及对应的体温信息时定义了对应的数据结构FaceTemp info,内容依次包括：检测到人脸框的左上角像素坐标（横向坐标Face\_X，纵向坐标Face\_Y），人脸框的像素大小（横向宽度Face\_W,纵向高度Face\_H）,以及人体温度信息Temp。假设人脸框坐标信息、人脸框的像素大小都用unsigned short来表示，人体温度信息用float来表示。请给出FaceTemp\_info数据结构的定义。  
  
【问题3】（9分）  
在红外热像仪的图像信息处理中，王工设计了如下人脸检测、温度检测及信息发送程序， 当检测到温度大于等于37.3°C时，需要报警提示。请补全程序中的（1）~（6）。  
【程序】  
![d85a8a1cb0ff41a8b433d7dbac0959a3.jpg][]  
![07bced33673b4c899ccf24ed24228974.jpg][]  
![d5e39c3389ce4de6a48e563d6629aa1b.jpg][]  



[da923008e7c64242afd35c1a58c5a206.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/da923008e7c64242afd35c1a58c5a206.jpg
[d8436fffb55e4e329144ed374a473b7a.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/d8436fffb55e4e329144ed374a473b7a.jpg
[cbbf81d216c84b1681d4f4850c56a1f7.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/cbbf81d216c84b1681d4f4850c56a1f7.jpg
[0d2e4afbdd5c4b6f99fa6756c21684dc.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/0d2e4afbdd5c4b6f99fa6756c21684dc.jpg
[f39ae17ed0a446c7b90db2a816423412.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/f39ae17ed0a446c7b90db2a816423412.jpg
[d3ed7861418f4f7892e0664ede7cd16f.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/d3ed7861418f4f7892e0664ede7cd16f.jpg
[7c220db9c0e341848fe2307452257e81.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第3题/7c220db9c0e341848fe2307452257e81.jpg
[1741d07c83fb4123ae48c5da45a2e866.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第3题/1741d07c83fb4123ae48c5da45a2e866.jpg
[74b64b84f6d1476baaa2c4ee0fc38a56.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第3题/74b64b84f6d1476baaa2c4ee0fc38a56.jpg
[95ad87cc70144bbcb01011daebf87efe.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/95ad87cc70144bbcb01011daebf87efe.jpg
[566173fa2db7403796821568dc791f4d.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/566173fa2db7403796821568dc791f4d.jpg
[d85a8a1cb0ff41a8b433d7dbac0959a3.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/d85a8a1cb0ff41a8b433d7dbac0959a3.jpg
[07bced33673b4c899ccf24ed24228974.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/07bced33673b4c899ccf24ed24228974.jpg
[d5e39c3389ce4de6a48e563d6629aa1b.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/d5e39c3389ce4de6a48e563d6629aa1b.jpg
