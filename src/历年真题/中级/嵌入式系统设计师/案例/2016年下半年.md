---  
title: 2016年下半年  
# icon: gears  
order: 993  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

试题一（15分）  
阅读下列说明和图，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
某综合化智能空气净化器设计以微处理器为核心，包含各种传感器和控制器，具有检测环境空气参数（包含温湿度、可燃气体、细颗粒物等），空气净化、加湿、除湿、加热和杀菌等功能，并能通过移动客户端对其进行远程控制。  
图1-1为该系统电气部分连接图，除微处理器外，还包括了片上32KJBFLASH，以及SRAM和EEPROM。  
![fb8b9f3a09f84106a2a6954776d6436a.jpg][]  
  
【问题1】（3分）  
该系统的SRAM的地址线宽度为11，数据线宽度为8，其容量为多少字节？  
  
【问题2】（3分）  
该系统分别设计了iOS和Android两种不同操作系统下的客户端程序，二者在开发上都使用MVC（模型（M）—视图（V）—控制器（C））设计模式。在典型的程序设计中，用户可以直接和视图进行交互，通过对事件的操作，可以触发视图的各种事件，再通过控制器，以达到更新模型或数据的目的。请完善图1-2所示的流程模型。  
![1bbfe04af9114c7b8a1653c59a800d5f.jpg][]  
  
【问题3】（9分）  
该系统采用数字式激光传感器检测PM2.5、PM10，并通过异步串行接口将数据上报给处理器，通信波特率为9600bps，上报周期为1.5秒，数据帧内容包括：报文头、指令号、数据（6字节）、校验和及报文尾，具体字段描述如表1-1所示。  
![07563e05513e42308d66a421629c7c03.jpg][]  
王工根据数据报文通信协议，使用C语言编写了对应的数据接收和校验程序，请根据注释要求补全程序。  
程序段如下：  
![5522bc02db42443ba4e05432c09c27ad.jpg][]  
![303f32fcec154d17b9399389b7d0dcf3.jpg][]  
![754255fa0fac4e64bcc64f5e12b14950.jpg][]  


## 第2题 ##

试题二（15分）  
阅读下列说明和图，回答问题1至问题4，将解答填入答题纸的对应栏内。  
【说明】  
王工在采用某16位嵌入式CPU进行A/D采集硬件电路设计时，利用8255控制器C口中的PC0输出控制信号，利用PC7读入AD574的状态信号，利用A口和B口读入AD574转换好的12位数据。图2-1为该A/D采集硬件系统设计的部分连接示意图。  
![35430c61a4b54cb8a1702e2431334018.jpg][]  
其中，AD574各个管脚功能定义如表2-1所述。  
![db60410a18914bddbb37f75d7731509e.jpg][]  
AD574的控制功能状态表如表2-2所示。  
![7f2725b679a745da876fc916fa95da72.jpg][]  
8255控制器各个管脚及地址控制描述如表2-3所示。  
![3a585efd172642d48a119aba2996a734.jpg][]  
  
【问题1】（2分）  
在该嵌入式系统设计中，AD574是工作在12位转换模式还是8位转换模式？  
  
【问题2】（2分）  
图2-1中245为双向缓冲器，在该硬件设计中配置8255控制字时，CPU需要向245进行数据输出（245的A口传输给B口）；在获取AD采集数据时CPU需要接收245所传输过来的数据（245的B口传输给A口）。根据硬件设计，描述DR分别为高、低电平时，245双向缓冲器在A、B口之间进行数据传输的方向。  
  
【问题3】（3分）  
在该A/D变换中，如果用1/2LSB（最低有效位）来表示量化误差，当该A/D控制器的量程范围为5V时，其量化误差是多大？  
  
【问题4】（8分）  
王工根据上述硬件设计，编写对应的数据采集程序，首先需要对8255进行初始化，然后进行数据采集，请根据注释要求补全如下X86汇编程序。  
![1d0ebba4d4c8445bb1ebcb52550ad2ad.jpg][]  
![99ef72c8d0bf4a32b554574495401342.jpg][]  


## 第3题 ##

试题三（15分）  
阅读下列说明和图，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
某嵌入式控制软件中，通过采集传感器数值来计算输出控制率，同时为提高数据采集的可靠性，对采集数值使用三余度采集方法进行三个通道的数据采集。  
1.三余度数据采集及处理要求：  
(1)如果某通道采集值在\[-3.0，3.0\]v正常范围内，且与任一相邻通道间差值不大于0.5v，则该通道数据满足要求；  
(2)如果某通道釆集值超过\[-3.0，3.0\]v正常范围，或者此通道采集值与其他两个通道的差值均大无0.5v，则该通道数据不满足要求；  
(3)如果三通道值均满足要求，则取三通道中差值较小的两通道数据乎均值；  
(4)如果三通道值均满足要求，且相邻两数值的差值相等，则取三个采集值的中间值；  
(5)如果仅有一个通道数据不满足釆集要求，取满足要求的两个通道数据平均值；  
(6)如果大于一个通道数据不满足采集要求，取安全值0v。  
2.对计算输出控制率的具体处理算法如下：  
(1)如果依据采集数据计算的控制率C1与目前实际控制率C0差值不大于0.01，则使用本周期计算控制率Cdft行输出控制，否则使用目前实际控制率C0输出控制，连续超过范围计数加1，不上报传感器故障；  
(2)如果连续3个周期计算的控制率C1与目前实际控制率C0差值大于0.01，则上报传感器三级故障，连续超过范围计数清零，使用目前实际控制率C0输出控制；如果已经连续3个周期控制率差值超过范围，并已上报三级故障，但第4个周期计算的控制率C1与目前实际控制率C0差值不大于0.01，则清除三级故障上报，并使用C1进行输出控制；  
(3)如果累计大于等于10个周期计算的控制率C1与目前实际控制率C0，差值大于0.01，则上报传感器二级故障，使用目前实际控制率C0输出控制；  
(4)如果累计大于等于100个周期计算的控制率C1目前实际控制率C0，差值大于0.01，则上报传感器一级故障，清除二级故障，并切断输出控制（输出安全值0）；  
(5)如果低级故障和高级故障同时发生，则按高级故障上报和处理。  
  
【问题1】（6分）  
为了测试采集算法，在不考虑测量误差的情况下，根据所设计测试用例的输入填写表3-1中的（1）~（6）空，预期输出结果精度为小数点后保留两位数字。  
![121bde49a79f4d0690091c443d86db9b.jpg][]  
  
【问题2】（3分）  
白盒测试方法和黑盒测试方法是目前嵌入式软件测试常用的方法。请简述白盒测试方法与黑盒测试方法的概念。同时依据本题说明，指明问题1中设计的测试用例使用了白盒测试方法还是黑盒测试方法。  
  
【问题3】（6分）  
为了测试控制率计算算法，在不考虑测量误差的情况下，请完善所设计的测试用例，填写表3-2中的空（1）~（6）。  
![c70701aa82f54b31b27571254986b2f3.jpg][]  


## 第4题 ##

试题四（15分）  
阅读下列说明和图，回答问题1至问题3，将解答填入答题纸的对应栏内。  
【说明】  
某公司承接了一个数据处理模块的项目，由沈工负责模块的方案设计，沈工的设计方案如图4-1所示。该数据处理模块以PowerPC处理器为核心，设计了存储器、以太网、温度传感器、调试接口等功能电路。  
处理器外接FLASH存储器用于存储上电初始化程序和应用程序。处理器通过I2C接口连接测温电路，监控模块的工作温度。以太网、串口、调试离散量等用于软件调试和状态显示。  
测温电路选用ADT7461AR芯片，用于测试模块温度。ADT7461AR是一个双通道数字温度计，工作电压3v至5v，具有低/超温报警功能，采用I2C接口实现主机对远程/本地温度数据的采集f采集数据存储在高/低两个数据寄存器中，每个寄存器为16位，高寄存器表示整数值，低寄存器表示小数值。  
![810358c6f01f4cd3aa531427c9e3d271.jpg][]  
存储模块采用某公司的FLASH存储芯片。支持编程、擦除、复位等操作命令。该FLASH芯片的常用命令序列如表4-1所示。表中的地址和数据皆为16进制数。  
![89e2db30015e42068eee9b21a2144aa3.jpg][]  
  
【问题1】（6分）  
ADT7461AR芯片支持两种测温模式，其中第0种模式为二进制模式，用0表示0度，测温范围为0℃~+127℃；第二种模式为偏移二进制模式，用64表示0度，测温范围为-55℃~+150℃，温度数据转换关系如表4-2所示。  
请在（1）~（4）处写出对应温度的二进制数。  
![4e1b5103ae964822a37a9522d175bf73.jpg][]  
  
【问题2】（6分）  
沈工用C语言实现对FLASH的操作，需按照表4-1中定义的命令序列顺序执行即可。仔细阅读下列代码，请在（1）~（4）处将对应的C语言代码补全。  
![d314536ad6514e8c9537206ed86f616d.jpg][]  
![0a73c0470e67461592cd33c095987668.jpg][]  
  
【问题3】（3分）  
该嵌入式系统对处理的性能要求较高，沈工在完成软件设计后，需要对每一个函数的执行性能进行测试，检测其是否满足系统设计的要求。沈工通过PowerPC处理器内部的高精度时钟寄存器（TimeBase）进行计时，该寄存器由高低两个32位的寄存器组成，根据总线频率自动递增，当低32位寄存器递增到0xFFFFFFFF时，向高32位寄存器进位。计数值可以换算成时间值，精确到微秒级。  
在功能函数functkm1()的执行体前后，进行时间统计，最后计算出该函数的执行时间值，请在（1）~（2）处将对应的C语言代码补全。  
![8fd64fd271e24333b828fd021e97ff3d.jpg][]  
![8099e58ad07c4e138e6d590db5b1961c.jpg][]  


## 第5题 ##

试题五（15分）  
阅读以下说明和C程序代码，回答问题1至问题3，将答案填入答题纸的对应栏内。  
【说明】  
【程序1】是关于条件编译的一段程序示例；  
【程序2】是一段switch语句应用示例。C语言要求switch之后圆括弧内的“表达式”类型必须是整型或字符型。该程序代码中a与x的对应关系如表5-1所示。  
![2f3f961a11d34803af5d9073a74cd83a.jpg][]  
【程序3】是冒泡排序算法的实现。假设有N个数据存放在数组aa中，用冒泡排序将这N个数从小到大排序。首先，在aa\[0\]到aa\[N..1\]的范围内，依次比较两个相邻元素的值，若aa\[j\]&gt;aa\[j+1\]，则交换aa\[j\]与aa\[j+1\]，j的值取0，1，2，…，N-2；经过这样一趟冒泡，就把这N个数中最大的数放到aa\[N-1\]中。接下来对aa\[0\]到aa\[N-2\]中的数再进行一趟冒泡，这样就将该范围内的最大值换到aa\[N-2\]中。依次进行下去，最多只要进行N-1趟冒泡，就可完成排序。如果在某趟冒泡过程中没有交换相邻的值，则说明排序已完成，可以提前结束处理。  
【C程序代码1】  
![14ad7ba31777437096a4e5f7877aca40.jpg][]  
【C程序代码2】  
![ea651de7b24d4287bae4dd94f66097f0.jpg][]  
![da989fe8061c48558dd7c4dba5b7ca3c.jpg][]  
【C程序代码3】  
![ba76e822a7d548c2a1de5cee164a945b.jpg][]  
![bdcc0406b7d94de2aa21a136e036ad8b.jpg][]  
  
【问题1】（9分）  
(1)什么是c语言的条件编译？  
(2)请解释\#ifndef的作用。  
(3)分析【C程序代码1】，写出该段执行后的输出结果。  
  
【问题2】（3分）  
完成【C程序代码2】中的（1）~（3）空，将答案写到相应的位置。  
  
【问题3】（3分）  
完成【C程序代码3】中的（4）~（6）空，将答案写到相应的位置。  



[fb8b9f3a09f84106a2a6954776d6436a.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/fb8b9f3a09f84106a2a6954776d6436a.jpg
[1bbfe04af9114c7b8a1653c59a800d5f.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/1bbfe04af9114c7b8a1653c59a800d5f.jpg
[07563e05513e42308d66a421629c7c03.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/07563e05513e42308d66a421629c7c03.jpg
[5522bc02db42443ba4e05432c09c27ad.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/5522bc02db42443ba4e05432c09c27ad.jpg
[303f32fcec154d17b9399389b7d0dcf3.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/303f32fcec154d17b9399389b7d0dcf3.jpg
[754255fa0fac4e64bcc64f5e12b14950.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/754255fa0fac4e64bcc64f5e12b14950.jpg
[35430c61a4b54cb8a1702e2431334018.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/35430c61a4b54cb8a1702e2431334018.jpg
[db60410a18914bddbb37f75d7731509e.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/db60410a18914bddbb37f75d7731509e.jpg
[7f2725b679a745da876fc916fa95da72.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/7f2725b679a745da876fc916fa95da72.jpg
[3a585efd172642d48a119aba2996a734.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/3a585efd172642d48a119aba2996a734.jpg
[1d0ebba4d4c8445bb1ebcb52550ad2ad.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/1d0ebba4d4c8445bb1ebcb52550ad2ad.jpg
[99ef72c8d0bf4a32b554574495401342.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/99ef72c8d0bf4a32b554574495401342.jpg
[121bde49a79f4d0690091c443d86db9b.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第3题/121bde49a79f4d0690091c443d86db9b.jpg
[c70701aa82f54b31b27571254986b2f3.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第3题/c70701aa82f54b31b27571254986b2f3.jpg
[810358c6f01f4cd3aa531427c9e3d271.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/810358c6f01f4cd3aa531427c9e3d271.jpg
[89e2db30015e42068eee9b21a2144aa3.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/89e2db30015e42068eee9b21a2144aa3.jpg
[4e1b5103ae964822a37a9522d175bf73.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/4e1b5103ae964822a37a9522d175bf73.jpg
[d314536ad6514e8c9537206ed86f616d.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/d314536ad6514e8c9537206ed86f616d.jpg
[0a73c0470e67461592cd33c095987668.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/0a73c0470e67461592cd33c095987668.jpg
[8fd64fd271e24333b828fd021e97ff3d.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/8fd64fd271e24333b828fd021e97ff3d.jpg
[8099e58ad07c4e138e6d590db5b1961c.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/8099e58ad07c4e138e6d590db5b1961c.jpg
[2f3f961a11d34803af5d9073a74cd83a.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/2f3f961a11d34803af5d9073a74cd83a.jpg
[14ad7ba31777437096a4e5f7877aca40.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/14ad7ba31777437096a4e5f7877aca40.jpg
[ea651de7b24d4287bae4dd94f66097f0.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/ea651de7b24d4287bae4dd94f66097f0.jpg
[da989fe8061c48558dd7c4dba5b7ca3c.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/da989fe8061c48558dd7c4dba5b7ca3c.jpg
[ba76e822a7d548c2a1de5cee164a945b.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/ba76e822a7d548c2a1de5cee164a945b.jpg
[bdcc0406b7d94de2aa21a136e036ad8b.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/bdcc0406b7d94de2aa21a136e036ad8b.jpg
