---  
title: 2009年下半年  
# icon: gears  
order: 1000  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

【问题1】  
![1b97899b072c4baf97ee785bc31c994b.jpg][]  
  
存储器是构成嵌入式系统硬件的重要组成部分，易失性和读写速度是存储器重要的性能指标。嵌入式系统中使用的存储器主要包括随机存储器、只读存储器和’混合型存储器等。它们还可再进行细分，如SRAM、DRAM、掩模ROM、PROM、EPROM、EEPROM、Flash和NVRAM等。  
从易失性上讲，SRAM和DRAM是易失的；从相对读写速度上讲，静态RAM即SRAM最快，下来是DRAM，NANDFlash最慢。  
  
【问题2】  
属于应用软件的是：（1）、（6）、（8）、(10)；  
属于系统软件的是：（2）、（4）、(7)；  
属于网络部分软件的是：（3）；  
属于驱动软件的是：（5）、（9）。  
  
PDA的软件按其软件结构图所示依次划分为应用层的应用软件、操作系统层的系统软件和网络部分软件、硬件隔离层的驱动软件。  
记事本、游戏软件、GPS导航定位软件和Word文字处理软件在应用层，应属于应用软件；电源管理、文件系统和GUI软件属于操作系统层的系统软件；TCP/IP协议栈属于网络部分软件；LCD驱动程序、处理触摸屏的软属于硬件隔离层的驱动软件。  
  
【问题3】  
① (2)  
② (4)  
③ (1)  
④ (5)  
⑤ (6)  
⑥ (3)  
⑦ (6)  
  
  
Socket(套接字）是进程间的通信机制，既适用于同一台计算机上的进程间通信，也使用于网络环境的进程间通信。网络通信有两种主要模式，一种为面向连接的通信，另一种为无连接通信。  
在面向连接的socket通信模式中，通信双方要先通过一定的步骤在互相之间建立起一种虚拟的连接，或者说虚拟的线路，然后再通过虚拟的连接线路进行通信。在通信的过程中，所有报文传递都保持着原来的次序，报文在网络中传输是可靠的。  
面向连接的socket通信流程图是一个客户端/服务器模型，服务器端程序的功能是监听其端口，如果发现有客户端的请求到来，就产生一个子进程与客户端进行通信。服务器端首先调用SocketO创建一个socket，然后调用Bind()与本地地址/端口号绑定，成功之后就通过调用在相应的socket上监听。当AcceptO捕捉到一个连接服务请求时，就生成新的socket，并通过这个新的socket与客户端通信，然后关闭该socket。  
客户端程序首先创建一个socket,通过调用Connect函数与服务器建立连接，连接成功后与服务器通信，接收服务器发过来的数据，最后关闭socket，结束程序。  


## 第2题 ##

【问题1】  
①74374的![6dd39a61cb7d41c3ac8aaea7c4cd54e8.jpg][]接5V  
④译码器为或非门  
⑤LED阴极接电源  
⑦/IOW没参加接口地址译码  
⑧.LED的限流电阻R的阻值太大  
  
①图中设计“74374的![6dd39a61cb7d41c3ac8aaea7c4cd54e8.jpg][]接5V”的做法是错误的。因为74374是具有三态输出的D触发器，其三态输出的允许信号51应该接地，如果51接5V，使得74374输出高阻。  
②图中“A16~A19没参加接口地址译码”的描述是正确的。因为根据题意，要求的是接口寻址，接口地址用AO~A15传送，故A16~A19不参加接口地址译码。  
③从图中可以看出，LED的限流电阻R的阻值太大，应该减小。  
④图中设计的译码器采用的是或非门，这种设计是不正确的。因为根据题意分配的接口地址为OOOOH，所以译码器采用或门才能符合设计要求。  
⑤图中设计“LED阴极接电源”的做法是错误的。LED阴极应接地，并将电阻减小；或者将LED阴极接到QO端，并将电阻减小。  
⑥/MEMR和/MEMW是内存读写信号，读写接口时不需要用到。  
⑦图中设计的“/IOW”没参加接口地址译码的做法是错误的。  
⑧图中设计的“LED的限流电阻R的阻值太大”的做法是错误的。  
  
【问题2】  
1.74374的 ![6dd39a61cb7d41c3ac8aaea7c4cd54e8.jpg][]接5V，使得74374输出高阻，应该接地；、  
2. 译码器中或非门设计错误，使得74374的锁存时序错误，应为或门；  
3. LED阴极接电源，接反了，不会发光，应该是阳极接电源；  
4. /IOW没参加接口地址译码，使得接口地址和内存地址冲突；  
5. LED的限流电阻R的阻值太大，LED不会发光，R的阻值应约为330Q~1KD。  
  
根据问题1的分析结果可知，设计中74374的/OE端应接地，并且应采用或非门做译码器，译码输入应是A0~A15加/IOW信号。对于“LED阴极接电源”的设计错误可以采用两种办法纠正：将LED阴极接地，电阻减小；或者将LED阴极接到Q0端，并将电阻减小。  


## 第3题 ##

【问题1】  
①C  
②要在目标机环境下进行软件测试  
③采用在目标机环境下和在仿真环境下相结合的方法  
④妥善安排目标机环境的使用，使甲方的开发与乙方的测试两不误  
  
在软件测试，尤其是嵌入式软件测试中，用仿真环境虽然可以完成部分测试工作，如单元测试，但是这些测试工作只能认为是编写测试用例的工作，为了确保软件与硬件的配套性，必须将测试用例在实际目标机上运行，因此，A、B、D三种说法都不正确，C是正确的选项。由于嵌入式系统的特殊性，本题主要考查考生对嵌入式软件测试工作的要求理解程度。  
在了解嵌入式系统特性的基础上，应能给出以下建议：  
第一条“要在目标机环境下进行软件测试”，这是嵌入式系统必须遵循原则；  
第二条“采用在目标机环境下和在仿真环境下相结合的方法”，这是一种并行工作的有效方式；  
第三条“妥善安排目标机环境的使用，使甲方的开发与乙方的测试两不误”，类似于第二条，只是提醒项目开发方在必要的时刻应安排目标机环境给测试方使用。  
  
【问题2】  
①首先应满足C/DC的测试条件；判定中每个条件的取值都必须独立地影响判定的结果，即在其他条件取值不变的前提下，仅改变这个条件的值，而使判定结果改变。  
②判定中每个条件的真值与假值都至少取一次;：同时判定的真值与假值也要求至少取一次。  
③FF，TF,FT  
④TT，FF  
  
根据宇航系统的软件安全性考虑要求，宇航系统将根据设备对飞行器安全性影响危害程度将软件分为5级（A~E)，其中A级软件是关键软件，在软件测试中必须达到100%修正的条件判定覆盖（MC/DC)和条件判定覆盖（C/DC)。这里主要考查考生是否理解这两种测试要求的具体含义。  
MC/DC要求测试集条件是：首先应满足C/DC的测试条件；判定中每个条件的取值都必须独立地影响判定的结果，即在其他条件取值不变的前提下，仅改变这个条件的值，而使判定结果改变。因此，对所列的A、B两个条件变量，\{FF，TF,FT\}集合就满足了MC/DC要求。  
C/DC要求测试集条件是：判定中每个条件的真值与假值都至少取一次；同时判定的真值与假值也要求至少取一次。因此，对所列的A、B两个条件变量，\{TT，FF\}集合就满足了C/DC要求。  


## 第4题 ##

【问题1】  
![a21a3511ed944864b8e81be57543c971.jpg][]  
![6176334fd0274fe982cf8e05a85b5e0a.jpg][]  
  
数据寻址方式有以下几种：  
(1) 直接寻址。这种寻址方式的位移量就是操作数的有效地址，位移量直接包含在指令中，它与操作数一起存放在代码段区域。例如INCWORDPTR\[500\],该指令的有效地址为500,它的线性地址=数据段基地址+500。  
(2) 寄存器间接寻址。这种寻址方式是由寄存器给出有效地址的指针，即有效地址是基址或变址寄存器中的内容。例如MOV\[ECX\]，EDX，操作数的逻辑地址=数据段基地址+ECX中的内容。  
(3) 基址寻址。基址寄存器的内容，加上指令格式中的位移量而形成操作数的有效地址。例如MOVECX,\[EAX+24\],\_作数的逻辑地址=数据段基地址+由EAX中内容加位移量24组成操作数的有效地址。  
(4) 变址寻址。与基址寻址方式相似，其有效地址的形成是变址寄存器的内容加上指令格式中的位移量。例如ADDEAX，TABLE\[ESI\]，操作数的逻辑地址=数据段基地址+ESI中的内容加TABLE变量的地址组成操作数的有效地址。  
(5) 带比例因子的变址寻址。是变址寻址方式的另一种寻址方式，指操作数的有效地址等于变址寄存器内容乘以比例因子再加上指令格式中的位移量。例如IMULEBX，TABLE\[ESI\*4\],7,操作数的逻辑地址=数据段基地址+ESI中的内容乘以4再加上TABLE变量的地址形成的有效地址。  
(6)基址变址寻址。操作数的有效地址等于基址寄存器的内容加变址寄存器的内容^例如MOVEAX,\[ESI\]\[EBX\],操作数的逻辑地址=数据段基地址+EBX中的内容加ESI中的内容形成的操作数有效地址。  
  
【问题2】  
![38d8649155c44bb08b8ba73a5e96ad32.jpg][]  
  
程序寻址方式有以下几种：  
(1) 段内直接寻址。是指把指令本身提供的位移量加到指令指针寄存器中去形成目标有效地址的寻址方式。例如JMP 1000H,调用地址在指令中给出。  
(2) 段内间接寻址。程序转移的地址存放在寄存器或存储单元中，由于此寻址方式仅修改IP的内容，因此这种寻址方式只能在段内进行程序转移。例如JMPBX,转移地址由BX给出；又如JMP WORD PTR\[BP+TABLE\],转移地址由BP+TABLE所指的存储单元给出。  
(3) 段间直接寻址。这种寻址方式是在指令中直接给出16位的段基值和16位的偏移地址来更新当前CS和IP的内容。例如CALL 2500H: 3600H,调用的段地址和偏移地址都在指令中给出。  
(4) 段间间接寻址。这种寻址方式是由指令中给出的存储器数据寻址方式，包括存放转移地址偏移量和段地址。其低位字地址单元存放的是偏移地址，高位字地址单元中存放的是转移段基值。这样既更新了IP的内容，又更新了CS的内容。例如CALLD WORD PTR\[DI\],调用地址在DI、DI+1、DI+2、DI+3所指的内容单元中，前两个字节为偏移量，后两个字节为段地址。  
  
【问题3】  
(1) 0  
(2) YESNEG  
(3) SfONEG  
(4) AX  
(5) 0  
(6) NONEG  
(7) AX  
(8) AX  
  
本题中的汇编程序用于求寄存器AX中符号数的绝对值，算法一的分支条件是AX&lt;0,当条件满足时，即AX为负数，需要求补；.当条件不满足时，即AX为正数，不需要求补，转向保存结果。  
算法二的分支条件是AX&gt;=0,只需要判断条件不满足时，即AX为负数，进行求补运行，然后保存结构  


## 第5题 ##

【问题1】  
临界资源：一次只能给一个进程访问的资源。临界区：进程中访问临界资源的那段代码。访问临界资源时应遵循如下原则：  
(1) 空闲让进（或有空即进)》  
(2) 忙则等待（或无空则等)。  
(3) 有限等待。  
(4) 让权等待。  
  
  
在多道程序系统中，进程是并发执行的，这些进程之间存在着不同的相互制约关系。进程之间的这种制约关系来源于并发进程的合作以及对资源的共享。  
进程在运行过程中，一般会与其他进程共享资源，而有些资源的使用具有排他性。系统中的多个进程可以共享系统的各种资源，然而其中许多资源一次只能为一个进程所使用，通常把一次仅允许一个进程使用的资源称为临界资源。许多物理设备都属于临界资源，如打印机、绘图机等。除物理设备外，还有许多变量、数据等都可由若干进程所共享，它们也属于临界资源。  
进程中访问临界资源的那段代码称为临界区，也称为临界段。  
访问临界资源应遵循如下原则：  
(1) 空闲让进（或有空即进)。当没有进程处于临界区时，可以允许一个请求进出临界区的进程立即进入自己的临界区；  
(2) 忙则等待（或无空则等）。当已有进程进入其临界区时，其他试图进入临界区的进程必须等待；  
(3) 有限等待。对要求访问临界资源的进程，应保证能在有限时间内进入自己的临界区；  
(4) 让权等待。当进程不能进入自己的临界区时，应释放处理机。  
  
【问题2】  
(1) S-  
(2) S&lt;0  
(3) S++  
(4) S&lt;=0  
  
信号量是荷兰著名的计算机科学家Dijkstra于1965年提出的一个同步机制，其基本思想是在多个相互合作的进程之间使用简单的信号来同步。  
在操作系统中，信号量是表示资源的实体，除信号量的初值外，信号量的值仅能由P操作（又称Wait操作）和V操作（又称Signal操作）改变。  
设S为一个信号量，P(S)执行时主要完成的功能为：先执行S=S-1，若S&gt;0，则进程继续运行；若S&lt;0,则阻塞该进程，并将它插入该信号量的等待队列中。  
V(S)执行时主要完成的功能为：先执行S=S+1，若S&gt;0,则进程继续执行；若s^o,则从该信号量等待队列中移出第一个进程，使其变为就绪状态并插入就绪队列，然后再返回原进程继续执行。  
P、V操作的形式化描述如下：  
![a0bb7282d29044c188b0dd67b21d2daa.jpg][]  
![3b31affbdd654e49ad243cc4f0e7d266.jpg][]  
  
【问题3】  
(1) OSSemPend(emptySem,0,&err)  
(2) Buffer=readc  
(3) ret=OSSemPost(fullSem)  
(4) OSSemPend(fullSem,0,&err)  
(5) ret=OSSemPost(emptySem)  
(6) Printc(writec)  
  
  
  
本问题是信号量应用实例。  
μC/OS-II操作系统提供了操作信号量的若干系统调用，任务Taskl为了实现从键盘读入一个字符并写到buffer的功能，就必须在读完字符后调用OSSemPendO和OSSemPostO对写buffer缓冲的动作加锁和解锁。  
Task2为了完成将该字符输出到屏幕，也必须在读buffer缓冲的动作时加锁和解锁。这样就避免任务Taskl和Task2同时操作buffer缓冲的资源冲突。  
因此，任务Taskl的代码如下：  
![09d9a50a805441c0884ec2ffa900b5f2.jpg][]  



[1b97899b072c4baf97ee785bc31c994b.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第1题/1b97899b072c4baf97ee785bc31c994b.jpg
[6dd39a61cb7d41c3ac8aaea7c4cd54e8.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第2题/6dd39a61cb7d41c3ac8aaea7c4cd54e8.jpg
[a21a3511ed944864b8e81be57543c971.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/a21a3511ed944864b8e81be57543c971.jpg
[6176334fd0274fe982cf8e05a85b5e0a.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/6176334fd0274fe982cf8e05a85b5e0a.jpg
[38d8649155c44bb08b8ba73a5e96ad32.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第4题/38d8649155c44bb08b8ba73a5e96ad32.jpg
[a0bb7282d29044c188b0dd67b21d2daa.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/a0bb7282d29044c188b0dd67b21d2daa.jpg
[3b31affbdd654e49ad243cc4f0e7d266.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/3b31affbdd654e49ad243cc4f0e7d266.jpg
[09d9a50a805441c0884ec2ffa900b5f2.jpg]: https://www.xkxxkx.cn/file/exam/software/嵌入式系统设计师/案例/第5题/09d9a50a805441c0884ec2ffa900b5f2.jpg
