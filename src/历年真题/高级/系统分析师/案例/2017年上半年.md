---  
title: 2017年上半年  
# icon: gears  
order: 992  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

试题一（25分）  
阅读以下关于基于微服务的系统开发的叙述，在答题纸上回答问题1至问题3。  
【说明】  
某公司拟开发一个网络约车调度服务平台，实现基于互联网的出租车预约与管理。公司的系统分析师王工首先进行了需求分析，得到的系统需求列举如下:  
系统的参与者包括乘客、出租车司机和平台管理员三类；  
系统能够实现对乘客和出租车司机的信息注册与身份认证等功能，并对乘客的信用信息进行管理，对出租车司机的违章情况进行审核；  
系统需要与后端的银行支付系统对接，完成支付信息审核、支付信息更新与在线支付等功能；  
针对乘客发起的每一笔订单，系统需要实现订单发起、提交、跟踪、撤销、支付、完成等业务过程的处理:  
系统需要以短信、微信和电子邮件多种方式分别为系统中的用户进行事件提醒。  
在系统分析与设计阶段，公司经过内部讨论，一致认为该系统的需求定义明确，建议尝试采用新的微服务架构进行开发，并任命王工为项目技术负责人，负责项目开发过程中的技术指导工作。  
  
【问题1】（12分）  
请用100字以内的文字说明一个微服务中应该包含的内容，并用300 字以内的文字解释基于微服务的系统与传统的单体式系统相比的2个优势和带来的2个挑战。  
  
【问题2】（8分）  
识别并设计微服务是系统开发过程中的一个重要步骤，请对题干需求进行分析，对微服务的种类和包含的业务功能进行归类，完成表1-1中的(1)~(4)。  
![54cedda0996d4c5a8d1ae75a1447f987.jpg][]  
  
【问题3】（5分）  
为了提高系统开发效率，公司的系统分析师王工设计了一个基于微服务的软件交付流程，其核心思想是将业务功能定义为任务，将完成某个业务功能时涉及到的步骤和过程定义为子任务，只有当所有的子任务都测试通过后该业务功能才能上线交付。请基于王工设计的在线支付微服务交付流程，从（a）~（f）中分别选出合适的内容填入图1-1中的（1）~（5）处。  
![500cdca50c19434fb27bd89b0c915a52.jpg][]  
选项：(a)提交测试 （b）全量上线 （c） 对接借记卡  
（d） 获取个人优惠券 （e）试部署 （f）对账  


## 第2题 ##

试题二（25分）  
阅读以下关于系统数据分析与建模的叙述，在答题纸上回答问题1至问题3。  
【说明】  
某软件公司受快递公司委托，拟开发一套快递业务综合管理系统，实现快递单和物流信息的综合管理。项目组在系统逻辑数据模型设计中，需要描述的快递单样式如图2-1所示，图2-2是项目组针对该快递单所设计的候选实体及其属性。  
![51ccd51dd44b479bb19e4de16cc6d60e.jpg][]  
  
【问题1】（6分）  
数据库设计主要包括概念设计、逻辑设计和物理设计三个阶段，请用200字以内文字说明这三个阶段的主要任务。  
  
【问题2】（11分）  
根据快递单样式图，请说明：  
1) 图2-2中三个候选实体对应的主属性PK1、PK2和PK3分别是什么?  
2) 图2-2中应设计哪些实体之间的联系，并说明联系的类型。  
  
【问题3】（8分）  
在图2-2中添加实体之间的联系后，该实体联系图是否满足第一范式、第二范式和第三范式中的要求（对于每种范式判定时，假定已满足低级别范式要求)。如果不满足，请用200 字以内文字分别说明其原因。  


## 第3题 ##

试题三（25分）  
阅读以下关于嵌入式多核程序设计技术的描述，回答问题1至问题3。  
【说明】  
近年来，多核技术已被广泛应用于众多安全关键领域(如：航空航天等)的电子设备中，面向多核技术的并行程序设计方法已成为软件人员急需掌握的主要技能之一。某宇航公司长期从事宇航电子设备的研制工作，随着宇航装备能力需求的提升，急需采用多核技术以增强设备的运算能力、降低功耗与体积，快速实现设备的升级与换代。针对面向多核开发，王工认为多核技术是对用户程序透明的，开发应把重点放在多核硬件架构和硬件模块设计上面，而软件方面，仅仅需要选择一款支持多核处理器的操作系统即可。而李工认为，多核架构能够使现有的软件更高效地运行，构建一个完善的软件架构是非常必要的。提高多核的利用率不能仅靠操作系统，还要求软件开发人员在程序设计 中考虑多进程或者多线程并行处理的编程问题。  
  
【问题1】（12分）  
请用300字以内文字说明什么是多核技术和多线程技术，并回答李工的意见是否正确，为什么?  
  
【问题2】（6分）  
在多核环境下，线程的活动有并行和并发两种方式，请用300字以内的文字说明这两种方式的含义及差别。  
  
【问题3】（7分）  
请根据自己所掌握的多核、多线程的知识，判别表3-1给出的说法是否正确，并将答案写在答题纸上对应空白处(填写正确或错误)。  
![fa7bd230105e455a81ccf9e8c17ed237.jpg][]  


## 第4题 ##

试题四（25分）  
阅读以下关于数据库分析与建模的叙述，在答题纸上回答问题1至问题3。  
【说明】  
某电子商务企业随着业务不断发展，销售订单不断增加，每月订单超过了50万笔，急需开发一套新的互联网电子订单系统。同时该电商希望建立相应的数据中心，能够对订单数据进行分析挖掘，以便更好地服务用户。  
王工负责订单系统的数据库设计与开发，初步设计的核心订单关系模式为:  
orders(order\_no，customer\_no ，order\_date，product\_no，price，......);  
考虑订单数据过多，单一表的设计会对系统性能产生较大影响，仅仅采用索引不足以解决性能问题。因此，需要将订单表拆分，按月存储。  
王工采用反规范化设计方法来解决，给出了相应的解决方案。李工负责数据中心的设计与开发。李工认为王工的解决方案存在问题，建议采用数据物理分区技术。在解决性能问题的同时，也为后续的数据迁移、数据挖掘和分析等工作提供支持。  
  
【问题1】（8分）  
常见的反规范化设计包括增加冗余列、增加派生列、重新组表和表分割。为解决题干所述需求，王工采用的是哪种方法?请用300字以内的文字解释说明该方法，并指出其优缺点。  
  
【问题2】（8分）  
物理数据分区技术一般分为水平分区和垂直分区，数据库中常见的是水平分区。水平分区分为范围分区、哈希分区、列表分区等。请阅读下表，在(1)~(8) 中填写不同分区方法在数据值、数据管理能力、实施难度与可维护性、数据分布等方面的特点。  
![8b78a574f95243558017a7aef17fdcd7.jpg][]  
  
【问题3】（9分）  
根据需求，李工宜选择物理水平分区中的哪种分区方法?请用300字以内的文字分别解释说明该方法的优缺点。  


## 第5题 ##

试题五（25分）  
阅读以下关于Web系统架构设计的叙述，在答题纸上回答问题1至问题3。  
【说明】  
某公司开发的B2C商务平台因业务扩展，导致系统访问量不断增大，现有系统访问速度缓慢，有时甚至出现系统故障瘫痪等现象。面对这一情况，公司召开项目组讨论会议，寻求该商务平台的改进方案。讨论会上，王工提出可以利用镜像站点、CDN内容分发等方式解决并发访问量带来的问题。而李工认为，仅仅依靠上述外网加速技术不能完全解决系统现有问题，如果访问量持续增加，系统仍存在崩渍的可能。李工提出应同时结合Web内网加速技术优化系统改进方案，如综合应用负载均衡、缓存服务器、Web应用服务器、分布式文件系统、分布式数据库等。经过讨论，公司最终决定采用李工的思路，完成改进系统的设计方案。  
  
【问题1】（10分）  
针对李工提出的改进方案，从a~j中分别选出各技术的相关描述和对应常见支持软件填入表5-1中的(1) ~(10) 处。  
![cb53018ff287411c938223a2e0faaa04.jpg][]  
a）保存静态文件，减少网络交换量，加速响应请求  
b）可采用软件级和硬件级负载均衡实现分流和后台减压  
c）文件存储系统，快速查找文件  
d）FastDFS  
e）HAProxy  
f）JBoss  
g）Hadoop Distributed File System(HDFS)  
h）Apache Tomact  
i）Squid  
j）MongoDB  
  
【问题2】（9分）  
请用100字以内的文字解释分布式数据库的概念，并给出提高分布式数据库系统性能的3种常见实现技术。  
  
【问题3】（6分）  
针对B2C商务购物平台的数据浏览操作远远高于数据更新操作的特点，指出该系统应采用的分布式数据库实现方式，并分析原因。  
  


## 答案及解析 ##

  



[54cedda0996d4c5a8d1ae75a1447f987.jpg]: https://www.xkxxkx.cn/file/exam/software/系统分析师/案例/第1题/54cedda0996d4c5a8d1ae75a1447f987.jpg
[500cdca50c19434fb27bd89b0c915a52.jpg]: https://www.xkxxkx.cn/file/exam/software/系统分析师/案例/第1题/500cdca50c19434fb27bd89b0c915a52.jpg
[51ccd51dd44b479bb19e4de16cc6d60e.jpg]: https://www.xkxxkx.cn/file/exam/software/系统分析师/案例/第2题/51ccd51dd44b479bb19e4de16cc6d60e.jpg
[fa7bd230105e455a81ccf9e8c17ed237.jpg]: https://www.xkxxkx.cn/file/exam/software/系统分析师/案例/第3题/fa7bd230105e455a81ccf9e8c17ed237.jpg
[8b78a574f95243558017a7aef17fdcd7.jpg]: https://www.xkxxkx.cn/file/exam/software/系统分析师/案例/第4题/8b78a574f95243558017a7aef17fdcd7.jpg
[cb53018ff287411c938223a2e0faaa04.jpg]: https://www.xkxxkx.cn/file/exam/software/系统分析师/案例/第5题/cb53018ff287411c938223a2e0faaa04.jpg
## 第1题 ##

【问题1】  
一个微服务需要包含完整的业务功能，开放一种或多种接口为其他服务使用，并可能包含一个自己私有的数据库。  
与传统的单体式系统相比，基于微服务的系统包含以下优势：  
(1) 模块化。微服务强调模块化的结构，这对大团队来说很重要；  
(2) 独立部署。简单的服务更容易部署，单个的服务出问题不会导致整个系统的故障；  
(3) 技术多样性。可以混合使用多种编程语言、开发框架以及数据存储技犬。  
基于微服务的系统带来的挑战：  
(1) 分布式特性。分布式系统的编程难度更大，因为远程调用慢，而且总存在失败的风险。  
(2) 最终一致性。分布式系统的强一致性很难，开发人员需要处理最终一致性的问题。  
(3) 运维的复杂性。需要成熟的运维团队，管理很多需要重新部署的服务。  
  
本题考查基于微服务的系统分析与设计的过程。  
本题要求考生认真阅读题目对系统需求的描述，采用需求分析与设计的相关方法对系统进行深入理解，并基于微服务架构对系统进行分析与设计。  
  
【问题2】  
(1) 信息注册、身份认证、信用管理  
(2) 信息注册、身份认证、违章管理  
(3) 支付管理   
(4)订单发起、订单提交、订单跟踪、订单撤销、订单支付、订单完成 (其中微服务包含业务功能答出3个即可）  
  
识别并设计微服务是系统开发过程中的一个重要步骤，根据题干描述，首先需要对微服务进行拆分，得到乘客管理、司机管理、支付管理、订单管理和通知中心四个核心微服务。然后，针对每个微服务归纳整理其所应该具有的核心业务功能。其中乘客管理微服务需要包含信息注册、身份认证、信用管理等功能；司机管理微服务包括信息注册、身份认证、违章管理等功能；支付管理微服务包括支付信息审核、支付信息更新、在线支付等功能；订单管理包括订单发起、订单提交、订单跟踪、订单撤销、订单支付、订单完成等功能；通知中心包括短信通知、微信通知、邮件通知等功能。  
  
【问题3】  
(1) (f) 对账  
(2) (c) 对接借记卡  
(3) (d) 获取个人优惠券  
(4) (e) 试部署  
(5) (b) 全量上线  
  
根据系统分析师王工设计的、基于微服务的软件交付流程，其核心思想是将业务功能定义为任务，将完成某个业务功能时涉及到的步骤和过程定义为子任务，只有当所有的子任务都测试通过后该业务功能才能上线交付。根据上述描述，应该具有以下的处理流程：  
![ea0146ef0a924debaf995d85f8a80740.jpg][]  


## 第2题 ##

【问题1】  
(1) 概念设计的主要任务是在需求分析阶段产生的需求说明书的基础上，按照特定的方法将它们抽象为一个不依赖于任何DBMS的概念数据模型。  
(2) 逻辑设计的主要任务是将概念模型转化为某个特定的DBMS上的逻辑模型，并对所设计的逻辑模型进行优化。  
(3) 物理设计的主要任务是对给定的逻辑模型选取一个最适合应用环境的物理结构，以确定数据库在物理设备上的存储结构和存储方法。  
(以上答案意思正确即可）  
  
本题考查考生对于软件系统数据库分析建模的掌握情况。  
数据库是长期存储在计算机内的、有组织的、可共享的数据集合，数据库系统是指在计算机信息系统中弓I入数据库后的系统。数据库分析与设计是指对一个给定的应用环境，提供一个确定最优数据模型与处理模式的逻辑设计，以及一个确定数据库存储结构与存取方法的物理设计，建立起能反映现实世界信息和信息联系及满足用户数据要求和加工要求，以能够被某个DBMS所接受，同时能实现系统目标，并有效存取数据的数据库。基于数据库系统生命周期的数据库设计可以分为如下5个阶段：规划、需求分析、概念设计、逻辑设计和物理设计。规划阶段的主要任务是进行建立数据库的必要性及可行性分析，确定数据库系统在企业和信息系统中的地位，以及各个数据库之间的联系。需求分析的目标是通过调查研究，了解用户的数据和处理要求，并按一定格式整理形成需求说明书。在此基础上，通过概念设计、逻辑设计和物理设计构建数据库的物理结构。  
数据库分析与设计是系统分析师必须要掌握的专业知识与技能，特别是需要掌握数据分析和数据库设计的过程与方法，进一步掌握数据库优化理论和模型。  
  
【问题2】  
1)候选实体对应的主属性：  
PK1：联系电话或证件号  
PK2：编号  
PK3：联系电话或证件号  
2)应该补充的联系及类型  
(1) 寄件人与快递单之间的联系；联系类型：一对多或快递单与寄件人之间的联系；联系类型：多对一。  
(2) 收件人与快递单之间的联系；联系类型：一对多或快递单与收件人之间的联系；联系类型：多对一。  
  
(1) 数据模型中的主属性是包含在任4候选关键字中的属性，即主属性的值可以唯一标识一个数据对象。对于寄件人和收件人来说，其证件号码和联系电话都可以分别标识一个数据对象，可以作为候选关键字，所以其主属性为联系电话或证件号：而对于快递单来说，编号可以唯一标识一个数据对象，可以作为候选关键字，所以其主属性为编号。  
(2) 快递单实体建立了寄件人和收件人两个实体之间的联系，所以需要补充的联系有两种：寄件人和快递单之间的联系，收件人和快递单之间的联系。快递单实体的一个实例有且只有一个寄件人实例和收件人实例，而每个寄件人或收件人可以发出或收到多个快递单。所以，寄件人与快递单之间的联系类型为一对多；收件人与快递单之间的联系类型同样为一对多。  
  
【问题3】  
(1) 不满足第一范式；原因：实体“快递单”的属性“体积”存在“长”“宽”“高”多个值，非原子属性，所以不满足第一范式。  
(2) 满足第二范式。  
(3) 不满足第三范式；原因：实体“快递单”的属性“代收货款”“运费”“加急费”“包装费”“保价费”五个属性依赖于实体主属性，而属性“总计”依赖于上述五个属性，存在传递依赖，所以不满足第三范式。  
  
按照关系型数据库优化理论，第一范式需要满足每个实体的属性具有唯一值，即消除多值属性；第二范式需要在第一范式基础上满足所有的非主属性不能部分依赖于主属性，即消除部分依赖；第三范式需要在第二范式基础上满足所有的非主属性不能依赖于其他非主属性，即消除传递依赖。  
结合题目说明，在图2-2中，实体“快递单”的属性“体积”存在“长”“宽”“高”多个值，非原子属性，所以不满足第一范式。在满足第一范式条件下，由于不存在组合关键字所以不存在部分依赖，那满足第二范式要求。在满足第二范式条件下，由于实体“快递单”的属性“代收货款”“运费”“加急费”“包装费” “保价费”五个属性依赖于实体主属性，而属性“总计”依赖于上述五个属性，存在传递依赖，所以不满足第三范式。  


## 第3题 ##

【问题1】  
多核技术：多核是多微处理器的简称，是将两个或更多的独立处理器封装在一起，集成在一个电路中。多核处理器是单枚芯片（也称为硅片），能够直接插入单一的处理器插槽中，但操作系统会利用所有相关资源，将它的每个执行内核作为分立的逻辑处理器进行调度。  
多线程技术：多线程（Multi-Threading)技术是利用处理器的超标量特性，同时执行多条指令。多线程技术需要操作系统的支持，是在操作系统级别上实现一个物理CPU的多线程并发法处理，以提高单个CPU利用率。  
李工的意见是正确的，理由如下：  
(1) 多核的利用率与应用程序的并发（并行）性有关，开发人员应当采用与单核平台不同的设计思想。  
(2) 操作系统完成多核资源的调度，在定意义上提高了CPU的利用率。但调度是在开发人员已经划分完成并发进程（线程）的基础上实现的。  
(3) 多核操作系统一般为开发人员提供三种多核调度方式，对称多处理（SMP)、非对称多处理（AMP)、混合多处理（BMP)，这三种工作方式都与软件设计有关。  
(以上答案，意思正确即可）  
  
本题主要考查考生对当前流行的多核技术的掌握程度。  
首先要求考生在理解多核技术、并行和并发技术的基本概念和主要特征的基础上，针对多核环境的软件设计方法开展学习，童点从多核软件架构、多进程、多线程并发处理等技术方面思考问题，以进一步提高考生对多核知识的掌握能力。  
此类题目要求考生根据自己已掌握的有关多核处理的相关知识，认真阅读题目对多核技术问题的描述，经过分析、分类和概括等方法，从中分析出题干或备选答案给出的术语间的差异，正确回答问题所涉及的各类技术要点。  
  
【问题2】  
并行（parallel):并行概念是指当提到多个软件线程并行执行的时候，既意味着这些活动线程在不同的硬件资源或者处理单元上同时执行，也就是说多个线程在任何时间点都同时执行；  
并发（concurrent):并发概念是指当提到多个软件线程并发执行的时候，既意味着这些活动线程在同一个硬件资源上交替执行的过程，也就是说所有活动线程在某段时间内同时执行的状态，但在某个给定的时刻都只有一个线程在执行。  
(以上答案，意思正确即可）  
  
【问题3】  
（1）✓ （2）✓ （3）× （4）✓ （5）× （6）× （7）✓  
  
在多核环境下，软件人员到底使用多进程形式编写程序还是使用多线程形式编写程度，究竟单核平台与多核平台上的多线程概念有哪些不同。因此，当开发人员在面向多核处理器开发应用程序时，需要对以下几个非常重要的方面加以特别考虑：  
(1) 在面向多核体系结构开发应用程序时，只要有效地采用多线程技术并仔细分配各线程的工作负载才能达到最高的性能\[(1)是正确的\]。而面向单核环境时，由于线程是在同一物理处理器上并发交替执行，开发人员主要是依靠提高直线指令吞吐率的方法提高了应用程序的性能；而在多核环境下，各线程根本不需要为了得到某种资源而挂起等待，各个线程都是在相互独立的执行核上并行运行的。  
(2) 由于单核处理器只能将多个指令流变替执行，并不能真正将他们同时执行，所以，单核结构上的多线程应用程序的性能就变到限制。单核平台上，多线程一般都被当做是一种能够实现延迟隐藏的有效编程手段\[(3)是不正确的\]。  
(3) 由于多核平台支持多线程的并行执行的特性，为开发人员提供了一种优化应用程序的渠道，就是通过仔细分配加载到各线,（或各处理器核）上的工作负载就能够得到性能上的提升。并且，开发人员也可以对应用程序代码加以优化，使其能够更加充分地使用多个处理器资源，进而达到提升应用一序性能的目的\[(4)是正确的\]。  
(4) 在面向多核平台设计多线程应用程序的时候，开发人员必须采用与面问单核平台时不同的设计思想\[(2)是正确的\]。在单核平台上，为了简化多线程应用程序的编写和调试，开发人员可能会做一些假设，但这种假设可能不适用于多核平台\[(5)是不正确的\]。对于两种平台，设计思想的不同之处主要体现在存储缓存（memory caching)和线程优先级（threadpriority)两个方面。  
(5) 在多核平台上，由于cache存储器甚基于局部性原理来工作的，故不同的数据可能存放在cache的同一行中，因此，即使某个线程所需的位于cache块中的数据没有被重写过，存储系统还是可能会将该cache块标记为无效。这种现象就是伪共享（false sharing)问题，但是在单核平台上，因为只有唯一的cache供各线程共享，所以就不存在cache同步问题，即不存在伪共享\[(6) 不正确的\]。  
(6) 在单核与多核平台上采用相同的线程优先级策略也会导致不同的线程行为。比如一个应用程序有两个不同优先级的线程，发人员在进行性能优化时，会假设高优先级线程可以一直占用执行资源，而不会被低优先级线程所干扰，这在单核环境下是正确的。但是，在多核环境下，操作系统调度程,是在不同的执行核上调度这两个线程，两个线程会同时执行，线程优先级是不起作用的。因此，单核平台上，开发人员通常遵循优先级较高的线程不会受到优先级较低线程的干扰的思想对代码进行优化，这样的代码在多核平台上运行就会非常不稳定\[(7)是正确的\]。  


## 第4题 ##

【问题1】  
王工采用的是表分割方法。常见的表分割方法分为水平分割和垂直分割，王工应采用水平分割，将不同时间的订单存放到不同的逻辑表中，不同的月份使用不同的关系表。  
该方法的优点是将数据分布到多个不同表，这些库表逻辑与物理上均是独立的。在订单系统中最频繁的操作是对当月订单表的操作，这种方法有效地减少了操作表中的记录数目，可有效提升性能。同时按月存储有利于数据迁移、备份和管理。  
该方法的缺点是逻辑上破坏了关系概念的完整性，由一个关系变为多个关系。因此在数据分析挖掘中，进行历史数据挖掘和分析时，需要执行集合并操作，处理较单表操作而言更复杂。例如需要对一年的数据进行分析，就需要对12张表进行操作。增加数据维护的工作强度，也增加了应用软件设计和实现的复杂度。  
  
本题考查数据库设计中反规范化设计概念。  
此类题目要求考生认真阅读题目对现实问题的描述，根据具体业务问题，选择合适的解决方案。  
关系模式规范化设计所导致的性能问题在实际应用中可能令人无法接受。如果出现这种情况，在数据库概要设计阶段，一般要采用非规范化手段。关系模式的非规范化就是为了获得性能上的要求所进行的违反规范化规则的操作。而非规范化手段必然会带来数据冗余、更新异常等问题，因此必须均衡考虑，同时必须对非规范化澡作所带来的副作用进行处理。常见的反规范化设计包括增加冗余列、增加派生列、重新组表和表分割。  
  
【问题2】  
（1）连续（2）离散（3）弱（4）强（5）差（6）差（7）不均匀（8）均匀  
  
物理数据分区（也称为表分区）技术一般分为水平分区和垂直分区，数据库中常见的是水平分区，根据一列或多列数据的值把数据行放到多个物理独立的表中，根据属性类型以及划分规则，常见的分区有范围分区、哈希分区、列表分区等。范围分区是根据属性的连续取值范围进行分区；哈希分区是根据属性值进行哈希运算后的值进行分区；列表分区是根据属性的离散取值进行分区。因此，三种分区在数据值、数据管理能力、实施难度与可维护性、数据分布等方面的特点如下表所示。  
![b66f5e3ed8224dafab4fa6c5a6772779.jpg][]  
  
【问题3】  
李工应该选择水平分区中的范围分区，对属性order\_date按照取值范围进行划分，实现数据的按月存储；  
该方法的优点是逻辑模式保持不变，保证了订单关系概念的单一性和完整性。但在物理上分布到多个不同物理实体上，可以执行并行查询，提高了系统性能。范围分区提供了良好的数据迁移、备份和管理能力；  
该方法的缺点是随着时间的增加，日期数据发生变化，需要DBA对分区进行维护，以增加新的分区。订单数据在分区上不均匀。实施有难度，可维护性比较差。  


## 第5题 ##

【问题1】  
（1）（b）  
（2）（e）  
（3）（a）  
（4）（i）  
（5）（c）  
（6）（d）  
（7）（g）  
（8）（f）  
（9）（h）  
（10）（j）  
(6)和（7）、(8)和（9）的答案可互换。  
  
本题考查Web系统架构设计的相关知识及应用。  
此类题目要求考生认真阅读题目，根据实际系统的需求描述，进行Web系统架构的设计。  
本问题考查Web系统设计中常用技术及实现这些技术的常用软件。  
1.负载均衡技术  
Web系统设计中的负载均衡可以分为软件负载均衡和硬件负载均衡。软件负载均衡解决方案是指在一台或多台服务器相应的操作系统上安装一个或多个附加软件来实现负载均衡，它的优点是基于特定环境，配置简单，使用灵活，成本低廉，可以满足一般的负载均衡需求。软件级负载均衡又分为四层负载均衡和七层负载均衡。四层负载均衡中性能较为突出的有LVS和Haproxy等，LVS是在Linux内核层进行数据交换，高并发能力接近硬件级负载均衡器的水平。但四层交换也有其不足之处，如不能检测后端服务器存活情况，不支持正则动静分离。七层负载均衡中性能较优的有Haproxy和Nginx等， 两者都支持虚拟主机，在负载均衡的同时都有保持session的方案，并且可以进行动静分离，但显而易见，其性能不如四层交换。因此，根据不同网站的需求在负载均街上的部署方案也不同。硬件负载均衡解决方案是直接在服务器和外部网络间安装负载均衡设备，这种设备通常称之为负载均衡器，由于专门的设备完成专门的任务，独立于操作系统，整体性能得到极大提高，加上多样化的负载均衡策略，智能化的流量管理，可达到最佳的负载均衡需求。负载均衡器有多种多样的形式，除了作为独立意义上的负载均衡器外，有些负载均衡器集成在交换设备中，置于服务器与Internet链接之间，有些则以两块网络适配器将这一功能集成到PC中，一块连接到Internet上，一块连接到后端服务器群的内部网络上。一般而言，硬件负载均衡在功能、性能上优于软件方式，不过成本昂贵。常见的有NetScaler、F5、Radware、Array等商用的负载均衡器。  
2. 缓存服务器  
Web缓存(Web Cache)服务器的功能类似于CDN内容分发技术中的缓存技术，目的都是为了加快网络访问速度，同时减小高并发访问对后台产生的冲击效应。Web缓存服务器存储网络上其他用户需要的网页、文件等等信息，它不仅可以使用户得到他们想要的信息，而且可以减少网络的交换量。缓存服务器往往也是代理服务器。对于网络的用户，缓存服务器和代理是不可见的，在用户看来所有的信息都来自访问的网站。Web缓存服务器使用大量存储空间来同时服务大量的用户，因而，Web Cache能为流行的Web站点快速提供最新的数据，Web Cache还可以加速已经被本地用户访问过的其他Web站点的访问速度，对于那些数据需求超出浏览器Cache限制的用户尤其有用。现有常见的软件级Web缓存服务器有Squid、Varnish, Nginx第三方模块，商业级的AiCache等。  
3. 分布式文件系统  
通过分布式文件系统，一台服务器上的某个共享点能够作为驻留在其他服务器上的共享资源的宿主。分布式文件系统以透明方式链接文件服务器和共享文件夹，然后将其映射到单个层次结构，以便可以从一个位置对其进行访问，而实际上数据却分布在不同的位置。到目前为止，有数十种以上的分布式文件系统解决方案可供选择，如Lustre、 Hadoop和FastDFS等。它们对使用的环境和适应的文件形式各不相同，加速效果也不相同。在国内，MogileFS较为受欢迎，在图片存储上性能突出。而淘宝网则自己开发出文件系统TFS来适应其PB级的图片与商品描述文件。  
4. Web应用服务器  
在Web服务器的市场中，轻量级高性能服务器广受欢迎，但因为轻量级服务器本身并不支持处理PHP等脚本语言，因此在实际运用中一方面为轻量级服务器开发处理脚本语言的第三方模块，或者直接搭配传统服务器进行动态网站的请求处理，其中以Nginx 为代表的轻量级服务器搭配Apache服务器的应用已经是一种较为流行的部署方式。Web服务器提供Web页面浏览的服务，仅支持HTTP协议、HTML文档格式，在市场需求中，还有很多需求是针对业务逻辑的需要，这也是应用服务器与Web服务器的区别，应用服务器支持客户端提出请求调用（call)的方法处理商业逻辑，在大多数情形下，应用程序服务器是通过组件的应用程序接口把商业逻辑暴露给客户端应用程序的，例如基于J2EE应用程序服务器的EJB组件模型。Apache搭配Tomcat或者Tomcat单独作为服务器来实现应用服务器是广泛使用的方法，JBoss网络服务器的崛起也促进了应用服务器的使用。  
5.分布式数据库  
分布式数据库系统通常使用较小的计算机系统，每台计算机可单独放在一个地方，每台计算机中都可能有DBMS的一份完整拷贝副本，或者部分拷贝副本，并具有自己局部的数据库，位于不同地点的许多计算机通过网络互相连接，共同组成一个完整的、全局的逻辑上集中、物理上分布的大型数据库。  
数据分片类型包括水平分片、垂直分片、导出分片和混合分片。水平分片按一定的条件把全局关系的所有元组划分成若干不相交的子集，每个子集为关系的一个片段。垂直分片是把一个全局关系的属性集分成若干子集，并在这些子集上作投影运算，每个投影称为垂直分片。导出分片又称为导出水平分片，即水平分片的条件不是本关系属性的条件，而是其他关系属件的条件。混合分片是以上三种方法的混合。可以先水平分片再垂直分片，或先垂直分片再水平分片，或其他形式，但它们的结果是不相同的。数据分配方式包括集中式、分割式、全复制式和混合式。集中式是所有数据片段都安排在同一个场地上；分割式是所有数据只有一份，它被分割成若干逻辑片段，每个逻辑片段被指派在一个特定的场地上；全复制式是数据在每个场地重复存储，也就是每个场他上都有一个完整的数据副本；混合式是一种介乎于分割式和全复制式之间的分配方式。常见的分布式数据库实现方式包括基于MangoDB、MySQL, DB2、Oracle等。  
  
【问题2】  
分布式数据库是用计算机网络将物理上分散的多个数据库单元连接起来组成的一个逻辑上统一的数据库。每个被连接起来的数据库单元称为站点或节点。  
常见实现技术：读写分离、数据分片、数据索引、数据缓存、负载均衡等。  
  
本问题考查分布式数据库的概念和发挥分布式数据库性能优势的常用方法。  
分布式数据库是用计算机网络将物理上分散的多个数据库单元连接起来组成的一个逻辑上统一的数据库。每个被连接起来的数据库单元称为站点或节点。  
为提高分布式数据库的性能，发挥其优势，常见的实现技术有读写分离、数据分割、数据索引、数据缓存、负载均衡等。  
1.读写分离  
在大多数社交购物网站中，读操作远多于写操作。在原始的数据库中，当写入的时候必须要锁住数据表，小数据量的时候并不会出现瓶颈问题，当数据量暴增时，读写数据必然会受到很大的影响。如果把读操作和写操作分离开来，性能将大大提高，这也是相对比较早的一种提升数据库性能的部署方式。  
2. 数据分片  
数据分割（数据分片）是指把逻辑上是统一整体的数据分割成较小的、可以独立管理的物理单元进行存储，以便于重构、重组和恢复，以提高创建索引和顺序扫描的效率。数据分割可采用不同类型的分割方式。  
(1) 垂直分割将一个大数据库分成多个小数据库，可以提高查询的性能，因为每个数据库分区只拥有自己的一小部分数据。假设需要扫描1亿条记录，对一个单一分区的数据库来讲，该扫描操作需要数据库管理器独立扫描一亿条记录。如果将数据库系统做成50个分区，并将这1亿条记录平均分配到这50个分区上，那么每个数据库分区的数据库管理器将只扫描200万条记录。  
(2) 水平分区意味着将同一个数据库表中的记录通过特定的算法进行分离，分别保存在不同的数据库表中，从而可以部署在不同的数据库服务器上。很多的大规模的站点基本上都是主从复制+垂直分区+水平分区这样的架构。水平分区并不依赖什么特定的技术，完全是逻辑层面的规划，需要的是经验和业务的细分。  
3. 数据索引  
索引是对数据库表中一列或多列的值进行排序的一种结构，使用索引可快速访问数据库表中的特定信息。如果想按特定职员的姓氏来查找他或她，则与在表中搜索所有的行相比，索引有助于更快地获取信息。索引就是加快检索表中数据的方法，亦即能协助信息搜索者快速找到符合限制条件的记录ID的辅助数据结构。根据数据库的功能，可以在数据库设计器中创建三种索引：唯一索引、主键索引和聚集索引。创建索引可以大大提高系统的性能。第一，通过创建唯一性索引，可以保证数据库表中每一行数据的唯一性。第二，可以大大加快数据的检索速度，这也是创建索引的最主要的原因。第三，可以加速表和表之间的连接，特别是在实现数据的参考完整性方面特别有意义，第四，在使用分组和排序子句进行数据检索时，同样可以显著减少查询中分组和排序的时间。第五，通过使用索引，可以在查询的过程中，使用优化隐藏器，提高系统的性能。  
4. 数据缓存  
随着数据库的读写操作日益频繁，缓存数据也成为必然。缓存是最重要的一个方面，以提高应用程序性能的存储对象的缓存（内存)，减少数据库负载。缓存在群集环境中，需要分布式缓存解决方案，可以支持故障切换情景和数据的可靠性。  
5. 负载均衡  
几乎所有的主流数据库都支持复制，这是进行数据库简单扩展的基本手段,，为了让主从服务器上的数据保持一致，从服务器定时向主服务器获取更新操作日志，并在从服务器上进行更新操作。主从服务器的数据同步也可以用作对数据库数据的备份，在读写分离的方式下使用主从部署方式的数据库时，会遇到一个问题，即一个主数据库对应多台从服务器，对于写操作是针对主数据库的，数据库个数是唯一的，但是对于从服务器的读操作就需要使用适当的算法来分配请求，尤其是在多个从服务器的配置不一样的时候，甚至需要读操作按照权重来分配。负载均衡技术即可用于解决上述问题。  
  
【问题3】  
系统应采用的分布式数据库实现方式为主从分布、读写分离。  
原因：在购物网站中，读操作远多于写操作，在原始的数据库中，当写入的时候必须要锁住数据表，当小数据量的时候并不会出现瓶颈问题，当数据量暴增时，读写数据必然会受到很大的影响。如果把读操作和写操作分离开来，性能将大大提高。  
  
本问题考查学生根据题干中Web系统分析选择合适的数据库实现策略的能力。  



[ea0146ef0a924debaf995d85f8a80740.jpg]: https://www.xkxxkx.cn/file/exam/software/系统分析师/案例/第1题/ea0146ef0a924debaf995d85f8a80740.jpg
[b66f5e3ed8224dafab4fa6c5a6772779.jpg]: https://www.xkxxkx.cn/file/exam/software/系统分析师/案例/第4题/b66f5e3ed8224dafab4fa6c5a6772779.jpg
