---  
title: 2017年下半年  
# icon: gears  
order: 992  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

试题一（25分）  
阅读以下关于软件架构评估的叙述，在答题纸上回答问题1和问题2。  
【说明】  
某单位为了建设健全的公路桥梁养护管理档案，拟开发一套公路桥梁在线管理系统。在系统的需求分析与架构设计阶段，用户提出的需求、质量属性描述和架构特性如下:  
(a) 系统用户分为高级管理员、数据管理员和数据维护员等三类；  
(b) 系统应该具备完善的安全防护措施，能够对黑客的攻击行为进行检测与防御；  
(c) 正常负载情况下，系统必须在0.5 秒内对用户的查询请求进行响应；  
(d) 对查询请求处理时间的要求将影响系统的数据传输协议和处理过程的设计；  
(e) 系统的用户名不能为中文，要求必须以字母开头，长度不少于5个字符；  
(f) 更改系统加密的级别将对安全性和性能产生影响；  
(g) 网络失效后，系统需要在10 秒内发现错误并启用备用系统；  
(h) 查询过程中涉及到的桥梁与公路的实时状态视频传输必须保证画面具有1024\*768的分辨率，40帧/秒的速率；  
(i) 在系统升级时，必须保证在10人月内可添加一个新的消息处理中间件；  
(j) 系统主站点断电后，必须在3秒内将请求重定向到备用站点；  
(k) 如果每秒钟用户查询请求的数量是10个，处理单个请求的时间为30毫秒，则系统应保证在1秒内完成用户的查询请求；  
(l) 对桥梁信息数据库的所有操作都必须进行完整记录；  
(m) 更改系统的Web界面接口必须在4人周内完成；  
(n) 如果"养护报告生成"业务逻辑的描述尚未达成共识，可能导致部分业务功能模块规则的矛盾，影响系统的可修改性  
(O) 系统必须提供远程调试接口，并支持系统的远程调试。  
在对系统需求，质量属性描述和架构特性进行分析的基础上，系统的架构师给出了三个候选的架构设计方案，公司目前正在组织系统开发的相关人员对系统架构进行评估。  
  
【问题1】（12分）  
在架构评估过程中，质量属性效用树 (utility tree) 是对系统质量属性进行识别和优先级排序的重要工具。请给出合适的质量属性，填入图1-1 中(1)、(2) 空白处；并选择题干描述的 (a)~(o) ，填入(3) ~(6) 空白处，完成该系统的效用树。  
![0fd3974ddb4a4cb0be6e7cb7d18e49f9.jpg][]  
  
【问题2】（13分）  
在架构评估过程中，需要正确识别系统的架构风险、敏感点和权衡点，并进行合理的架构决策。请用300字以内的文字给出系统架构风险、敏感点和权衡点的定义，并从题干(a) ~(o) 中分别选出1个对系统架构风险、敏感点和权衡点最为恰当的描述。  


## 第2题 ##

试题二（25分）  
阅读以下关于JavaEE的系统架构的叙述，在答题纸上回答问题1至问题3。  
【说明】  
某软件企业受该省教育部门委托建设高校数字化教育教学资源共享平台，实现以众筹众创的方式组织省内普通高校联合开展教育教学资源内容建设，实现全省优质教学资源整合和共享。该资源共享平台的主要功能模块包括：  
(1) 统一身份认证模块：提供统一的认证入口，为平台其他核心业务模块提供用户管理、身份认证、权限分级和单点登录等功能；  
(2) 共享资源管理模块：提供教学资源申报流程服务，包括了资源申报、分类定制、资料上传、资源审核和资源发布等功能；  
(3) 共享资源展示模块：提供教育教学共享资源的展示服务，包括资源导航、视频点播、资源检索、分类展示、资源评价和推荐等功能；  
(4) 资源元模型管理模块：依据资源类型提供共享资源的描述属性、内容属性和展示属性，包括共享资源统一标准和规范、资源加工和在线编辑工具、数字水印和模板定制等功能；  
(5) 系统综合管理模块：提供系统管理和维护服务，包括系统配置、数据备份恢复、资源导入导出和统计分析等功能。  
项目组经过分析和讨论，决定采用基于JavaEE的MVC模式设计资源共享平台的软件架构，如图2-1所示。  
![73c446403ef342f981c3a3925b7bbe71.jpg][]  
  
【问题1】（9分）  
MVC架构中包含哪三种元素，它们的作用分别是什么?请根据图2-1所示架构将JavaEE中JSP、Servlet、Service、JavaBean、DAO五种构件分别填入空(1)~（5）所示位置。  
  
【问题2】（6分）  
项目组架构师王工提出在图2-1所示架构设计中加入EJB构件，采用企业级JavaEE架构开发资源共享平台。请说明EJB构件中的Bean (构件)分为哪三种类型，每种类型Bean的职责是什么。  
  
【问题3】（10分）  
如果采用王工提出的企业JavaEE架构，请说明下列(a)~(e) 所给出的业务功能构件中，有状态和无状态构件分别包括哪些。  
（a）Identification Bean (身份认证构件)  
（b）ResPublish Bean(资源发布构件)  
（c）ResRetrieval Bean(资源检索构件)  
（d）OnlineEdit Bean(在线编辑构件)  
（e）Statistics Bean(统计分析构件)  


## 第3题 ##

试题三（25分）  
阅读以下关于机器人操作系统架构的描述，回答问题1至问题3。  
【说明】  
随着人工智能技术的发展，工业机器人已成为当前工业界的热点研究对象。某宇航设备公司为了扩大业务范围，决策层研究决定准备开展工业机器人研制新业务。公司将论证工作交给了软件架构师王工，王工经过分析和调研，从机器人市场现状、领域需求、组成及关键技术和风险分析等方面开展了综合论证。论证报告指出：首先，为了保障本公司机器人研制的持续性，应根据领域需求选择一种适应的设计架构；其次，为了规避风险，公司的研制工作不能从零开始，应该采用国际开源社区所提供机器人操作系统 (Robot Operating System ，ROS)作为机器人开发的基本平台。  
在讨论会上，架构师李工提出不同意见，他认为公司针对宇航领域已开发了某款嵌 入式实时操作系统，且被多种宇航装备使用，可靠性较高。因此应该采用现有架构体系作为机器人的开发平台。会上王工说明了机器人操作系统与该款操作系统的差别，要沿用需要进行改造，技入较大。经过激烈讨论，公司领导同意了王工采用ROS的意见。  
  
【问题1】（5分）  
王工拟采用的ROS具有分布式进程框架，以点对点设计以及服务和节点管理器方式，使得执行程序可以各自独立地设计，松散地、实时地组合起来。这些进程可以按照功能包和功能包集的方式分组，因而可以容易地分享和发布。请用400字以内文字说明ROS与嵌入式实时操作系统的共同点，以及在实时性和任务通信方式两个方面的差异。  
  
【问题2】（10分）  
ROS为应用程序间通信提供了主题(Topic) 、服务 (Service)和动作 (Action) 三种消息通信方式，每种通信方式都有其特点。请将以下给出的三类通信的主要特点填入表3-1中(1)-(5) 的空白处，将答案写在答题纸上。  
(a) 适合用于传输传感器信息（数据流)  
(b) 能够知道是否调用成功  
(c) 一对多模式  
(d) 有握手信号  
(e) 服务执行完会有反馈  
(f) 可以监控长时间执行的进程  
(g) 较复杂  
(h) 可能让系统过载(数据太多)  
(i) 服务执行完之前，程序会等待  
(j) 建立通信较慢  
(k) 可能丢失数据  
![60b602fb9cd34a46a03c2d9a88989434.jpg][]  
  
【问题3】（10分）  
ROS 的架构定义了ROS系统由多个各自独立的节点(组件）组成，并且各个节点之间可以通过发布/订阅(Publish/Subscribe)消息模型进行通信。图3-1给出一个简单机器人结构实例，请根据以下文字描述，补充图3-1中(1)~(5) 处空白，将答案写在答题纸上。  
"机器人开始阶段，所有节点都要注册 (Registration) 到Master上，注册后，摄像头节点声明它要发布(Publish)一个叫做/image\_data的消息。另外两个节点（图像处理处理节点和图像显示节点）声明它们需要订阅( Subscribe) 这个/image\_data消息。因此，一旦摄像头节点收到相机发送的数据(Data)，就立即将数据/image\_data直接发送到另外两个节点。  
![630e72d59f8045e5b19a91752475a9d6.jpg][]  


## 第4题 ##

试题四（25分）  
阅读以下关于Web系统架构设计的叙述，在答题纸上回答问题1至问题3。  
【说明】  
某制造企业为拓展网上销售业务，委托某软件企业开发一套电子商务网站。初期仅解决基本的网上销售、订单等功能需求。该软件企业很快决定基于.NET平台和SQL Server数据库进行开发，但在数据库访问方式上出现了争议。王工认为应该采用程序在线访问的方式访问数据库；而李工认为本企业内部程序员缺乏数据库开发经验，而且应用筒单，应该采用ORM (对象关系映射)方式。最终经过综合考虑，该软件企业采用了李工的建议。  
随着业务的发展，该电子商务网站逐渐发展成一个通用的电子商务平台，销售多家制造企业的产品，电子商务平台的功能也日益复杂。目前急需对该电子商务网站进行改造，以支持对多种异构数据库平台的数据访问，同时满足复杂的数据管理需求。该软件企业针对上述需求，对电子商务网站的架构进行了重新设计，新增加了数据访问层，同时采用工厂设计模式解决异构数据库访问的问题。新设计的系统架构如图4-1所示。  
![0ec6779a1b16453faf6518a9d4555843.jpg][]  
  
【问题1】（9分）  
请用300字以内的文字分别说明数据库程序在线访问方式和ORM方式的优缺点，说明该软件企业采用ORM的原因。  
  
【问题2】（9分）  
请用100字以内的文字说明新体系架构中增加数据访问层的原因。请根据图4-1所示，填写图中空白处(1)-(3)。  
  
【问题3】（7分）  
应用程序设计中，数据库访问需要良好的封装性和可维护性，因此经常使用工厂设计模式来实现对数据库访问的封装。请解释工厂设计模式，并说明其优点和应用场景；请解释说明工厂模式在数据访问层中的应用。  


## 第5题 ##

试题五（25分）  
阅读以下关于Web系统架构设计的叙述，在答题纸上回答问题1至问题3。  
【说明】  
某电子商务企业因发展良好，客户量逐步增大，企业业务不断扩充，导致其原有的B2C商品交易平台已不能满足现有业务需求。因此，该企业委托某软件公司重新开发一套商品交易平台。该企业要求新平台应可适应客户从手机、平板设备、电脑等不同终端设备访问系统，同时满足电商定期开展"秒杀"、"限时促销"等活动的系统高并发访问量的需求。面对系统需求，软件公司召开项目组讨论会议，制定系统设计方案。讨论会议上，王工提出可以应用响应式Web设计满足客户从不同设备正确访问系统的需求。同时，采用增加镜像站点、CDN 内容分发等方式解决高并发访问量带来的问题。李工在王工的提议上补充，仅仅依靠上述外网加速技术不能完全解决高用户并发访问问题，如果访问量持续增加，系统仍存在崩溃可能。李工提出应同时结合负载均衡、缓存服务器、Web应用服务器、分布式文件系统、分布式数据库等方法设计系统架构。经过项目组讨论，最终决定综合王王和李工的思路，完成新系统的架构设计。  
  
【问题1】（5分）  
请用200字以内的文字描述什么是"响应式Web设计"，并列举2个响应式Web设计的实现方式。  
  
【问题2】（16分）  
综合王工和李工的提议，项目组完成了新商品交易平台的系统架构设计方案。新系统架构图如图5-1所示。请从选项(a) - (j) 中为架构图中(1) - (8) 处空白选择相应的内容，补充支持高并发的Web应用系统架构设计图。  
![da2eb16915d74f02859792354bcba449.jpg][]  
(a) Web应用层  
(b) 界面层  
(c) 负载均衡层  
(d) CDN内容分发  
(e) 主数据库  
(f) 缓存服务器集群  
(g) 从数据库  
(h) 写操作  
(i) 读操作  
(j) 文件服务器集群  
  
【问题3】（4分）  
根据李工的提议，新的B2C商品交易平台引入了主从复制机制。请针对B2C商品交易平台的特点，简要叙述引入该机制的好处。  
  


## 答案及解析 ##

  



[0fd3974ddb4a4cb0be6e7cb7d18e49f9.jpg]: https://www.xkxxkx.cn/file/exam/software/系统架构设计师/案例/第1题/0fd3974ddb4a4cb0be6e7cb7d18e49f9.jpg
[73c446403ef342f981c3a3925b7bbe71.jpg]: https://www.xkxxkx.cn/file/exam/software/系统架构设计师/案例/第2题/73c446403ef342f981c3a3925b7bbe71.jpg
[60b602fb9cd34a46a03c2d9a88989434.jpg]: https://www.xkxxkx.cn/file/exam/software/系统架构设计师/案例/第3题/60b602fb9cd34a46a03c2d9a88989434.jpg
[630e72d59f8045e5b19a91752475a9d6.jpg]: https://www.xkxxkx.cn/file/exam/software/系统架构设计师/案例/第3题/630e72d59f8045e5b19a91752475a9d6.jpg
[0ec6779a1b16453faf6518a9d4555843.jpg]: https://www.xkxxkx.cn/file/exam/software/系统架构设计师/案例/第4题/0ec6779a1b16453faf6518a9d4555843.jpg
[da2eb16915d74f02859792354bcba449.jpg]: https://www.xkxxkx.cn/file/exam/software/系统架构设计师/案例/第5题/da2eb16915d74f02859792354bcba449.jpg
## 第1题 ##

【问题1】  
![3daafc5dff0948888ab0b8daab30c402.jpg][]  
  
本题考查软件架构评估方面的知识与应用，主要包括质量属性效用树和架构分析两个部分。  
此类题目要求考生认真阅读题目对系统需求的描述，经过分类、概括等方法，从中确定软件功能需求、软件质量属性、架构风险、架构敏感点、架构权衡点等内容，并采用效用树这一工具对架构进行评估。  
在架构评估过程中，质量属性效用树（utility tree)是对系统质量属性进行识别和优先级排序的重要工具。质量属性效用树主要关注性能、可用性、安全性和可修改性等四个用户最为关注的质量属性，考生需要对题干的需求进行分析，逐一找出这四个质量属性对应的描述，然后填入空白处即可。  
经过对题干进行分析，可以看出：  
(a) 系统用户分为高级管理员、数据管理员和数据维护员等三类（系统功能需求)；  
(b) 系统应该具备完善的安全防护措施，能够对黑客的攻击行为进行检测与防御（描述了安全性质量属性)；  
(c) 正常负载情况下，系统必须在0.5秒内对用户的查询请求进行响应（描述性能质量属性)；  
(d) 对查询请求处理时间的要求将影响系统的数据传输协议和处理过程的设计（一个质量属性会对多个设计决策造成影响，是敏感点）；  
(e) 系统的用户名不能为中文，要求必须以字母开头，长度不少于5个字符（系统功能需求)；  
(f) 更改系统加密的级别将对安全性和性能产生影响（一个质量属性会影响多个质量属性，是权衡点)；  
(g) 网络失效后，系统需要在10秒内发现错误并启用备用系统（描述可用性质量属性)；  
(h) 查询过程中涉及的桥梁与公路的实时状态视频传输必须保证画面具有1024X768的分辨率，40帧/秒的速率（描述性能质量属性)；  
(i) 在系统升级时，必须保证在10个人月内可添加一个新的消息处理中间件（描述可修改性质量属性)；  
(j)系统主站点断电后，必须在3秒内将请求重定向到备用站点（描述可用性质量属性)；  
(k)如果每秒钟用户查询请求的数量是10个，处理单个请求的时间为30毫秒，则系统应保证在1秒内完成用户的查询请求（描述性能质量属性）；  
(1)对桥梁信息数据库的所有操作都必须进行完整记录（描述安全质量属性)；  
(m)更改系统的Web界面接口必须在4人周内完成（描述可修改性质量属性)；  
(n)如果“养护报告生成”业务逻辑的描述尚未达成共识，可能导致部分业务功能模块规则的矛盾，影响系统的可修改性（这是一个潜在的架构风险)；  
(o)系统必须提供远程调试接口，并支持系统的远程调试（描述可测试性质量属性）。  
  
【问题2】  
系统架构风险是指架构设计中潜在的、存在问题的架构决策所带来的隐患。  
敏感点是指为了实现某种特定的质量属性，一个或多个系统组件所具有的特性。  
权衡点是指影响多个质量属性，并对多个质量属性来说都是敏感点的系统属性。  
题干描述中，  
(n)描述的是系统架构风险；  
(d)描述的是敏感点；  
(f)描述的是权衡点。  


## 第2题 ##

【问题1】  
MVC架构包含的三种元素是：模型、视图、控制器。模型负责提供操作数据对象; 视图负责提供用户操作界面；控制器负责按照输入指令和业务逻辑操作数据对象，并产生输出。  
(1) JSP；  
(2) Servlet；  
(3) JavaBean；  
(4) Service；  
(5) DAO。  
  
本题考查软件系统架构设计相关知识及应用。  
此类题目要求考生能够理解软件系统架构设计模式，掌握常用系统架构设计的模型和方法。MVC(模型-视图-控制器）设计模式是一种目前广泛流行的软件设计模式，已经成为JavaEE平台上推荐的设计模式。MVC用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑聚集到一个构件里面，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。MVC强制性地将一个应用的输入、处理和输出流程按照视图、控制器和模型的方式进行分离，形成了控制器、模型和视图三个核心模块。该题目针对高校数字化教育教学资源共享平台的系统需求，主要考查考生对于MVC设计模型和Java EE架构的掌握情况。  
本问题考查考生对MVC设计模式中各个元素的理解和掌握情况。  
MVC模式包含的三种元素是：模型、视图、控制器。模型负责提供操作数据对象; 视图负责提供用户操作界面；控制器负责按照输入指令和业务逻辑操作数据对象，并产生输出。在图2-1中所设计JavaEE软件架构中，与浏览器直接通过HTTP交互的是视图层构件，包括JSP和Servlet,而Servlet一般用来接收用户输入消息，执行业务逻辑操作后转发用户请求，JSP负责组织消息内容并为用户产生响应页面的HTML数据流。对于复杂业务逻辑需要交给控制器构件来完成，Servlet将请求消息转发给后端负责业务逻辑处理的JavaBean进行处理，JavaBean利用数据访问Service所返回的数据响应客户请求。一般对于持久化存储的数据，Service需要调用数据访问持久层的数据模型（DAO)来实现数据的获取和修改。  
  
【问题2】  
EJB构件中的Bean分为：  
（1）Session Bean (会话构件）负责处理客户与服务端交互的业务逻辑；  
（2）Entity Bean (实体构件）表示数据库中存在的业务实体；  
（3）Message Driven Bean (消息驱动构件）用于接收异步JMS消息。  
  
本问题考查考生对Java EE软件架构的掌握情况。  
Java EE架构中的构件主要包括客户端构件和服务端构件，客户端构件包括JSP、Servlet、HTML和客户端显示资源等，服务端构件主要是企业级Java构件EJB, EJB构件中的Bean按照其功能可以分为：  
（1）Session Bean (会话构件）负责处理客户与服务端交互的业务逻辑；  
（2）Entity Bean (实体构件）表示数据库中存在的业务实体；  
（3）Message Driven Bean (消息驱动构件）用于接收异步JMS消息。  
  
【问题3】  
(1) 有状态构件：（a）、（d）  
(2) 无状态构件：（b）、（c）、（e）  
  
本问题考查考生对Java EE架构中会话构件（Session Bean)的掌握情况。  
会话构件负责维护客户端与服务端的交互状态，按照是否跨方法调用保存客户端与服务端的交互状态可以分为有状态（Stateful)会话构件和无状态（Stateless)会话构件，前者在交互过程中需要保存客户端与服务端交互的中间状态数据，一般在实现类中有自身的属性用于存储中间状态数据，无状态会话构件则不需要保存客户端与服务端的交互状态数据，客户端每次发起的请求相互独立，不会对服务端状态产生影响，因此服务端类不需要保存中间状态数据。身份认证构件完成初次身份认证后需要在服务端记录客户端的身份信息，在线编辑构件需要在操作过程中记录前一次编辑的操作结果，所以两者需要设计为有状态会话构件。资源发布、资源检索和统计分析构件对客户端多次请求均保持一致处理过程和结果，所以应设计为无状态会话构件。  


## 第3题 ##

【问题1】  
共同点：ROS和嵌入式实时操作系统都属于嵌入式操作系统中的不同类型，它们在核心操作系统功能、硬件抽象、底层驱动、程序间消息传递等方面存在共同点。  
从实时性方面看，嵌入式实时操作系统关注的是：当外界事件或者数据产生时，能够接受并以足够快的速度予以处理，其处理的结果又能在规定的时间之内来控制生产过程或对处理系统做出快速响应；ROS关注的是：采用点对点设计方法、以服务和节点管理器方式构建系统，便于代码复用，使得执行程序可以各自独立地设计，松散地、实时地组合起来。虽然ROS集成了实时代码，但它本身并不具备实时性。  
从任务通信方面看，嵌入式实时操作系统主要关注单节点内采用信号、事件、消息队列和共享存储等方式实现任务间的通信；ROS是一种多节点跨平台模块化通信机制。它用节点（Node)的概念表示一个任务，不同节点之间通过事先定义好的格式（包括主题（Topic)、服务（Service)、动作（Action)来实现消息通信的。  
  
随着微电子、计算机和计算方法等技术的突飞猛进的发展，人工智能、物联网和机器人已成为当前工业界和科技界广泛讨论的热门话题。机器人技术最先已从科学研究领域走向了工程化实用，而机器人操作系统则是机器人中的关键部件，它管理着机器人的各种行为、状态和资源分配等。  
本考题重点考察考生对当前比较流行的技术的掌握程度，区分传统操作系统知识与机器人操作系统的差异，请考生认真阅读题目对机器人操作系统问题的描述，经过分析、概括等方法，从中分析出题干或备选答案给出含义，正确回答问题中涉及的各类技术要点。  
  
【问题2】  
![833ce028aac243ce841f2ccd3ade81a9.jpg][]  
  
机器人操作系统通常采用了多节点跨平台模块化通信机制。它用节点（Node)的概念表示一个任务，不同节点之间通过事先定义好的格式来实现消息通信的，应用程序间具备主题（Topic)、服务（Service)和动作（Action)三类通信。  
(1) 主题：消息通过一个带有发布和订阅功能的传输系统来传送。一个节点通过把消息发送到一个给定的主题来发布一个消息。主题是用于识别消息内容的名称。一个节点对某一类的数据感兴趣，它只需要订阅相关的主即可，一个主题可能同时有许多的并发主题发布者和主题订阅者，一个节点可以发布和订阅多个主题。一般来说，主题发布者和主题订阅者不知道对方的存在。发布者将信息发布在一个全局工作区内，当订阅者发现该信息是它所订阅的，就可以接收到这个信息。  
(2) 服务：发布/订阅模式是一种很弹性的通信范式。但是其多对多的传输方式是一种不适合于请求/回复交互的方式。请求/回复交互方式经常被用于分布式系统中。请求/ 回复通过服务来进行，其中服务被定义为一对消息结构：一个用于请求，一个用于回复。一个提供节点提供了某种名称的服务，一个客户通过发送请求信息并等待响应来使用服务。机器人客户端库通常把这种交互表现为像一个远程程序调用。但是，基于服务的通信方式存在初期建立通信时，建立速度较慢。  
(3) 动作（action)是ROS提供应用程序间通信的一直较简单的方式，一般用于对某个事件、某个进程以及某个数据状态的监控，如：它可以监控长时间执行的进程。但是，从动作机制上看，设立监控机制比较复杂，需要应用程序间有握手信号。  
  
【问题3】  
(1) 注册 (Registration)  
(2) 数据 (Data)  
(3) 发布 (Publish)  
(4) 订阅 (Subscribe)  
(5) 订阅 (Subscribe)  
  
ROS架构是由多个各自独立的节点（组件）组成，并且各个节点之间可以通过发布/ 订阅（publish/subscribe)消息模型进行通信。例如，我们将一个特定传感器的驱动模块作为一个ROS节点，其将传感器数据发布（publish)到消息流。这些消息可能会被某些节点获取到，例如滤波器、记录器、更高级系统中的应用如导航、路径查找等节点。  
通常，ROS启动于ROS Master。Master允许其他ROS中不同软件片（节点）查找对方或与对方交流。那样，我们就不必指定“发送传感器数据到IP为127.0.0.1的电脑”， 我们只需要简单地告诉Nodel发送消息到Node2。就是说，R0S节点间的数据通信都是以透明方式进行的。  
问题3给出了一个简单机器人结构实例，就是考查考生对发布/订阅技术在ROS系统中的应用掌握程度。设想有一部相机安装在机器人上，我们希望可以从相机中或者笔记本上看到图像，同时让机器人也可以看到这些图像。  
结构实例定义一个Camera Node，用于和相机通信（驱动），一个Image Processing Node运行在机器人上处理图像数据，一个Image Display Node用于将图像显示在屏幕上。开始阶段，所有节点（Node)都要注册到Master上。Master可以认为是一个查询表，各个节点可以查询它要把消息发送到哪个节点。注册到ROS Master后，Camera Node声明它要Publish—个Topic 叫作/image\_data。另外两个节点(Image Processing Node and Image Display Node)声明他们Subscribe这个Topic/image\_data。因此，一旦Camera Node 收到Camera发送的数据，就立即将数据/image\_data直接发送到另外两个节点。  
如果Image Processing Node想主动获取Camera Node收到的数据，ROS定义了Services用于解决这个问题。节点可以在ROS Master上注册一个特定的service,就像注册它的消息(topic)—样。在我们的例子中，Image Processing Node第一次请求/image\_data，Camera Node将收集Camera的数据，然后发送给Image Processing Node。  
考生在理解了上述描述的基础上，就可以很容易补充图3-1中（1）~（5）处给出空白，显然，Image Display Node需要先向Master“注册（1）”，而摄像头是将“数据（2）” 传输到Camera Node; Camera Node收到数据后向外部节点进行图像数据消息“发布（3）”，最后，Image Processing Node和Image Display Node想要接收图像数据信息，必须实现开展“订阅（4）（5）”活动。  


## 第4题 ##

【问题1】  
在线访问方式：在程序中通过数据库提供的程序接口直接访问数据。其优点是灵活，性能高。缺点是需要程序员对数据库有较深了解，同时数据模型的变更会导致相应程序的变更，数据库迁移困难。  
ORM方式：是一种工具或平台，能够提供应用程序中的数据与关系数据库中的记录之间的相互转换，使得程序无须考虑记录，仅考虑对象。优点是简化程序开发，降低了对程序员关于数据库的知识要求，使得程序员可以仅关注于业务逻辑；缺点是不太容易处理复杂查询语句，性能比直接使用SQL要差。  
根据题干说明，原电子商务平台功能简单，没有复杂业务功能，数据访问仅需要提供基本功能即可；软件企业的程序开发人员缺乏数据库开发经验；ORM的方式的数据接口简单清晰，开发周期短，因此采用ORM方式是较好的选择。  
  
本题考查数据库访问接口/数据访问层的基本概念，以及针对实际问题进行相应设计。  
数据库访问接口是指应用程序与数据库之间的连接部分，能够有效降低应用程序与数据库之间连接的开发和维护难度，使得数据库迁移的工作量大大降低。在层次体系架构中，经常将其称为数据访问层  
此类题目要求考生认真阅读题目对现实问题的描述，在了解数据库访问接口基本概念的前提下，针对具体问题，设计合理的数据库访问接口，并能够给出具体的设计理由。  
根据题干说明，新的电子商务平台业务复杂，而且需要访问异构的数据源，也就是说需要访问不同类型的数据库。因此，需要增加新的数据库访问层来封装对数据库的访问，使得在应用程序设计时，不会因为数据库种类的不同而受到影响，尽量做到数据库无关。  
  
【问题2】  
（1）业务构件/业务组件； （2）DAL接口/数据访问接口； （3）DAL工厂/数据访问  
  
数据在线访问模式提高了数据访问的性能，但同时导致了业务逻辑层与数据访问的职责混乱，一旦要求支持的数据库发生变化，或者需要修改数据访问的逻辑，由于没有清晰的分层，会导致项目做大的修改。而随着硬件系统性能的提高，以及充分利用缓存、异步处理等机制，分层式结构所带来的性能影响可以忽略不计。  
根据题干说明，新的电子商务平台业务复杂，而且需要访问异构的数据源，也就是说需要访问不同类型的数据库。因此，需要增加新的数据库访问层来封装对数据库的访问，使得在应用程序设计时，不会因为数据库种类的不同而受到影响，尽量做到数据库无关。变化后的体系结构如图4-2所示。  
![7409e720502a4116b661557e75b58cac.jpg][]  
  
【问题3】  
工厂设计模式定义了创建对象的接口，允许子类决定实例化哪个类，而且允许请求者无须知道要被实例化的特定类，这样可以在不修改代码的情况下引入新类。  
优点是（1）没有了将应用程序类绑定到代码中的要求，可以使用任何实现了接口的类；（2）允许子类提供对象的扩展版本。  
工厂设计模式的应用场景有：（1）类不能预料它必须创建的对象的类；（2）类希望其子类指定它要创建的对象。  
在数据访问层定义采用工程模式，定义统一的操纵数据库的接口，然后根据数据库的不同，由类工厂来决定实例化哪个类。在具体类中实现特定的数据库访问类。这样，就可以实现由客户端指定或根据配置文件来选择访问不同的数据库，从而实现应用程序与数据库无关。  


## 第5题 ##

【问题1】  
响应式Web设计(Responsive Web design)的理念是：页面的设计与开发应当根据用户行为以及设备环境（系统平台、屏幕尺寸、屏幕定向等）进行相应的响应和调整。无论用户正在使用笔记本还是iPad，页面都应该能够自动切换分辨率、图片尺寸及相关脚本功能等，以适应不同设备；即页面应该有能力去自动响应用户的设备环境。响应式网页设计就是一个网站能够兼容多个终端，而不是为每个终端做一个特定的版本。减小为不断到来的新设备做专门的版本设计和开发的工作量。  
响应式Web设计具体的实现方式包括媒体查询（media query)、流式布局（弹性布局、动态布局）、液态图片（弹性图片）等。  
  
本题考查Web系统架构设计相关知识及如何在实际问题中综合应用。  
此类题目要求考生认真阅读题目对现实系统需求的描述，结合Web系统设计相关知识、实现技术等完成Web系统分析设计。  
  
【问题2】  
(1) (d)  
(2) (c)  
(3) (i)  
(4) (a)  
(5) (e)  
(6) (h)  
(7) (g)  
(8) (i)  
  
根据题目说明，综合王工和李工的建议，新构建的电子商务平台应采用增加镜像站点、CDN内容分发，同时结合负载均衡、缓存服务器、Web应用服务器、分布式文件系统、分布式数据库等方法完成系统架构设计。因为根据上述方法的特性和应用场景，可完成题目中给出的5层系统架构图。下面逐一进行分析。  
内容分发采取了分布式网络缓存结构，通过在现有的Internet中增加一层新的网络架构，将网站的内容发布到最接近用户的Cache服务器内，通过DNS负载均衡的技术, 判断用户来源就近访问Cache服务器取得所需的内容，解决Internet网络拥塞状况，提高用户访问网站的响应速度，如同提供了多个分布在各地的加速器，以达到快速、可冗余地为多个网站加速的目的。  
![86b3eaf0bbf9462b9412e932716c9f5a.jpg][]  
  
【问题3】  
避免数据库单点故障：主服务器实时、异步复制数据到从服务器，当主数据库宕机时，可在从数据库中选择一个升级为主服务器，从而防止数据库单点故障。  
提高查询效率：根据系统数据库访问特点，可以使用主数据库进行数据的插入、删除及更新等写操作，而从数据库则专门用来进行数据查询操作，从而将查询操作分担到不同的从服务器以提高数据库访问效率。  
  
分布式数据库系统是在集中式数据库系统的基础上发展起来的，是计算机技术和网络技术结合的产物。分布式数据库系统适合于单位分散的部门，允许各个部门将其常用的数据存储在本地，实施就地存放本地使用，从而提高响应速度，降低通信费用。分布式数据库系统与集中式数据库系统相比具有可扩展性，通过增加适当的数据冗余，提高系统的可靠性。在集中式数据库中，尽量减少冗余度是系统目标之一。其原因是冗余数据浪费存储空间，而且容易造成各副本之间的不一致性，而为了保证数据的一致性，系统要付出一定的维护代价，减少冗余度的目标是用数据共享来达到的。而在分布式数据库中却希望增加冗余数据，在不同的场地存储同一数据的多个副本，其原因是提高系统的可靠性、可用性当某一场地出现故障时，系统可以对另一场地上的相同副本进行操作，不会因一处故障而造成整个系统的瘫痪；提高系统性能系统可以根据距离选择离用户最近的数据副本进行操作，减少通信代价，改善整个系统的性能。  
主从复制、数据分割、数据分片等是实现分布式数据库的主要手段和核心技术。其中，主从复制可以避免数据库单点故障，主服务器实时、异步复制数据到从服务器，当主数据库宕机时，可在从数据库中选择一个升级为主服务器，从而防止数据库单点故障。同时，提高查询效率：根据系统数据库访问特点，可以使用主数据库进行数据的插入、删除及更新等写操作，而从数据库则专门用来进行数据查询操作，从而将查询操作分担到不同的从服务器以提高数据库访问效率。  



[3daafc5dff0948888ab0b8daab30c402.jpg]: https://www.xkxxkx.cn/file/exam/software/系统架构设计师/案例/第1题/3daafc5dff0948888ab0b8daab30c402.jpg
[833ce028aac243ce841f2ccd3ade81a9.jpg]: https://www.xkxxkx.cn/file/exam/software/系统架构设计师/案例/第3题/833ce028aac243ce841f2ccd3ade81a9.jpg
[7409e720502a4116b661557e75b58cac.jpg]: https://www.xkxxkx.cn/file/exam/software/系统架构设计师/案例/第4题/7409e720502a4116b661557e75b58cac.jpg
[86b3eaf0bbf9462b9412e932716c9f5a.jpg]: https://www.xkxxkx.cn/file/exam/software/系统架构设计师/案例/第5题/86b3eaf0bbf9462b9412e932716c9f5a.jpg
