---  
title: 2021年下半年  
# icon: gears  
order: 988  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

【问题1】  
（1） 性能  
（2） 可修改性  
（3）（e）可用性   
（4）（j）性能  
（5）（h）安全性  
（6）（i）可修改  
  
本题是架构案例中的经典题型，问题1难度低，出现的频度高，是要求必须掌握的。  
首先我们需要注意的是：在架构评估中，质量效用树，默认有4大质量属性，分别为：性能、可用性、安全性和可修改性，这个条件题目一般不直接给出，需要考生掌握这个知识背景。所以（1）和（2）只能在性能和可修改性中选择。由于（f）是性能要求，所以（1）填性能，（2）为可修改性。（e）强调了系统出故障限定多长时间切换到备用系统，是典型的系统修复时间限定，属于可用性。（j）强调响应时间，应为性能。（h）强调记录操作并审计，属于安全性。（i）强调做系统修改时，时限要求，为可修改性。  
  
【问题2】  
本题系统中有多个应用场景提到了系统分角色有不同的操作流程与界面，以及在修改扩充系统时，需要能够在限定时间内快速完成任务。基于这样的情况，我们从两方面进行分析：  
解释器：机器学习流程定义的灵活性高，可扩展能力强，因为解释器风格可以通过自定义流程规则及配套流程解释引擎开发，做到用户层面的流程完全定义，而不需要修改代码，所以无论是修改已有的业务流程，还是要扩展不同的角色，创建新角色的流程都非常便利。  
管道过滤器：机器学习流程定义的灵活性较低，可扩展能力较弱，因为管道过滤器是把数据处理职能做成过滤器，把数据传递做成管道，此时如果流程不发生变化，是可以通过这种方式实现的，但一旦流程变化，或是扩展功能，需要对过滤器进行修改调整，或是流程在程序层面重建，此时必须修改代码完成任务。  
隐式调用：机器学习流程定义的灵活性一般，可扩展能力一般，隐式调用强调的是通过间接方式进行调用，如采用事件机制，要完成某个动作时先触发事件，事件与相关动作关联，以提升灵活度，本题中可把角色执行业务的流程用事件触发。这种做法比管道过滤器强，但弱于完全自定义的解释器。  


## 第2题 ##

【问题1】  
常见的反规范化技术包括：  
（1）增加冗余列：增加冗余列是指在多个表中具有相同的列，它常用来在查询时避免连接操作。  
（2）增加派生列：增加派生列指增加的列可以通过表中其他数据计算生成。它的作用是在查询时减少计算量，从而加快查询速度。  
（3）重新组表：重新组表指如果许多用户需要查看两个表连接出来的结果数据，则把这两个表重新组成一个表来减少连接而提高性能。  
（4）分割表：有时对表做分割可以提高性能。  
用户查询商品信息应该采用：增加冗余列。  
用户查询商品信息时，需要显示药品信息（药品表中），供应商信息（供应商表），库存信息（库存表中），此时查询的是药品表，但表中缺了供应商的信息和库存信息，可以通过增加冗余列的方式把这些信息并过来。以避免连接操作带来的查询性能下降。  
  
【问题2】  
针对反规范化数据不一致问题，可采用的解决方案包括：  
1、触发器数据同步  
2、应用程序数据同步  
3、物化视图  
  
【问题3】  
（1）热销药品排名适合用：ZSet，即有序集合类型  
（2）  
1、实时同步方案，先查缓存，查不到再从DB查询，并保存到缓存；更新缓存时先更新数据库，再将缓存设置过期。  
2、异步队列方式同步，可采用消息中间件处理。  
3、通过数据库插件完成数据同步。  
4、利用触发器进行缓存同步。  


## 第3题 ##

【问题1】  
（1）系统管理员  
（2）患者  
（3）（a）注册登录  
（4）-（8）:  
（c）账号管理  
（f）号源管理  
（h）预约管理  
（i）报表管理  
（j）信用管理  
（9）-（12）:  
（b）信息浏览  
（d）预约挂号  
（e）查询与取消预约  
（g）报告查询  
  
【问题2】  
（1）预约人员（患者）  
（2）预约挂号请求  
（3）显示医生可预约时段  
（4）显示预约是否成功  
顺序图强调的是对象交互的时间次序。通信图/协作图强调的是对象之间的组织结构。  
  
【问题3】  
概念：  
对象模型描述了系统的静态结构，一般使用对象图来建模。对象模型是整个体系中最基础，最核心的部分。  
动态模型描述了系统的交互次序，一般使用状态图来建模。  
功能模型描述 了系统的数据变换，一般使用数据流图来建模。  
相互关系：  
对象模型描述了动态模型和功能模型所操作的数据结构，对象模型中的操作对应于动态模型中事件和功能模型中的函数；  
动态模型描述了对象模型的控制结构，告诉我们哪些决策是依赖于对象值，哪些引起对象的变化，并激活功能；  
功能模型描述了由对象模型中操作和动态模型中动作所激活的功能，而功能模型作用在对象模型说明的数据上，同时还表示了对对象值的约束。  


## 第4题 ##

【问题1】  
网关管理：云平台更强，可以实现远程网关管理，可以对不同地点的多种设备进行统一管理，管理能力更强。  
数据处理：数据一般经由网关传递到云上数据库中，再进行处理，这样对数据进行分析、挖掘更便利，同时存储在云端，数据更安全，有容灾能力。  
系统性能：数据存在云上数据库中，通信效率更高，同时云也有更强的数据处理能力，所以会更高效。  
  
【问题2】  
（1）（h）用户终端  
（2）（i）鸿蒙  
（3）（f）云平台  
（4）（d）数据库  
（5）（e）家庭网关  
（6）（c）驱动程序  
  
【问题3】  
该系统应采用TCP协议，这样才能保障用户终端和服务端之间的双向可靠通信。  
TCP是一种面向连接的、可靠的、基于字节流的传输层通信协议。TCP之所以可靠，是因为建立连接时有3次握手，通信时有回应机制，所以丢了包，能重传以保障通信可靠性。  
UDP是一种面向无连接的传输层通信协议，丢了包不会重传，所以不能保障通信可靠性。  

