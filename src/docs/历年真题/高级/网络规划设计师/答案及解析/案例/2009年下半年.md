---  
title: 2009年下半年  
# icon: gears  
order: 1000  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

【问题1】  
(a)网络可用性为：((12-5)+10)/24×100%~70.83%  
(b)![9f425cc78a1d4af59df01528757d3465.jpg][]  
  
本题是一个典型的规划设计案例，涉及网络分析与设计过程的需求分析、逻辑网络设计、物理网络设计。  
(a)可用性是指网络或网络设备(如主机或服务器)可用于执行预期任务时间所占总量的百分比，通常是无故障运行时间与网络总运行时间的比值。  
在实际网络工程中，可用性也用于衡量一个网络的实际使用情况，常用的计算方法是网络实际使用时间与网络总运行时间的比值。  
((12-5)+10)/24×100%≈ 70.83%  
(b)计算出应用需要传递信息的速率，可以根据公式：应用总信息传输速率=平均事务量大小×每字节位数×每个会话事务数×平均用户数/平均会话长度：在实际网络工程设计中，为保证峰值情况下网络能够正常运行，可以用峰值用户数代替平均用户数进行计算；同时在考虑了增长量后，该公式修改为：应用总信息传输速率=平均事务量大小×每字节位数×每个会话事务数×峰值用户数×(1+增长量)/平均会话长度。  
根据各类应用的需求调查情况，可以形成如下内容：  
![764d737532054c968e7299e34a2911ff.jpg][]  
根据以上值，计算各类应用的总流量为：  
车辆监控调度：0.00007×8×5000×(1+20%)/10=0.336Mbps  
办公和集团营运业务：0.5×8×2×2000×(1+200%)/600=80Mbps  
场站视频监控：0.28×250×(1+100%)=800Mbps  
因特网访问：0.6×8×2×200×(1+300%)/600=12.8Mbps  
  
【问题2】  
![95315a342fa84edf8230931599e8df6a.jpg][]  
  
在通信规范分析中，最终的目标是产生通信量，其中必要的工作是分析网络中信息流量的分布问题。在整个过程中，需要依据需求分析的结果来产生单个信息流量的大小，依据通信模式、通信边界的分析，明确不同信息流在网络不同区域、边界的分布，从而获得区域、边界上总信息流量。  
对于部分较为简单的网络，可以不需要进行复杂的通信流量分布分析，仅采用一些简单的方法，例如80/20规则、20/80规则等。  
根据题设约定的应用上下行流量分布，各应用的分析情况如下：  
![7915c78e30a14ed99718d27b7ae47638.jpg][]  
再根据各分公司的流量比例，计算出集团局域网和各分公司局域网之间的流量分布情况如下。  
(1)箱监控调度：  
总部至一、三、四公司下行：0.336/5=0.0672 Mbps  
总部至二公司下行：0.336×2/5=0.1344 Mbps  
(2)办公和集团营运业务：  
总部至各分公司下行：80×0.8/4=16 Mbps  
各分公司至总部上行：80×0.2/4=4 Mbps  
(3)场站视雛控：  
总部至一、三、四公司上行：800×0.2/5=32 Mbps  
总部至二公司上行：800×0.2×2/5=64 Mbps  
(4)因特网访问：  
总部至各分公司下1亍：12.8×0.8/4=2.56 Mbps  
各分公司至总部上行：12.8×0.2/4=0.64 Mbps  
(5)流鮮算：  
一公司上行：4+32+0.64=36.64 Mbps  
一公司下行：0.0672+16+2.56=18.6272 Mbps  
二公司上行：4+64+0.64=68.64 Mbps  
二公司下行：0.1344+16+2.56=18.6944 Mbps  
三、四公司与一公司流量相同。  
  
【问题3】  
(a)该逻辑网络结构的冗余性分析：  
•在核心路由器和汇聚路由器之间，实现了线路的冗余；  
•网络的核心设备实现了设备冗余。  
逻辑网络结构存在的故障单点：  
•防火墙是故障单点，一旦出现故障，则整个企业网络不能访问外部网络；  
•各分公司的路由器是故障单点，一旦出现故障，整个分公司无法访问企业网络；  
•分公司和场站之间的线路、场站的路由器是故障单点，一旦出现故障，场站网络将无法访问企业网络。  
(b)RIPv2  
IGRP  
  
(a)冗余度是另一个在网络设备和系统设计与实施中需要考虑的因素，主要通过在网络设计中通过增加冗余设备、冗余线路等方式来避免设备或线路失效对网络产生影响。随着计算机网络技术的发展，冗余度也不再仅局限于设备和线路层次，更多的冗余度开始体现到网络设备的模块、部件层次，目前在网络设计中，为关键网络设备添加冗余处理引擎、冗余电源等方式已经成为常见的技术手段。  
在公交企业网络中，集团内部的核心局域网络和分公司局域网络之间通过路由器互连，每个分公司局域网络的汇聚路由器都存在两条链路和核心局域网络的核心路由器互连；两条链路都处于使用状态，无论是釆用热备方式还是负载均衡方式，在任何一条链路出现故障后，分公司局域网络都能够继续完成和核心局域网络的通信。  
另外，网络中存在两台核心交换机，当运行HSRP或者VRRP协议时，两台交换机工作在热备方式，甚至是互为热备方式，任何一台交换机出现故障，网络中的服务器仍然可以对网络用户提供服务；网络中存在两台核心路由器，都参与路由运算，任何一台路由器出现故障，都会触发路由算法进行路由重新计算，从而在分公司局域网和核心局域网之间形成新的路径。因此，网络中的所有网络设备出现故障，都不会导致网络出现故障而影响应用。  
该企业的逻辑网络中还存在一些缺陷，一旦发生故障，会导致网络出现一些异常：  
(1)防火墙是整个公交企业网络访问因特网的关键设备，一旦该设备出现故障，就会导致整个公交企业网络与因特网断开，企业网络内的用户无法访问因特网的任何资源。  
(2)各分公司的局域网络通过一台汇聚路由器连接至核心路由器，一旦分公司的汇聚路由器出现故障，就使得分公司局域网与整个企业网络断开，导致分公司用户无法访问企业网络和因特网资源。  
(3)每个分公司场站的局域网通过一个接入路由器和一条链路连接至分公司的汇聚路由器，无论是接入路由器还是链路出现故障，都会导致场站局域网和企业网络断开，场站的用户将无法访问企业网和因特网资源。  
(b)RIP和RIPv2使用跳跃数来选择最优路径，IGRP通过把跳跃数与带宽、延迟、可靠性和负载合成考虑，从而提高了选择最优路径的能力。  
IP不支持等开销路径上的负载均衡，但是RlPv2则在等开销路径上对同一个目的网或子网的报文进行负载平衡。  
IGRP对去同一目的网络或子网的报文也可以实施等代价路径的负载平衡，这种负载平衡是以时间片轮转的方式工作的。  


## 第2题 ##

【问题1】  
router ospf 1  
network 10.192.0.0  0.1.255.255 area 2  
或者  
router ospf 1  
network 10.192.0.0 0.0.255.255 area 2  
network 10.193.0.0 0.0.255.255 area 2  
  
本题是一个典型的网络配置案例，主要涉及OSPF路由算法的配置。  
关于创建0SPF进程，并配置进程与网络接口关联的相关命令如下。  
(注：以下的命令介绍中，黑体部分是命令关键字，斜体部分是可填充的命令参数)  
(1)配置命令一：router ospf process-id。  
定义router ospf及其后的process-id号，可以启动一个使用指定process-id的OSPF路由协议进程，该值并不用于标识不同的OSPF自治系统，而仅仅是一个进程号。通过为每个进程使用唯一的process-id，多个OSPF进程能够在任何给定的路由器上执行。  
(2)配置命令二：network address wildcard-mask area area-id。  
定义的OSPF进程必须与路由器上的一个活跃IP接口相关联，以便OSPF能够开始创建邻居邻接关系和路由表。  
address参数可以是接口的IP地址、子网或者0SPF路由所用接口的网络地址；  
wildcard-mask参数为网络掩码的反码；  
area-id参数是区域号码。  
当路由器接口的IP地址属于address、wildcard-mask参数所确定的子网时，该接口在活跃状态时将与OSPF相关联。  
  
【问题2】  
(a)ip ospf priority 0  
(b)设置路由器 R4 接口Fa1/0的ip ospf priority 值高于路由器 R5 接口Fa0/0  
(c)将路由器 R4 接口Fa1/0和路由器R5接口Fa0/0的ip ospf priority 值设置为相等，将路由器R4的loopback接口地址设置为高于路由器R5的loopback接口地址  
(注：b和c答案的顺序可以互换)  
  
在一个OSPF路由体系中，若干个路由器可能都通过各自的网络接口连接至一个广播网络中，在这个广播网络上可以预先确定DR(指派路由器)和BDR(备份指派路由器)。在这种方式下，OSPF将启用精简的链路状态更新报文，LSA只能传送到己分配的DR和BDR路由器，可以有效避免链路状态更新报文自身的广播。同时，也可以有效避免由于所有路由器都有条件做为DR，而产生的“选举风暴”。  
在产生了DR和BDR之后，一旦DR失效，则BDR会自动成为DR。DR选择处理过程通过发现在OSPF广播网络上的哪个路由器具有最高路由器优先级来实现，而由OSPF广播网络中的路由器提供的次高路由器优先级值为BDR。使用接口命令ip ospf priority设定路由器优先级，该命令的格式如下：  
ip ospf priority number  
number参数值取值范围是0~255，其中0是默认值，255是所允许的最高值。当路由器某接口的ip ospf priority值为0，则表明该路由器在接口所连接的广播网络中没有条件作为DR，从而不会参与到选择过程。在DR选择过程中，决定两个路由器接口优先级的规则如下：  
(1)如果路由器A连入广播网接口的ip ospf priority高于路由器B的连入接口，则A优先级高于B；  
(2)如果路由器A和路由器B连入广播网接口的ip ospf priority值相同，则由两台路由器的lookback接口地址的大小来决定路由器A与B的优先级。  
  
【问题3】  
OSPF虚链路提供了一条从断开区域到主干区域的逻辑通路。  
虚链路具有多种用途，第一种用途是连接一个没有物理连接的远程区域到主干区域，第二种用途是添加一个连接到一个断开的主干区域，第三种用途是当一个路由器失效引起主干区域分隔时提供冗余。  
连接断开区域的逻辑通路必须是在这样两个路由器上定义的虚链路：这两个路由器共享公共的区域，并且其中一个路由器必须连接到主干区域。  
配置虚拟链路的命令格式如下：  
![6f9347120f0d4dbea3ea75bcf198f744.jpg][]  
area-id参数是十进制数或IP地址点分十进制格式的标识符，用以标识某个区域，该区域作为虚链路的转接区域，即两个路由器的共享区域；  
router-id参数是端点的路由器ID，通常是回送接口的地址，路由器定义的虚链路到该端点；  
关键字hello-interval的参数seconds默认值为10s，指定路由器在虚链路上发送Hello报文之间等待的时间秒数；  
关键字retransmit-interval的参数seconds默认值为5s，该值指定重传LSA到邻接路由器的时间间隔，以秒为单位；  
关键字transmit-delay的参数seconds默认值为1s，该值指定LSU报文在传送到虚链路上之前的生存时间值；  
关键字dead-interval的参数seconds默认值为Hello间隔的4倍，以秒为单位，它是在路由器没有从虚链路的远端接收到Hello报文的期满时间，以便声明远端路由器故障；  
关键字authentication-key的参数key值是发往远端虚链路的Hello报文中使用的口令，用以认证远端路由器。  
通常情况下，只需设置“area area-id virtual-link router-id”部分即可。  


## 第3题 ##

【问题1】  
(a)  
•该板卡支持STM-1155Mbps的通道化POS(Channelized POS，CPOS)接口，也就是可以对155M的STM-1进行时隙划分成若干电路；  
•电路划分的细粒度为E1；  
•同时支持将多个E1电路绑定成逻辑链路。  
(b)一个STM-1的CPOS接口最多可以划分为63个E1电路。由于要求公司总部和4个分支机构之间带宽相等，因此理论上每个逻辑链路最多由15个E1电路绑定。最大带宽为2.048×15=30.71Mbps。  
  
本题是一个典型的升级改造案例，涉及现有网络缺点分析、改造设计和设备利用等知识。  
SDH(Synchronous Digital Hierarchy，同步数字系列)是CCITT(现在的ITU-T)定义的，采用同步复用方式和灵活的映射结构，可以从SDH信号中直接分插出低速的支路信号，而不需要使用大量的复接/分接设备，从而能够减少信号损耗和设备投资。  
为方便地从高速信号中直接分/插低速支路信号，应尽可能使低速支路信号在一帧内均匀地、有规律地分布。ITU-T规定STM-N的帧采用以字节为单位的矩形块状结构，如下图所示。  
![2230d66780924849806d5a04ae76e49f.jpg][]  
STM-N是9行×270×N列的块状帧结构，此处的N与STM-N的N相一致，取值范围为1，4，16，…，表示此信号由N个STM-1信号复用而成。STM-1帧为9行×270列的结构，其中前10列为开销，后260列为净负荷，STM-1的速率为155.52Mbps。  
由于SDH的最低速率STM-1也大于155Mbps，无法应对用户提出的细粒度带宽需求，因此允许传统的数字载波体系一一E标准和T标准体系，将SDH体系做为传输承载层，采用同步时分复用方式，向用户提供低速带宽链路服务。  
当把SDH信号看成由低速信号复用而成时，这些低速支路信号就称为通道。而CPOS是通道化SDH/SONET接口模块的简称，其中C表示Channelized，POS表示Packet Over SDH/Sonet。它充分利用了SDH体制的特点，提供对带宽精细划分的能力，可减少组网中对路由器低速物理接口的数量要求，增强路由器的低速接口汇聚能力，并提高路由器的专线接入能力。  
CPOS接口具有如下特性：  
(1)CPOS支持STM-1/OC-3多通道接口模块，支持155.52Mbps的通信速率。  
(2)CPOS接口卡分为CPOS(E)和CPOS(T)两种型号，其中CPOS(E)接口卡支持E标准制式，而CPOS(T)接口卡支持T标准制式。  
(3)CPOS接口模块通过PCI接口与CPU进行通信，完成STM-1通道化POS接口数据的收发。  
(4)STM-1 CPOS接口支持净通道(非成帧)E1(最多63个)或T1(最多84个)。  
(5)STM-1支持非通道化(成帧)E1(最多63个)或T1(最多84个)。  
(6)STM-1支持通道化到64K，但是最多256个逻辑通道。  
在目前的实现中，CPOS接口多实现E1、T1向STM-1的复用，我国SDH体制选用的是E1、T1向STM-1的复用；CPOS通道化E1支持净通道(clear channel，又称为非成顿模式，unframed)和非通道化(unchannelized)两种工作模式。在净通道模式下，E1通道不分时隙，形成一个速率为2.04&Mbps的串口(相当于一个2.048Mbps的同步串口)。在非通道化模式下，E1通道除时隙0以外的31个时隙可以捆绑为一个串口使用(相当于一个E1-F端口)。  
在骨干网的核心路由器上使用一个155M CPOS模块，配置为通道化至E1，连接到SDH传输网，与汇聚层路由器所用的E1接口相连。也可根据需要对E1口进行捆绑，提高汇聚层设备的接入带宽。  
  
【问题2】  
具有如下优势：  
(1)各路由设备之间采用全互联结构，保证任何两条链路中断，所有路由设备之间可以互访； '  
(2)不存在设备级的单点故障，任何设备的损坏不影响网络的运行；  
(3)两台多层交换机之间可以运行HSRP、VRRP和GLBP等冗余网关协议，保证一台交换机出现故障时，服务器可以继续提供服务；  
•借助于路由算法、策略路由等技术，可以实现网络流量的负载均衡。  
  
在对网络设备进行添置前后，服务器和接入路由器与核心设备的连接方式将发生改变，如下图所示。  
对两种结构的分析如下：  
(1)在新结构中，多层交换机、核心路由器分别存在两台，并且每台核心设备与其他核心设备都存在链路，七成了核心设备化全互联结构(Fullmesh)。在当前案例中，两条以下的链路失效不会导致网络的瘫痪。  
(2)当任何一台核心多层交换机失效之后，另外一台核心交换机仍可以处于工作状态，服务器的访问流量将由活跃的核心多层交换机承担；当任何一台核心路由器失效之后，动态路由算法将修改路径信息，使得活跃的核心路由器承载下级网络访问核心局域网络的流量。因此任何一台核心设备的失效都不会导致网络瘫痪。  
![3efa86d5e3574e9197a670e05e9e3610.jpg][]  
(3)由于网络中存在两台核心多层交换机，因此可以在这两台交换机之间加载冗余网关协议，例如HSRP、VRRP和GLBP等。当使用HSRP、VRRP协议时，对于局域的默认网关地址来说，一台交换机主用，一台交换机备用，可以通过为核心局域网设立两个默认网关地址方式实现两台交换机的负载均衡；当使用GLBP协议时，协议会自动实现交换机的负载均衡。  
(4)由于网络中存在两台核心交换机，因此下级网络的接入路由器至核心路由器就存在两条链路，通常情况下一条为主用链路，一条为备用链路。如果主用链路和备用链路带宽等不相同，可以通过交叉互连方式实现核心路由器的负载均衡；如果主用链路和备用链路带宽等相同，就可以釆用RIPv2、IGRP等路由协议实现等开销路径上的负载均衡。  
  
【问题3】  
存在两种工作方式：  
(1)子接口方式。路由器千兆以太网络接口划分成若干的逻辑子接口，传输设备将不同分支路由器的捆绑E1电路上的数据帧映射至不同的子接口，核心路由器通过逻辑子接口来确定数据帧的来源路由器。  
(2)VLAN方式。路由器和传输设备的千兆以太网接口都工作在VLAN Trunk模式下，传输设备将不同分支路由器的捆绑E1电路上的数据帧映射至不同的VLAN中，路由器千兆接口利用接收到数据帧的VLAN标签来决定该数据帧的来源路由器。  
  
总部的核心路由器千兆以太口与传输设备千兆以太口之间可能存在的工作机制主要包括两种：子接口方式和VLAN方式，其分析详见参考答案。  



[9f425cc78a1d4af59df01528757d3465.jpg]: https://www.xkxxkx.cn/file/exam/software/网络规划设计师/案例/第1题/9f425cc78a1d4af59df01528757d3465.jpg
[764d737532054c968e7299e34a2911ff.jpg]: https://www.xkxxkx.cn/file/exam/software/网络规划设计师/案例/第1题/764d737532054c968e7299e34a2911ff.jpg
[95315a342fa84edf8230931599e8df6a.jpg]: https://www.xkxxkx.cn/file/exam/software/网络规划设计师/案例/第1题/95315a342fa84edf8230931599e8df6a.jpg
[7915c78e30a14ed99718d27b7ae47638.jpg]: https://www.xkxxkx.cn/file/exam/software/网络规划设计师/案例/第1题/7915c78e30a14ed99718d27b7ae47638.jpg
[6f9347120f0d4dbea3ea75bcf198f744.jpg]: https://www.xkxxkx.cn/file/exam/software/网络规划设计师/案例/第2题/6f9347120f0d4dbea3ea75bcf198f744.jpg
[2230d66780924849806d5a04ae76e49f.jpg]: https://www.xkxxkx.cn/file/exam/software/网络规划设计师/案例/第3题/2230d66780924849806d5a04ae76e49f.jpg
[3efa86d5e3574e9197a670e05e9e3610.jpg]: https://www.xkxxkx.cn/file/exam/software/网络规划设计师/案例/第3题/3efa86d5e3574e9197a670e05e9e3610.jpg
