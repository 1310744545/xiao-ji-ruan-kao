---  
title: 2009年上半年  
# icon: gears  
order: 1000  
category:  
- 历年真题  
tag:  
- 真题  
  
# navbar: false  
# sidebar: false  
  
# breadcrumb: false  
# pageInfo: false  
# contributors: false  
# editLink: false  
# lastUpdated: false  
# prev: false  
# next: false  
comment: false  
# footer: false  
  
# backtotop: false  
---  
## 第1题 ##

【问题1】  
E1：财务部门 E2：采购部门  
E3：连锁超市 E4：配送部门  
D1；采购清单记录文件 D2：商品库存记录文件  
D3：商品配送记录文件 D4：供货请求记录文件  
  
本题考査DFD的分析与设计，问题一主要考査DFD中的外部实体和数据存储，由于在题干中已经提到“系统接收由连锁超市提出的供货请求，并将其记录到供货请求记录文件”，因此可以明确出“连锁超市”外部实体和“供货请求记录文件”数据存储；对应到DFD图中为E3和D4。描述中的第二项提出“从商品库存记录文件中进行商品库 存信息查询。如果库存满足供货请求，则给配送处发送配送通知；否则，向釆购部门发出缺货通知”，因为配送通知需要发送到采购部门，因此采购部门将成为系统的外部实体； 同时，商品库存记录文件能够提供库存信息，所以DFD图中E2和D2分别为采购部门和商品配送记录文件。第三项需求“配送处理接到配送通知后，査询供货请求记录文件，更新商品库存记录文件，并向配送部门发送配送单，在配送货品的同时记录配送信息至 商品配送记录文件”，所以配送处理需要查询供货请求记录文件，更新商品库存记录文件与商品配送记录文件，因此D3为商品配送记录文件；采购处理需要记录采购清单同时通知财务部门，所以E1应该为财务部门，D1为采购清单记录文件，剩下的E4则为配送部门。  
DFD中出现的错误数据流为：E1到E2, E1与E2的数据流不属于系统的范围；D3 到E4,多余的数据流；D2到采购处理，数据流方向错误；D4到供货请求处理，数据流方向错误。  
需要补充的数据流为：E2到采购处理，因为E2是采购部门，采购部门需要给采购处提供入库商品信息；采购处到D2需要一条数据流，因为釆购处理需要更改库存信息；供货请求处理到D4需要一条数据流，因为供货请求处理需要记录供货请求信息。  
  
【问题2】  
![31d9b9e6c4ba45db951fd0209b86b85c.jpg][]  
本题考査DFD的分析与设计，问题一主要考査DFD中的外部实体和数据存储，由于在题干中已经提到“系统接收由连锁超市提出的供货请求，并将其记录到供货请求记录文件”，因此可以明确出“连锁超市”外部实体和“供货请求记录文件”数据存储；对应到DFD图中为E3和D4。描述中的第二项提出“从商品库存记录文件中进行商品库 存信息查询。如果库存满足供货请求，则给配送处发送配送通知；否则，向釆购部门发出缺货通知”，因为配送通知需要发送到采购部门，因此采购部门将成为系统的外部实体； 同时，商品库存记录文件能够提供库存信息，所以DFD图中E2和D2分别为采购部门和商品配送记录文件。第三项需求“配送处理接到配送通知后，査询供货请求记录文件，更新商品库存记录文件，并向配送部门发送配送单，在配送货品的同时记录配送信息至 商品配送记录文件”，所以配送处理需要查询供货请求记录文件，更新商品库存记录文件与商品配送记录文件，因此D3为商品配送记录文件；采购处理需要记录采购清单同时通知财务部门，所以E1应该为财务部门，D1为采购清单记录文件，剩下的E4则为配送部门。 DFD中出现的错误数据流为：E1到E2, E1与E2的数据流不属于系统的范围；D3 到E4,多余的数据流；D2到采购处理，数据流方向错误；D4到供货请求处理，数据流方向错误。需要补充的数据流为：E2到采购处理，因为E2是采购部门，采购部门需要给采购处提供入库商品信息；采购处到D2需要一条数据流，因为釆购处理需要更改库存信息；供货请求处理到D4需要一条数据流，因为供货请求处理需要记录供货请求信息。  


## 第2题 ##

【问题1】  
（图中的m、n也可用\*表示，对联系名称可不做要求，但不能出现重名）  
![acf15bf67b5f462291404c3e806f7d0d.jpg][]  
  
由“每个商场包含有不同的部门”可知商场与部门间为1:m联系；由“每个部门雇用了多名员工处理日常事务”可知部门与员工间为1:n联系；由“每个部门的员工中有一个经理……每个经理只能管理一个部门”可知部门与经理间为1:1联系，并且员工是经理的超类型，经理是员工的子类型。  
  
【问题2】  
(a) 商场编号  
(b) 部门编号  
(c) 员工编号  
部门关系模式的主键：部门编号 外键：商场编号  
员工关系模式的主键：员工编号 外键：部门编号  
经理关系模式的主键：员工编号 外键：员工编号  
  
商场的属性信息中，商场编号由集团公司分配，不会重复，可作为商场的主键属性； 部门的属性信息中，部门编号由集团公司分配，不会重复，可作为部门的主键属性，商场与部门的联系需要通过将商场的主键（商场编号）加入到部门中来表达；员工的属性信息中，员工编号由集团公司分配，不会重复，可作为员工的主键属性，部门与员工的联系需要通过将部门的主键（部门编号）加入到员工中来表达；经理除了包含员工的属性信息外，还需要任职时间属性。完整的关系模式如下：  
商场（商场编号，商场名称，地址，联系电话）  
部门（部门编号，部门名称，位置分布，联系电话，商场编号）  
员工（员工编号，姓名，岗位，电话号码，工资，部门编号）  
经理（员工编号，任职时间）  
  
【问题3】  
(d) 紧急联系人  
(e) 1:n  
关系模式：紧急联系人（员工编号，姓名，联系电话）  
  
员工的紧急联系人信息通过添加紧急联系人关系来实现，由“每位员工必须且只能登记一位紧急联系人的姓名和联系电话”，但可能存在多位员工登记同一位家属，可知员工与家属间为n:1联系；由“不同员工可以登记相同的紧急联系人”可知，员工编号可作为家属的主键属性。所以需要添加的关系模式如下：  
紧急联系人（员工编号，姓名，联系电话）  


## 第3题 ##

【问题1】  
A1：Customer  
A2：Bank  
U1：Session  
U2: Invalid PIN Process  
U3：Transaction  
(1)： «extend»  
  
构建用例图时，常用的方式是先识别参与者，然后确定用例以及用例之间的关系。识别参与者时，考查和系统交互的人员和外部系统。本题中，与系统交互的人员包括客户（Customer)和银行操作员（Operator),与本模拟系统交互的外部系统包括银行。系统（Bank)。  
考查用例时，通过判断哪一个特定参与者发起或者触发了与系统的哪些交互，来识别用例并建立和参与者之间的关联。考查用例之间的关系时，《include&gt;&gt; (包含）定义了用例之间的包含关系，用于一个用例包含另一个用例的行为的建模；如果可以从一个用例的执行中，在需要时转向执行另一个用例，执行完返回之前的用例继续执行，用例 间即存在《extend》关系。  
本题中，客户一旦插卡成功，系统就创建会话（Session),会话中可以执行用户从菜单选择的 Withdraw、Deposit、Transfer 和Inquire 等事务（Transaction)。由图中U3 和 Withdraw之间的扩展关系，可知U3为Transaction;又由U1和U3之间的《include》关系，得知U1为Session,进而判定图中A1为Customer, A2为Bank。每个事务处理 也会将卡号和个人验证码信息送到银行系统进行验证，若个人验证码错误，则转个人验证码错误处理（Invalid PIN Process，图中U2)，所以（1）处应填《eitend》。  
  
【问题2】  
6：readPIN()  
7：PIN  
8：creat(atm, this, card, pin)  
9：performTransaction()  
  
序列图是场景的图形化表示，描述了以时间顺序组织的对象之间的交互活动。构造序列图时遵循如下指导原则：确定顺序图的范围，描述这个用例场景或一个步骤；绘制参与者和接口类，如果范围包括这些内容的话；沿左手边列出用例步骤；对控制器类及必须在顺序中协作的每个实体类，基于它拥有的属性或已经分配给它的行为绘制框；为持续类和系统类绘制框；绘制所需消息，并把每条消息指到将实现响应消息的责任的类上；添加活动条指示每个对象实例的生命期；为清晰起见，添加所需的返回消息；如果需要，为循环、可选步骤和替代步骤等添加框架。  
本题中，根据说明中的描述，从ATM机判断卡已插入（cardlnserted())开始会话， 即为当前ATM创建会话（create(this))并开始执行会话（performSession());读卡器读 卡（readCard())获得ATM卡信息（card),然后从控制台读取个人验证码输入（readPIN(), 图中标号6处）并获得个人验证码信息（PIN，图中标号7处)；然后根据用户选择启动并执行事务，即为当前会话创建事务（creat(atm，this，card，pin)，图中标号8处）和执行事务（performTransaction()，图中标号9处)；可以选择继续执行某个事务（doAgain) 循环，或者选择退卡（ejectCard())。  
  
【问题3】  
Transaction是一个抽象泛化用例，具有其他事务类型共有的属性和行为，每个具体的事务类型继承它，并实现适合自己的特定的操作。  
  
用例之间的继承关系表示子类型“是一种”父类型。其中父类型通常是一个抽象泛化用例，具有子类型共有的属性和行为，每个具体的子类型继承它，并实现适合自己的特定的操作。  
本题中Transaction和Withdraw、Deposit等四个用例之间的关系即为继承关系，Transaction即是一个抽象泛化用例，具有其他事务类型共有的属性和行为，每个具体的事务类型继承它，并实现适合自己的特定的操作。  


## 第4题 ##

【问题1】  
![3e09d1fa3e194937865ffbdf6a2709f7.jpg][]  
  
![6daae2d018be45dcbffeb6a468d115e0.jpg][]  
  
【问题2】  
(7) O(n3)  
  
本问题考查【问题1】中的伪代码第2~8行，计算任意两点之间的最短路径，有三重循环，故时间复杂度为O(n3)。第9~12行，计算每个点到任意其他点的最短路径之和，有两重循环，故时间复杂度为O(n2)。第15~18行，在所有点的最短路径之和中找到最小的最短路径之和，时间复杂度为O(n)。故算法总的时间复杂度为O(n3)。  


## 第5题 ##

【问题1】  
(1) ptr != NULL,或 ptr !=0，或 ptr  
(2) q-&gt;link = stacktop  
(3) ptr-&gt;1child  
(4) stacktop = stacktop-&gt;link.或 stacktop = q-&gt;link  
(5) q-&gt;elem-&gt;rchild  
  
本题考查基本数据结构和C语言程序设计能力。  
对非空二叉树进行中序遍历的方法是：先中序遍历根节点的左子树，然后访问根节点，最后中序遍历根节点的右子树。用递归方式描述的算法如下：  
![dde68b11c362448493253c1fd70e201d.jpg][]  
从以上算法的执行过程可知，从树根出发进行遍历时，递归调用In\_Order\_ Traversing(root-&gt;LeftChild)使得遍历过程沿着左孩子分支一直走向下层节点，直到到达二叉树中最左下方的节点（设为f)的空左子树为止，然后返回f节点，再由递归调用 In\_Order\_Traversing(root-&gt;RightChild)进入f的右子树，并重复以上过程。在递归算法执行过程中，辅助实现递归调用和返回处理的控制栈实际上起着保存从根节点到当前节点的路径信息。  
用非递归算法实现二叉树的中序遍历时，可以由一个循环语句实现从指定的根节点出发，沿着左孩子分支一直到头（到达一个没有左子树的节点）的处理，从根节点到当前节点的路径信息（节点序列）可以明确构造一个栈来保存。  
本题目的难点在于将栈的实现和使用混合在一起来处理，而且栈采用单链表存储结构。下面分析题中给出的代码。  
空（1）是遍历的条件之一，由于另外一个条件stacktop != NULL初始时是不成立的， 因此空（1）所表示的条件必须满足，由于是对非空二叉树进行遍历，显然该条件代表二叉树非空，即ptr != NULL或其等价表示形式。  
临时指针ptr初始时指向整个二叉树的根节点，此后用以下代码表示一直沿左孩子指针链向下走的处理，临时指针q用于在链栈中加入新元素时使用。处理思路是：若当前节点有左子树，则将当前节点的指针存入栈中，然后进入当前节点的左子树。入栈时，先申请元素在链栈中的节点空间，然后设置节点数据域的值（即当前节点的指针)，最后将新申请的节点加入链栈首部。  
![becf74ae144341458fb58df1f1646b26.jpg][]  
当上述过程进入一棵空的子树时（ptr为空指针)，循环结束。此后，应该从空的子树返回其父节点并进行访问。由于进入空的左子树前已将其父节点指针压入栈中，因此,栈顶元素即为该父节点，对应的处理就是弹找。相应地，在链栈中要删除表头节点并释放节点空间：  
![48f8c102e6c3471cadddd52fdd5f96d4.jpg][]  
  
  
由于还需要通过q指针进入被删除节点的右子树，因此，释放节点空间的操作free(q) 操作之前，使ptr指向q所指节点的右子树指针，以得到被删除节点的数据域信息，即空（5）所在语句 ptr =  q-&gt;elem-&gt;rchildo  
指针是C语言中灵活且非常强大的工具，是否熟练掌握C语言的判断条件之一就是对指针的理解和使用。软件设计师需要熟练掌握这些内容。  


## 第6题 ##

【问题1】  
(1) this-&gt;imp  
(2) ImageImp  
(3) imp-&gt;doPaint(m)  
(4) newBMP()  
(5) new WinImp()  
(6) image 1 -&gt;setImp(imageImp1)  
(7) 17  
  
根据题目描述，在设计该图像显示系统时主要分为两个步骤：一是读取各种文件并将文件内容转换成像素矩阵，因为各种图片格式不同，因此需要针对每一种图片格式编写文件读取代码，而该代码与操作系统平台无关。将像素矩阵显示到屏幕上时，由于和操作系统相关，因此需要把该代码和读取文件代码相分离。设计中的Image类表示抽象的图像概念，Image类中就包含了读取文件接口和设置实现平台接口；Image的子类BMP、GIF和JPEG分别负责读取各种不同格式的文件；ImageImp的主要任务是将像素矩阵显示在屏幕上，因此，它存在两个子类，分别实现Windows系统和Linux系统上的图像显示代码。空缺（1）处主要是设置将在哪个平台上进行实现，因此该处应该存储参数所传递的对象，由于该类的成员变量也是imp，与参数相同，因此需要填写this-&gt;imp;同理，该成员变量的类型和参数的类型应该保持相同，空（2）处应该填写ImageImp;空（3） 处需要根据imp成员变量存储的实现对象来显示图像；在空（4）处需要生成一个BMP 对象；由于需要在Windows平台上实现，因此空（5）处需要生成一个WinImp对象，同时，还需设置该BMP对象，应采用WinImp对象来实现显示。采用桥接模式能够将文件分析代码和图像显示代码分解在不同的类层次结构中，如果不考虑中间使用的Matrix 等类，那么最后需要设计的类包括2个父类，对应文件格式子类，对应操作系统平台类，因此10种图像格式和5种操作系统需要17个类  


## 第7题 ##

【问题1】  
(1) this.imp  
(2) ImageImp  
(3) imp.doPaint(m)  
(4) newBMP()  
(5) new WinImp()  
(6) image1.setImp(imageImp1)  
(7) 17  
根据题目描述，在设计该图像显示系统时主要分为两个步骤：一是读取各种文件并将文件内容转换为像素矩阵，因为各种图片格式不同，因此需要计对每一种图片格式编 写文件读取代码，而该代码与操作系统平台无关。将像素矩阵显示到屏幕上时，由于和 操作系统相关，因此需要把该代码和读取文件代码相分离。设计中的Image类表示抽象的图像概念，Image类中就包含了读取文件接口和设置实现平台接口；Image的子类BMP、GIF和JPEG分别负责读取各种不同格式的文件；ImageImp的主要任务是将像素矩阵显 示在屏幕上，因此，它存在两个子类，分别实现Windows系统和Linux系统上的图像显 示代码。空缺（1）处主要是设置将在哪个平台上进行实现，因此该处应该存储参数所传递的对象，由于该类的成员变量也是imp，与参数相同，因此需要填写this.imp;同理，该成员变量的类型和参数的类型应该保持相同，空（2）处应该填写ImageImp；空（3）处需要根据imp成员变量存储的实现对象来显示图像；在空（4）处需要生成一个BMP 对象；由于需要在Windows平台上实现，因此空（5）处需要生成一个WinImp对象，同时，还需设置该BMP对象，应采用WinImp对象来实现显示。采用桥接模式能够将文件分析代码和图像显示代码分解在不同的类层次结构中，如界不考虑中间使用的Matrix 等类，那么最后需要设计的类包括2个父类，对应文件格式数目的子类，对应操作系统数目的平台类，因此10种图像格式和5种操作系统需要17个类。  



[31d9b9e6c4ba45db951fd0209b86b85c.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第1题/31d9b9e6c4ba45db951fd0209b86b85c.jpg
[acf15bf67b5f462291404c3e806f7d0d.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第2题/acf15bf67b5f462291404c3e806f7d0d.jpg
[3e09d1fa3e194937865ffbdf6a2709f7.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第4题/3e09d1fa3e194937865ffbdf6a2709f7.jpg
[6daae2d018be45dcbffeb6a468d115e0.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第4题/6daae2d018be45dcbffeb6a468d115e0.jpg
[dde68b11c362448493253c1fd70e201d.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第5题/dde68b11c362448493253c1fd70e201d.jpg
[becf74ae144341458fb58df1f1646b26.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第5题/becf74ae144341458fb58df1f1646b26.jpg
[48f8c102e6c3471cadddd52fdd5f96d4.jpg]: https://www.xkxxkx.cn/file/exam/software/软件设计师/案例/第5题/48f8c102e6c3471cadddd52fdd5f96d4.jpg
